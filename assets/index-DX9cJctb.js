(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=t(n);fetch(n.href,r)}})();function Kd(){Symbol.metadata??=Symbol.for("Symbol.metadata")}const es={get(i,e){return e[Symbol.metadata]?.[i]},define(i,e,...t){let s=Object.getOwnPropertyDescriptor(e,Symbol.metadata)?.value;s==null&&Object.defineProperty(e,Symbol.metadata,{value:s=Object.create(null),enumerable:!0,configurable:!0,writable:!0});const n=t.length;switch(n){case 0:throw new Error("At least one key must be provided");case 1:s[t[0]]=i;return;case 2:s[t[0]]=s[t[1]]=i;return;default:{for(let r=0;r<n;++r)s[t[r]]=i;return}}},has(i,e){const t=e[Symbol.metadata];return t==null?!1:i in t}},Cn=Object.freeze,Tc=Object.assign,Gd=String,Et=es.get,fn=es.define,ke=i=>i instanceof Promise,we=i=>i instanceof Array,$i=i=>i instanceof Set,hs=i=>i instanceof Map,Ec=i=>i instanceof Object;function Qn(i){return typeof i=="object"&&i!==null||typeof i=="function"}const ee=i=>typeof i=="function",G=i=>typeof i=="string",Zd=i=>typeof i=="symbol",Jd=i=>typeof i=="number",se=()=>Object.create(null),Jt=Object.is,xe=(i,...e)=>{const t=Gd(i).padStart(4,"0"),s=Yd(i,...e),n=`https://docs.aurelia.io/developer-guides/error-messages/0001-to-0023/aur${t}`;return new Error(`AUR${t}: ${s}\\n\\nFor more information, see: ${n}`)},Xd={1:"No registration for interface: '{{0}}'",2:`'{{0}}' was registered with "none" resolver, are you injecting the right key?`,3:"Cyclic dependency found: {{0}}",4:"Resolver for {{0}} returned a null factory",5:"Invalid resolver strategy specified: {{0}}. Did you assign an invalid strategy value?",6:"Unable to autoregister dependency: {{0}}",7:'Resource key "{{0}}" already registered',8:"Unable to resolve key: {{0}}",9:"Attempted to jitRegister something that is not a constructor: '{{0}}'. Did you forget to register this resource?",10:'Attempted to jitRegister an intrinsic type: "{{0}}". Did you forget to add @inject(Key)',11:"Invalid resolver, null/undefined returned from the static register method.",12:"Attempted to jitRegister an interface: {{0}}",13:"Cannot call resolve '{{0}}' before calling prepare or after calling dispose.",14:"Key cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?A common cause is circular dependency with bundler, did you accidentally introduce circular dependency into your module graph?",15:"'{{0}}' is a native function and cannot be safely constructed by DI. If this is intentional, please use a callback or cachedCallback resolver.",16:'There is not a currently active container to resolve "{{0}}". Are you trying to "new Class(...)" that has a resolve(...) call?',17:"Failed to instantiate '{{0}}' via @newInstanceOf/@newInstanceForScope, there's no registration and no default implementation, or the default implementation does not result in factory for constructing the instances.",18:"Invalid channel name or instance: '{{0}}'.",19:"Invalid channel name or type: {{0}}.",20:"No defined value found when calling firstDefined()",21:"Invalid module transform input: {{0}}. Expected Promise or Object.",22:"The @inject decorator on the target ('{{0}}') type '{{1}}' is not supported.",23:"Resource key '{{0}}' has already been registered."},Yd=(i,...e)=>{let t=Xd[i];for(let s=0;s<e.length;++s)t=t.replace(`{{${s}}}`,String(e[s]));return t},bi=(...i)=>globalThis.console.error(...i),pn=(()=>{const i={};let e=!1,t=0,s=0,n=0;return r=>{switch(typeof r){case"number":return r>=0&&(r|0)===r;case"string":if(e=i[r],e!==void 0)return e;if(t=r.length,t===0)return i[r]=!1;for(s=0,n=0;n<t;++n)if(s=r.charCodeAt(n),n===0&&s===48&&t>1||s<48||s>57)return i[r]=!1;return i[r]=!0;default:return!1}}})(),Bc=(function(){const i=Tc(se(),{0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0}),e=t=>t===""?0:t!==t.toUpperCase()?3:t!==t.toLowerCase()?2:i[t]===!0?1:0;return(t,s)=>{const n=t.length;if(n===0)return t;let r=!1,o="",a,c="",l=0,h=t.charAt(0),u=e(h),d=0;for(;d<n;++d)a=l,c=h,l=u,h=t.charAt(d+1),u=e(h),l===0?o.length>0&&(r=!0):(!r&&o.length>0&&l===2&&(r=a===3||u===3),o+=s(c,r),r=!1);return o}})(),Te=(function(){const i=se(),e=(t,s)=>s?t.toUpperCase():t.toLowerCase();return t=>{let s=i[t];return s===void 0&&(s=i[t]=Bc(t,e)),s}})(),Pc=(function(){const i=se();return e=>{let t=i[e];return t===void 0&&(t=Te(e),t.length>0&&(t=t[0].toUpperCase()+t.slice(1)),i[e]=t),t}})(),Lc=(function(){const i=se(),e=(t,s)=>s?`-${t.toLowerCase()}`:t.toLowerCase();return t=>{let s=i[t];return s===void 0&&(s=i[t]=Bc(t,e)),s}})(),Or=i=>{const e=i.length,t=Array(e);let s=0;for(;s<e;++s)t[s]=i[s];return t},Js=(i,e)=>{const t=e.name;e.addInitializer(function(){Reflect.defineProperty(this,t,{value:i.bind(this),writable:!0,configurable:!0,enumerable:!1})})},ye=(...i)=>{const e=[];let t=0;const s=i.length;let n=0,r,o=0;for(;o<s;++o)if(r=i[o],r!==void 0){n=r.length;let a=0;for(;a<n;++a)e[t++]=r[a]}return e},as=(...i)=>{const e=i.length;let t,s=0;for(;e>s;++s)if(t=i[s],t!==void 0)return t;throw xe(20)},ef=(function(){const i=Function.prototype,e=Object.getPrototypeOf,t=new WeakMap;let s=i,n=0,r;return function(o){if(r=t.get(o),r===void 0)for(t.set(o,r=[s=o]),n=0;(s=e(s))!==i;)r[++n]=s;return r}})();function mo(...i){return Tc(se(),...i)}const Xa=(()=>{const i=new WeakMap;let e=!1,t="",s=0;return n=>(e=i.get(n),e==null&&(s=(t=n.toString()).length,e=s>28&&t.indexOf("[native code] }")===s-15,i.set(n,e)),e)})(),z=(i,e)=>ke(i)?i.then(e):e(i),$e=(...i)=>{let e,t,s,n=0,r=i.length;for(;n<r;++n)e=i[n],ke(e=i[n])&&(t===void 0?t=e:s===void 0?s=[t,e]:s.push(e));return s===void 0?t:Promise.all(s)},tf=(i,e)=>new vt(i,0,e),gn=(i,e)=>new vt(i,1,e),Rc=(i,e)=>new vt(i,2,e),sf=(i,e)=>new vt(i,3,e),nf=(i,e)=>new vt(i,3,Oc(e)),Kn=(i,e)=>new vt(e,5,i),rf=(i,...e)=>new yf(i,e),Ya=new WeakMap,Oc=i=>(e,t,s)=>{let n=Ya.get(e);if(n===void 0&&Ya.set(e,n=new WeakMap),n.has(s))return n.get(s);const r=i(e,t,s);return n.set(s,r),r},Vs={instance:tf,singleton:gn,transient:Rc,callback:sf,cachedCallback:nf,aliasTo:Kn,defer:rf},An=function(i){return function(t){t.register(gn(this,this),Kn(this,i))}},Ds="au:annotation",us=(i,e)=>e===void 0?`${Ds}:${i}`:`${Ds}:${i}:${e}`,of=(i,e)=>{const t=Et(Ds,i);t===void 0?fn([e],i,Ds):t.push(e)},af=Cn({name:"au:annotation",appendTo:of,set(i,e,t){fn(t,i,us(e))},get:(i,e)=>Et(us(e),i),getKeys(i){let e=Et(Ds,i);return e===void 0&&fn(e=[],i,Ds),e},isKey:i=>i.startsWith(Ds),keyFor:us}),xt="au:resource",Gs=(i,e,t)=>`${xt}:${i}`,Mc={annotation:af},Nc=Object.prototype.hasOwnProperty;function Ge(i,e,t,s){let n=Et(us(i),t);return n===void 0?(n=e[i],n===void 0?(n=t[i],n===void 0||!Nc.call(t,i)?s():n):n):n}function ft(i,e,t){let s=Et(us(i),e);return s===void 0?(s=e[i],s===void 0||!Nc.call(e,i)?t():s):s}function Ct(i,e,t){const s=e[i];return s===void 0?t():s}const Mt=Symbol.for("au:registrable"),lf={singleton:i=>new vt(i,1,i)};class Tt{constructor(e,t){this.inheritParentResources=e,this.defaultResolver=t}static from(e){return e===void 0||e===Tt.DEFAULT?Tt.DEFAULT:new Tt(e.inheritParentResources??!1,e.defaultResolver??lf.singleton)}}Tt.DEFAULT=Tt.from({});const cf=i=>new Ki(null,Tt.from(i)),hf=new Set("Array ArrayBuffer Boolean DataView Date Error EvalError Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Number Object Promise RangeError ReferenceError RegExp Set SharedArrayBuffer String SyntaxError TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array URIError WeakMap WeakSet".split(" "));let uf=0,ue=null;class Ki{get depth(){return this._parent===null?0:this._parent.depth+1}get parent(){return this._parent}constructor(e,t){if(this.id=++uf,this._registerDepth=0,this._disposableResolvers=new Map,this._parent=e,this.config=t,this._resolvers=new Map,this.res={},e===null)this.root=this,this._factories=new Map;else if(this.root=e.root,this._factories=e._factories,t.inheritParentResources)for(const s in e.res)this.registerResolver(s,e.res[s]);this._resolvers.set(Sn,ff)}register(...e){if(++this._registerDepth===100)throw xe(6,...e);let t,s,n,r,o,a=0,c=e.length,l;for(;a<c;++a)if(t=e[a],!!Qn(t))if(Vi(t))t.register(this);else if((l=Et(xt,t))!=null)l.register(this);else if(gf(t)){const h=t[Symbol.metadata]?.[Mt];if(Vi(h))h.register(this);else if(G(t.$au?.type)){const u=t.$au,d=(t.aliases??W).concat(u.aliases??W);let p=`${xt}:${u.type}:${u.name}`;if(this.has(p,!1)){globalThis.console?.warn(xe(7,p));continue}for(Kn(t,p).register(this),this.has(t,!1)||gn(t,t).register(this),r=0,o=d.length;r<o;++r){if(p=`${xt}:${u.type}:${d[r]}`,this.has(p,!1)){globalThis.console?.warn(xe(7,p));continue}Kn(t,p).register(this)}}else gn(t,t).register(this)}else for(s=Object.keys(t),r=0,o=s.length;r<o;++r)n=t[s[r]],Qn(n)&&(Vi(n)?n.register(this):this.register(n));return--this._registerDepth,this}registerResolver(e,t,s=!1){Oi(e);const n=this._resolvers,r=n.get(e);if(r==null){if(n.set(e,t),Mr(e)){if(this.res[e]!==void 0)throw xe(7,e);this.res[e]=t}}else r instanceof vt&&r._strategy===4?r._state.push(t):n.set(e,new vt(e,4,[r,t]));return s&&this._disposableResolvers.set(e,t),t}deregister(e){Oi(e);const t=this._resolvers.get(e);t!=null&&(this._resolvers.delete(e),Mr(e)&&delete this.res[e],this._disposableResolvers.has(e)&&(t.dispose(),this._disposableResolvers.delete(e)))}registerTransformer(e,t){const s=this.getResolver(e);if(s==null)return!1;if(s.getFactory){const n=s.getFactory(this);return n==null?!1:(n.registerTransformer(t),!0)}return!1}getResolver(e,t=!0){if(Oi(e),e.resolve!==void 0)return e;const s=ue;let n=ue=this,r,o;try{for(;n!=null;)if(r=n._resolvers.get(e),r==null){if(n._parent==null)return o=sl(e)?this:n,t?this._jitRegister(e,o):null;n=n._parent}else return r}finally{ue=s}return null}has(e,t=!1){return this._resolvers.has(e)||Mr(e)&&e in this.res||((t&&this._parent?.has(e,!0))??!1)}get(e){if(Oi(e),e.$isResolver)return e.resolve(this,this);const t=ue;let s=ue=this,n,r;try{for(;s!=null;)if(n=s._resolvers.get(e),n==null){if(s._parent==null)return r=sl(e)?this:s,n=this._jitRegister(e,r),n.resolve(s,this);s=s._parent}else return n.resolve(s,this)}finally{ue=t}throw xe(8,e)}getAll(e,t=!1){Oi(e);const s=ue,n=ue=this;let r=n,o,a=W;try{if(t){for(;r!=null;)o=r._resolvers.get(e),o!=null&&(a=a.concat(tl(o,r,n))),r=r._parent;return a}for(;r!=null;)if(o=r._resolvers.get(e),o==null){if(r=r._parent,r==null)return W}else return tl(o,r,n)}finally{ue=s}return W}invoke(e,t){if(Xa(e))throw xe(15,e);const s=ue;ue=this;{let n,r;try{n=ai(e).map(o=>this.get(r=o))}catch(o){throw bi(`[DEV:aurelia] Error during construction of ${e.name?e.name:`(Anonymous) ${String(e)}`}, caused by dependency: ${String(r)}`),ue=s,o}try{return t===void 0?new e(...n):new e(...n,...t)}catch(o){throw bi(`[DEV:aurelia] Error during construction of ${e.name?e.name:`(Anonymous) ${String(e)}`}`),o}finally{ue=s}}try{return t===void 0?new e(...ai(e).map(mn,this)):new e(...ai(e).map(mn,this),...t)}finally{ue=s}}hasFactory(e){return this._factories.has(e)}getFactory(e){let t=this._factories.get(e);if(t===void 0){if(Xa(e))throw xe(15,e);this._factories.set(e,t=new df(e,ai(e)))}return t}registerFactory(e,t){this._factories.set(e,t)}createChild(e){return e===void 0&&this.config.inheritParentResources?this.config===Tt.DEFAULT?new Ki(this,this.config):new Ki(this,Tt.from({...this.config,inheritParentResources:!1})):new Ki(this,Tt.from(e??this.config))}disposeResolvers(){const e=this._resolvers,t=this._disposableResolvers;let s,n;for([n,s]of t.entries())s.dispose?.(),e.delete(n);t.clear()}useResources(e){const t=e.res;for(const s in t)this.registerResolver(s,t[s])}find(e,t){const s=G(t)?`${xt}:${e}:${t}`:e;let n=this,r=n.res[s];return r==null&&(n=n.root,r=n.res[s]),r==null?null:r.getFactory?.(n)?.Type??null}dispose(){this._disposableResolvers.size>0&&this.disposeResolvers(),this._resolvers.clear(),this.root===this&&(this._factories.clear(),this.res={})}_jitRegister(e,t){const s=Vi(e);if(!ee(e)&&!s)throw xe(9,e);if(hf.has(e.name))throw xe(10,e);if(s){const r=e.register(t,e);if(!(r instanceof Object)||r.resolve==null){const o=t._resolvers.get(e);if(o!=null)return o;throw xe(11,e)}return r}if(e.$isInterface)throw xe(12,e.friendlyName);const n=this.config.defaultResolver(e,t);return t._resolvers.set(e,n),n}}class df{constructor(e,t){this.Type=e,this.dependencies=t,this.transformers=null}construct(e,t){const s=ue;ue=e;let n;{let r,o;try{r=this.dependencies.map(a=>e.get(o=a))}catch(a){throw bi(`[DEV:aurelia] Error during construction of ${this.Type.name?this.Type.name:`(Anonymous) ${String(this.Type)}`}, caused by dependency: ${String(o)}`),ue=s,a}try{return t===void 0?n=new this.Type(...r):n=new this.Type(...r,...t),this.transformers==null?n:this.transformers.reduce(el,n)}catch(a){throw bi(`[DEV:aurelia] Error during construction of ${this.Type.name?this.Type.name:`(Anonymous) ${String(this.Type)}`}`),a}finally{ue=s}}try{return t===void 0?n=new this.Type(...this.dependencies.map(mn,e)):n=new this.Type(...this.dependencies.map(mn,e),...t),this.transformers==null?n:this.transformers.reduce(el,n)}finally{ue=s}}registerTransformer(e){(this.transformers??=[]).push(e)}}function el(i,e){return e(i)}function Oi(i){if(i==null)throw xe(14)}function mn(i){return this.get(i)}function I(...i){if(ue==null)throw xe(16,...i);if(i.length===1)try{return ue.get(i[0])}catch(e){throw bi(`[DEV:aurelia] resolve() call error for: ${String(i[0])}`),e}else{let e;try{return i.map(t=>ue.get(e=t))}catch(t){throw bi(`[DEV:aurelia] resolve() call error for: ${String(e)}`),t}}return i.length===1?ue.get(i[0]):i.map(mn,ue)}const tl=(i,e,t)=>{if(i instanceof vt&&i._strategy===4){const s=i._state,n=s.length,r=Array(n);let o=0;for(;o<n;++o)r[o]=s[o].resolve(e,t);return r}return[i.resolve(e,t)]},ff={$isResolver:!0,resolve(i,e){return e}},Vi=i=>ee(i?.register),pf=i=>Vi(i)&&typeof i.registerInRequestor=="boolean",sl=i=>pf(i)&&i.registerInRequestor,gf=i=>i.prototype!==void 0,Mr=i=>G(i)&&i.indexOf(":")>0;class mf{constructor(e,t){this._container=e,this._key=t}instance(e){return this._registerResolver(0,e)}singleton(e){return this._registerResolver(1,e)}transient(e){return this._registerResolver(2,e)}callback(e){return this._registerResolver(3,e)}cachedCallback(e){return this._registerResolver(3,Oc(e))}aliasTo(e){return this._registerResolver(5,e)}_registerResolver(e,t){const{_container:s,_key:n}=this;return this._container=this._key=void 0,s.registerResolver(n,new vt(n,e,t))}}const Mi=i=>{const e=i.slice(),t=Object.keys(i),s=t.length;let n;for(let r=0;r<s;++r)n=t[r],pn(n)||(e[n]=i[n]);return e},Dc=us("di:paramtypes"),vf=i=>Et(Dc,i),Fc=i=>Et("design:paramtypes",i),il=i=>i.metadata[Dc]??=[],ai=i=>{const e=us("di:dependencies");let t=Et(e,i);if(t===void 0){const s=i.inject;if(s===void 0){const n=Fc(i),r=vf(i);if(n===void 0)if(r===void 0){const o=Object.getPrototypeOf(i);ee(o)&&o!==Function.prototype?t=Mi(ai(o)):t=[]}else t=Mi(r);else if(r===void 0)t=Mi(n);else{t=Mi(n);let o=r.length,a,c=0;for(;c<o;++c)a=r[c],a!==void 0&&(t[c]=a);const l=Object.keys(r);let h;for(c=0,o=l.length,c=0;c<o;++c)h=l[c],pn(h)||(t[h]=r[h])}}else t=Mi(s);fn(t,i,e)}return t},bs=(i,e)=>{const t=ee(i)?i:e,s=(G(i)?i:void 0)??"(anonymous)",n={$isInterface:!0,friendlyName:s,toString:()=>`InterfaceSymbol<${s}>`,register:t!=null?(r,o)=>t(new mf(r,o??n)):void 0};return n},ea=(...i)=>(e,t)=>{switch(t.kind){case"class":{const s=il(t);let n,r=0;for(;r<i.length;++r)n=i[r],n!==void 0&&(s[r]=n);break}case"field":{const s=il(t),n=i[0];n!==void 0&&(s[t.name]=n);break}default:throw xe(22,String(t.name),t.kind)}},_s=(Kd(),{createContainer:cf,getDesignParamtypes:Fc,getDependencies:ai,createInterface:bs,inject:ea,transient(i){return i.register=function(e){return Rc(i,i).register(e,i)},i.registerInRequestor=!1,i},singleton(i,e=wf){return i.register=function(t){return gn(i,i).register(t,i)},i.registerInRequestor=e.scoped,i}}),Sn=bs("IContainer"),bf=Sn;function nl(i,e){return _s.transient(i)}function _f(i,e){return i==null?nl:nl(i)}const wf={scoped:!1};class vt{get $isResolver(){return!0}constructor(e,t,s){this._resolving=!1,this._cachedFactory=null,this._key=e,this._strategy=t,this._state=s}register(e,t){return e.registerResolver(t||this._key,this)}resolve(e,t){switch(this._strategy){case 0:return this._state;case 1:{if(this._resolving)throw xe(3,this._state.name);return this._resolving=!0,this._state=(this._cachedFactory=e.getFactory(this._state)).construct(t),this._strategy=0,this._resolving=!1,this._state}case 2:{const s=e.getFactory(this._state);if(s===null)throw xe(4,this._key);return s.construct(t)}case 3:return this._state(e,t,this);case 4:return this._state[0].resolve(e,t);case 5:return t.get(this._state);default:throw xe(5,this._strategy)}}getFactory(e){switch(this._strategy){case 1:case 2:return e.getFactory(this._state);case 5:return e.getResolver(this._state)?.getFactory?.(e)??null;case 0:return this._cachedFactory;default:return null}}}class Ce{get friendlyName(){return this._name}constructor(e,t=null,s=null){this._name=e,this._instance=t,this._Type=s}prepare(e){this._instance=e}get $isResolver(){return!0}resolve(){if(this._instance==null)throw xe(13,this._name);return this._instance}getFactory(e){return this._Type==null?null:e.getFactory(this._Type)}dispose(){this._instance=null}}class yf{constructor(e,t){this.key=e,this.params=t}register(e){e.has(this.key,!0)?e.get(this.key).register(e,...this.params):e.register(...this.params.filter(t=>typeof t=="object"))}}const W=Cn([]),kf=Cn({});function ht(){}const xi=bs("IPlatform");function $n(i){return function(e){function t(s,n){ea(t)(s,n)}return t.$isResolver=!0,t.resolve=function(s,n){return i(e,s,n)},t}}const ta=(i,e=!1)=>{function t(s,n){ea(t)(s,n)}return t.$isResolver=!0,t.resolve=(s,n)=>n.getAll(i,e),t},Vc=$n((i,e,t)=>{if(t.has(i,!0))return t.get(i)}),Cf=$n((i,e,t)=>t.has(i,!1)?t.get(i):void 0),_i=$n((i,e,t)=>t.has(i,!1)?t.get(i):t.root.get(i)),Af=$n((i,e,t)=>t.has(i,!1)?t.get(i):t.root.has(i,!1)?t.root.get(i):void 0),Sf=$n((i,e,t)=>t===t.root?t.getAll(i,!1):t.has(i,!1)?t.getAll(i,!1).concat(t.root.getAll(i,!1)):t.root.getAll(i,!1));function Xs(i,e,t,s,n,r){function o(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var a=s.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=i?s.static?i:i.prototype:null,h=l?Object.getOwnPropertyDescriptor(l,s.name):{},u,d=!1,p=t.length-1;p>=0;p--){var m={};for(var f in s)m[f]=f==="access"?{}:s[f];for(var f in s.access)m.access[f]=s.access[f];m.addInitializer=function(w){if(d)throw new TypeError("Cannot add initializers after decoration has completed");r.push(o(w||null))};var g=(0,t[p])(a==="accessor"?{get:h.get,set:h.set}:h[c],m);if(a==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(u=o(g.get))&&(h.get=u),(u=o(g.set))&&(h.set=u),(u=o(g.init))&&n.unshift(u)}else(u=o(g))&&(a==="field"?n.unshift(u):h[c]=u)}l&&Object.defineProperty(l,s.name,h),d=!0}function $f(i,e,t){for(var s=arguments.length>2,n=0;n<e.length;n++)t=s?e[n].call(i,t):e[n].call(i);return s?t:void 0}const Gi=0,Zi=1,Ji=2,pi=3,Xi=4,Yi=5,xf=6,If=Cn({trace:Gi,debug:Zi,info:Ji,warn:pi,error:Xi,fatal:Yi,none:xf}),jc=bs("ILogConfig",i=>i.instance(new Lf("no-colors",pi))),Tf=bs("ISink"),Ef=bs("ILogEventFactory",i=>i.singleton(Of)),js=bs("ILogger",i=>i.singleton(Mf)),Bf=bs("ILogScope"),Pf=Cn({key:us("logger-sink-handles"),define(i,e){fn(e.handles,i,this.key)},getHandles(i){return Et(this.key,i.constructor)}}),Ut=mo({red(i){return`\x1B[31m${i}\x1B[39m`},green(i){return`\x1B[32m${i}\x1B[39m`},yellow(i){return`\x1B[33m${i}\x1B[39m`},blue(i){return`\x1B[34m${i}\x1B[39m`},magenta(i){return`\x1B[35m${i}\x1B[39m`},cyan(i){return`\x1B[36m${i}\x1B[39m`},white(i){return`\x1B[37m${i}\x1B[39m`},grey(i){return`\x1B[90m${i}\x1B[39m`}});class Lf{constructor(e,t){this.colorOptions=e,this.level=t}}const Nr=(function(){const i={"no-colors":mo({TRC:"TRC",DBG:"DBG",INF:"INF",WRN:"WRN",ERR:"ERR",FTL:"FTL",QQQ:"???"}),colors:mo({TRC:Ut.grey("TRC"),DBG:Ut.grey("DBG"),INF:Ut.white("INF"),WRN:Ut.yellow("WRN"),ERR:Ut.red("ERR"),FTL:Ut.red("FTL"),QQQ:Ut.grey("???")})};return(e,t)=>e<=Gi?i[t].TRC:e<=Zi?i[t].DBG:e<=Ji?i[t].INF:e<=pi?i[t].WRN:e<=Xi?i[t].ERR:e<=Yi?i[t].FTL:i[t].QQQ})(),rl=(i,e)=>e==="no-colors"?i.join("."):i.map(Ut.cyan).join("."),Dr=(i,e)=>e==="no-colors"?new Date(i).toISOString():Ut.grey(new Date(i).toISOString());class Rf{constructor(e,t,s,n,r,o){this.severity=e,this.message=t,this.optionalParams=s,this.scope=n,this.colorOptions=r,this.timestamp=o}toString(){const{severity:e,message:t,scope:s,colorOptions:n,timestamp:r}=this;return s.length===0?`${Dr(r,n)} [${Nr(e,n)}] ${t}`:`${Dr(r,n)} [${Nr(e,n)} ${rl(s,n)}] ${t}`}getFormattedLogInfo(e=!1){const{severity:t,message:s,scope:n,colorOptions:r,timestamp:o,optionalParams:a}=this;let c=null,l="";e&&s instanceof Error?c=s:l=s;const h=n.length===0?"":` ${rl(n,r)}`;let u=`${Dr(o,r)} [${Nr(t,r)}${h}] ${l}`;if(a===void 0||a.length===0)return c===null?[u]:[u,c];let d=0;for(;u.includes("%s");)u=u.replace("%s",String(a[d++]));return c!==null?[u,c,...a.slice(d)]:[u,...a.slice(d)]}}class Of{constructor(){this.config=I(jc)}createLogEvent(e,t,s,n){return new Rf(t,s,n,e.scope,this.config.colorOptions,Date.now())}}let Mf=(()=>{var i;let e=[],t,s,n,r,o,a;return i=class{constructor(l=I(jc),h=I(Ef),u=I(ta(Tf)),d=I(Vc(Bf))??[],p=null){this.scope=($f(this,e),d),this._scopedLoggers=se();let m,f,g,w,$,B;if(this.config=l,this._factory=h,this.sinks=u,p===null){this.root=this,this.parent=this,m=this._traceSinks=[],f=this._debugSinks=[],g=this._infoSinks=[],w=this._warnSinks=[],$=this._errorSinks=[],B=this._fatalSinks=[];for(const C of u){const S=Pf.getHandles(C);(S?.includes(Gi)??!0)&&m.push(C),(S?.includes(Zi)??!0)&&f.push(C),(S?.includes(Ji)??!0)&&g.push(C),(S?.includes(pi)??!0)&&w.push(C),(S?.includes(Xi)??!0)&&$.push(C),(S?.includes(Yi)??!0)&&B.push(C)}}else this.root=p.root,this.parent=p,m=this._traceSinks=p._traceSinks,f=this._debugSinks=p._debugSinks,g=this._infoSinks=p._infoSinks,w=this._warnSinks=p._warnSinks,$=this._errorSinks=p._errorSinks,B=this._fatalSinks=p._fatalSinks}trace(l,...h){this.config.level<=Gi&&this._emit(this._traceSinks,Gi,l,h)}debug(l,...h){this.config.level<=Zi&&this._emit(this._debugSinks,Zi,l,h)}info(l,...h){this.config.level<=Ji&&this._emit(this._infoSinks,Ji,l,h)}warn(l,...h){this.config.level<=pi&&this._emit(this._warnSinks,pi,l,h)}error(l,...h){this.config.level<=Xi&&this._emit(this._errorSinks,Xi,l,h)}fatal(l,...h){this.config.level<=Yi&&this._emit(this._fatalSinks,Yi,l,h)}scopeTo(l){const h=this._scopedLoggers;let u=h[l];return u===void 0&&(u=h[l]=new i(this.config,this._factory,null,this.scope.concat(l),this)),u}_emit(l,h,u,d){const p=ee(u)?u():u,m=this._factory.createLogEvent(this,h,p,d);for(let f=0,g=l.length;f<g;++f)l[f].handleEvent(m)}},(()=>{const c=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[Js],s=[Js],n=[Js],r=[Js],o=[Js],a=[Js],Xs(i,null,t,{kind:"method",name:"trace",static:!1,private:!1,access:{has:l=>"trace"in l,get:l=>l.trace},metadata:c},null,e),Xs(i,null,s,{kind:"method",name:"debug",static:!1,private:!1,access:{has:l=>"debug"in l,get:l=>l.debug},metadata:c},null,e),Xs(i,null,n,{kind:"method",name:"info",static:!1,private:!1,access:{has:l=>"info"in l,get:l=>l.info},metadata:c},null,e),Xs(i,null,r,{kind:"method",name:"warn",static:!1,private:!1,access:{has:l=>"warn"in l,get:l=>l.warn},metadata:c},null,e),Xs(i,null,o,{kind:"method",name:"error",static:!1,private:!1,access:{has:l=>"error"in l,get:l=>l.error},metadata:c},null,e),Xs(i,null,a,{kind:"method",name:"fatal",static:!1,private:!1,access:{has:l=>"fatal"in l,get:l=>l.fatal},metadata:c},null,e),c&&Object.defineProperty(i,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:c})})(),i})();const zc="AccessThis",Nf="AccessBoundary",sa="AccessGlobal",ia="AccessScope",Df="ArrayLiteral",Ff="ObjectLiteral",Vf="PrimitiveLiteral",jf="New",zf="Template",Hf="Unary",Wf="CallScope",Uf="CallMember",qf="CallFunction",Qf="CallGlobal",gr="AccessMember",Hc="AccessKeyed",Kf="TaggedTemplate",Gf="Binary",Zf="Conditional",Jf="Assign",Xf="ArrowFunction",Yf="ValueConverter",ep="BindingBehavior",Wc="ArrayBindingPattern",Uc="ObjectBindingPattern",qc="BindingIdentifier",tp="ForOfStatement",sp="Interpolation",Qc="ArrayDestructuring",ip="ObjectDestructuring",np="DestructuringAssignmentLeaf",rp="Custom";class Kc{constructor(e){this.value=e,this.$kind=rp}evaluate(...e){return this.value}assign(...e){return e}bind(...e){}unbind(...e){}accept(e){}}class op{constructor(e,t,s){this.expression=e,this.name=t,this.args=s,this.$kind=ep,this.key=`_bb_${t}`}}class ap{constructor(e,t,s){this.expression=e,this.name=t,this.args=s,this.$kind=Yf}}class lp{constructor(e,t,s="="){this.target=e,this.value=t,this.op=s,this.$kind=Jf}}class cp{constructor(e,t,s){this.condition=e,this.yes=t,this.no=s,this.$kind=Zf}}class hp{constructor(e){this.name=e,this.$kind=sa}}class en{constructor(e=0){this.ancestor=e,this.$kind=zc}}class up{constructor(){this.$kind=Nf}}class tn{constructor(e,t=0){this.name=e,this.ancestor=t,this.$kind=ia}}const Gc=i=>i.$kind===sa||(i.$kind===gr||i.$kind===Hc)&&i.accessGlobal;class vo{constructor(e,t,s=!1){this.object=e,this.name=t,this.optional=s,this.$kind=gr,this.accessGlobal=Gc(e)}}class Zc{constructor(e,t,s=!1){this.object=e,this.key=t,this.optional=s,this.$kind=Hc,this.accessGlobal=Gc(e)}}class dp{constructor(e,t){this.func=e,this.args=t,this.$kind=jf}}class Jc{constructor(e,t,s=0,n=!1){this.name=e,this.args=t,this.ancestor=s,this.optional=n,this.$kind=Wf}}class Gn{constructor(e,t,s,n=!1,r=!1){this.object=e,this.name=t,this.args=s,this.optionalMember=n,this.optionalCall=r,this.$kind=Uf}}class Fn{constructor(e,t,s=!1){this.func=e,this.args=t,this.optional=s,this.$kind=qf}}class fp{constructor(e,t){this.name=e,this.args=t,this.$kind=Qf}}class pp{constructor(e,t,s){this.operation=e,this.left=t,this.right=s,this.$kind=Gf}}class ol{constructor(e,t,s=0){this.operation=e,this.expression=t,this.pos=s,this.$kind=Hf}}class Ee{constructor(e){this.value=e,this.$kind=Vf}}Ee.$undefined=new Ee(void 0);Ee.$null=new Ee(null);Ee.$true=new Ee(!0);Ee.$false=new Ee(!1);Ee.$empty=new Ee("");class bo{constructor(e){this.elements=e,this.$kind=Df}}bo.$empty=new bo(W);class _o{constructor(e,t){this.keys=e,this.values=t,this.$kind=Ff}}_o.$empty=new _o(W,W);class Zn{constructor(e,t=W){this.cooked=e,this.expressions=t,this.$kind=zf}}Zn.$empty=new Zn([""]);class Xc{constructor(e,t,s,n=W){this.cooked=e,this.func=s,this.expressions=n,this.$kind=Kf,e.raw=t}}class gp{constructor(e){this.elements=e,this.$kind=Wc}}class mp{constructor(e,t){this.keys=e,this.values=t,this.$kind=Uc}}class Jn{constructor(e){this.name=e,this.$kind=qc}}class vp{constructor(e,t,s){this.declaration=e,this.iterable=t,this.semiIdx=s,this.$kind=tp}}class bp{constructor(e,t=W){this.parts=e,this.expressions=t,this.$kind=sp,this.isMulti=t.length>1,this.firstExpression=t[0]}}class _p{constructor(e,t,s,n){this.$kind=e,this.list=t,this.source=s,this.initializer=n}}class Yc{constructor(e,t,s){this.target=e,this.source=t,this.initializer=s,this.$kind=np}}class wo{constructor(e,t,s=!1){this.args=e,this.body=t,this.rest=s,this.$kind=Xf}}const yo=String,Vn=()=>Object.create(null),re=(i,...e)=>new Error(`AUR${yo(i).padStart(4,"0")}: ${yp(i,...e)}`),wp={99:"Method {{0}} not implemented",101:'Ast eval error: binding behavior "{{0}}" could not be found. Did you forget to register it as a dependency?',102:'Ast eval error: binding behavior "{{0}}" already applied.',103:'Ast eval error: value converter "{{0}}" could not be found. Did you forget to register it as a dependency?',105:"Ast eval error: unable to find $host context. Did you forget [au-slot] attribute?",106:'Ast eval error: invalid assignment. "$host" is a reserved keyword.',107:"Ast eval error: expression is not a function.",109:'Ast eval error: unknown unary operator: "{{0}}"',108:'Ast eval error: unknown binary operator: "{{0}}"',110:"Ast eval error: left-hand side of tagged template expression is not a function.",111:'Ast eval error: expected "{{0}}" to be a function',112:"Ast eval error: cannot use non-object value for destructuring assignment.",151:'Expression error: invalid start: "{{0}}"',152:'Expression error: spread operator is not supported: "{{0}}"',153:'Expression error: expected identifier: "{{0}}"',154:'Expression error: invalid member expression: "{{0}}"',155:'Expression error: unexpected end of expression: "{{0}}"',156:'Expression error: unconsumed token: "{{0}}" at position {{1}} of "{{2}}"',157:"Expression error: invalid empty expression. Empty expression is only valid in event bindings (trigger, delegate, capture etc...)",158:'Expression error: left hand side of expression is not assignable: "{{0}}"',159:'Expression error: expected identifier to come after value converter operator: "{{0}}"',160:"Expression error: expected identifier to come after binding behavior operator: {{0}}",161:'Expression error: unexpected keyword "of": "{{0}}"',162:'Expression error: unexpected keyword "import": "{{0}}"',163:'Expression error: invalid BindingIdentifier at left hand side of "of": "{{0}}" | kind: {{1}}',164:'Expression error: invalid or unsupported property definition in object literal: "{{0}}"',165:'Expression error: unterminated quote in string literal: "{{0}}"',166:'Expression error: unterminated template string: "{{0}}"',167:'Expression error: missing expected token "{{0}}" in "{{1}}"',168:'Expression error: unexpected character: "{{0}}"',170:'Expression error: unexpected "{{0}}" at position "{{1}}" for destructuring assignment in "{{2}}"',171:'Expression error: unexpected {{0}} at position "{{1}}" for optional chain in "{{2}}"',172:'Expression error: invalid tagged template on optional chain in "{{1}}"',173:'Expression error: invalid arrow parameter list in "{{0}}"',174:'Expression error: arrow function with default parameters is not supported: "{{0}}"',175:'Expression error: arrow function with destructuring parameters is not supported: "{{0}}"',176:'Expression error: rest parameter must be last formal parameter in arrow function: "{{0}}"',178:'Expression error: arrow function with function body is not supported: "{{0}}"',179:`Expression error: unexpected token '.' at position "{{1}}" in "{{0}}"`},yp=(i,...e)=>{let t=wp[i];for(let s=0;s<e.length;++s){const n=new RegExp(`{{${s}(:.*)?}}`,"g");let r=n.exec(t);for(;r!=null;){const o=r[1]?.slice(1);let a=e[s];if(a!=null)switch(o){case"toString":a=Object.prototype.toString.call(a);break;case"join(!=)":a=a.join("!=");break;case"element":a=a==="*"?"all elements":`<${a} />`;break;default:o?.startsWith(".")?a=yo(a[o.slice(1)]):a=yo(a)}t=t.slice(0,r.index)+a+t.slice(n.lastIndex),r=n.exec(t)}}return t},Ii=_s.createInterface("IExpressionParser");class eh{constructor(){this._expressionLookup=Vn(),this._forOfLookup=Vn(),this._interpolationLookup=Vn()}parse(e,t){let s;switch(t){case ih:return new Kc(e);case Xn:return s=this._interpolationLookup[e],s===void 0&&(s=this._interpolationLookup[e]=this.$parse(e,t)),s;case Qt:return s=this._forOfLookup[e],s===void 0&&(s=this._forOfLookup[e]=this.$parse(e,t)),s;default:{if(e.length===0){if(t===$p||t===al)return Ee.$empty;throw zp()}return s=this._expressionLookup[e],s===void 0&&(s=this._expressionLookup[e]=this.$parse(e,t)),s}}}$parse(e,t){return J=e,U=0,Bt=e.length,Xe=0,zs=0,P=6291456,ae="",ie=Hs(0),Y=!0,Z=!1,ji=!0,ra=-1,pe(61,t===void 0?al:t)}}eh.register=An(Ii);function na(i){switch(i){case 98:return 8;case 116:return 9;case 110:return 10;case 118:return 11;case 102:return 12;case 114:return 13;case 34:return 34;case 39:return 39;case 92:return 92;default:return i}}const kp=Ee.$false,Cp=Ee.$true,Ap=Ee.$null,th=Ee.$undefined,sn=new en(0),Fr=new en(1),Sp=new up,Gt="None",Xn="Interpolation",Qt="IsIterator",sh="IsChainable",$p="IsFunction",al="IsProperty",ih="IsCustom";let J="",U=0,Bt=0,Xe=0,zs=0,P=6291456,ae="",ie,Y=!0,Z=!1,ji=!0,ra=-1;const vn=String.fromCharCode,Hs=i=>J.charCodeAt(i),Zt=()=>J.slice(zs,U),xp="Infinity NaN isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent Array BigInt Boolean Date Map Number Object RegExp Set String JSON Math Intl".split(" ");function pe(i,e){if(e===ih)return new Kc(J);if(U===0){if(e===Xn)return Op();if(D(),P&4194304)throw Fp()}Y=577>i,Z=!1,ji=579>i;let t=!1,s,n=0;if(P&131072){const r=ti[P&63];D(),s=new ol(r,pe(579,e)),Y=!1}else{e:switch(P){case 12296:n=Xe,Y=!1,ji=!1;do switch(D(),++n,P){case 65547:if(D(),(P&12288)===0)throw Ht();break;case 12:case 13:throw Ht();case 2162702:if(Z=!0,D(),(P&12288)===0){s=n===0?sn:n===1?Fr:new en(n),t=!0;break e}break;default:if(P&2097152){s=n===0?sn:n===1?Fr:new en(n);break e}throw Vp()}while(P===12296);case 4096:{const r=ae;if(e===Qt)s=new Jn(r);else if(ji&&xp.includes(r))s=new hp(r);else{if(ji&&r==="import")throw Qp();s=new tn(r,n)}if(Y=!Z,D(),At(53)){if(P===524298)throw lh();const o=Z,a=Xe;++Xe;const c=pe(62,Gt);Z=o,Xe=a,Y=!1,s=new wo([new Jn(r)],c)}break}case 12:throw Xp();case 13:throw ko();case 12293:switch(Y=!1,D(),Xe){case 0:s=sn;break;case 1:s=Fr;break;default:s=new en(Xe);break}break;case 12294:Y=!1,D(),s=Sp;break;case 2688009:s=Ep(e);break;case 2688020:s=J.search(/\s+of\s+/)>U?Ip():Bp(e);break;case 524298:s=Rp(e);break;case 2163762:s=new Zn([ae]),Y=!1,D();break;case 2163763:s=Vr(e,s,!1);break;case 16384:case 32768:s=new Ee(ae),Y=!1,D();break;case 8194:case 8195:case 8193:case 8192:s=ti[P&63],Y=!1,D();break;case 8196:{D();const r=pe(578,e);let o;P===2688009?o=at():(o=[],D()),s=new dp(r,o),Y=!1;break}default:throw U>=Bt?jp():jr()}if(e===Qt)return Lp(s);switch(P){case 2228282:case 2228283:s=new ol(ti[P&63],s,1),D(),Y=!1;break}if(579<i)return s;if(P===12||P===13)throw Ht();if(s.$kind===zc)switch(P){case 2162702:if(Z=!0,Y=!1,D(),(P&13312)===0)throw oa();if(P&12288)s=new tn(ae,s.ancestor),D();else if(P===2688009)s=new Fn(s,at(),!0);else if(P===2688020)s=jn(s,!0);else throw zn();break;case 65547:if(Y=!Z,D(),(P&12288)===0)throw Ht();s=new tn(ae,s.ancestor),D();break;case 12:case 13:throw Ht();case 2688009:s=new Fn(s,at(),t);break;case 2688020:s=jn(s,t);break;case 2163762:s=ll(s);break;case 2163763:s=Vr(e,s,!0);break}for(;(P&65536)>0;)switch(P){case 2162702:s=Tp(s);break;case 65547:if(D(),(P&12288)===0)throw Ht();s=nh(s,!1);break;case 12:case 13:throw Ht();case 2688009:if(i===578)return s;s.$kind===ia?s=new Jc(s.name,at(),s.ancestor,!1):s.$kind===gr?s=new Gn(s.object,s.name,at(),s.optional,!1):s.$kind===sa?s=new fp(s.name,at()):s=new Fn(s,at(),!1);break;case 2688020:s=jn(s,!1);break;case 2163762:if(Z)throw zn();s=ll(s);break;case 2163763:if(Z)throw zn();s=Vr(e,s,!0);break}}if(P===12||P===13)throw Ht();if(577<i)return s;for(;(P&262144)>0;){const r=P;if((r&960)<=i)break;D(),s=new pp(ti[r&63],s,pe(r&960,e)),Y=!1}if(63<i)return s;if(At(6291480)){const r=pe(62,e);mt(6291478),s=new cp(s,r,pe(62,e)),Y=!1}if(62<i)return s;switch(P){case 4194352:case 4194358:case 4194359:case 4194360:case 4194361:{if(!Y)throw Hp();const r=ti[P&63];D(),s=new lp(s,pe(62,e),r);break}}if(61<i)return s;for(;At(6291482);){if(P===6291456)throw Wp();const r=ae;D();const o=new Array;for(;At(6291478);)o.push(pe(62,e));s=new ap(s,r,o)}for(;At(6291481);){if(P===6291456)throw Up();const r=ae;D();const o=new Array;for(;At(6291478);)o.push(pe(62,e));s=new op(s,r,o)}if(P!==6291456){if(e===Xn&&P===7340047)return s;if(e===sh&&P===6291479){if(U===Bt)throw jr();return ra=U-1,s}throw Zt()==="of"?qp():jr()}return s}function Ip(){const i=[],e=new _p(Qc,i,void 0,void 0);let t="",s=!0,n=0;for(;s;)switch(D(),P){case 7340053:s=!1,r();break;case 6291475:r();break;case 4096:t=Zt();break;default:throw Zp()}return mt(7340053),e;function r(){t!==""?(i.push(new Yc(new vo(sn,t),new Zc(sn,new Ee(n++)),void 0)),t=""):n++}}function at(){const i=Z;D();const e=[];for(;P!==7340048&&(e.push(pe(62,Gt)),!!At(6291475)););return mt(7340048),Y=!1,Z=i,e}function jn(i,e){const t=Z;return D(),i=new Zc(i,pe(62,Gt),e),mt(7340053),Y=!t,Z=t,i}function Tp(i){if(Z=!0,Y=!1,D(),(P&13312)===0)throw oa();if(P&12288)return nh(i,!0);if(P===2688009)return i.$kind===ia?new Jc(i.name,at(),i.ancestor,!0):i.$kind===gr?new Gn(i.object,i.name,at(),i.optional,!0):new Fn(i,at(),!0);if(P===2688020)return jn(i,!0);throw zn()}function nh(i,e){const t=ae;switch(P){case 2162702:{Z=!0,Y=!1;const s=U,n=zs,r=P,o=ie,a=ae,c=Y,l=Z;if(D(),(P&13312)===0)throw oa();return P===2688009?new Gn(i,t,at(),e,!0):(U=s,zs=n,P=r,ie=o,ae=a,Y=c,Z=l,new vo(i,t,e))}case 2688009:return Y=!1,new Gn(i,t,at(),e,!1);default:return Y=!Z,D(),new vo(i,t,e)}}function Ep(i){D();const e=U,t=zs,s=P,n=ie,r=ae,o=Z,a=[];let c=1,l=!1;e:for(;;){if(P===13){if(D(),P!==4096)throw Ht();if(a.push(new Jn(ae)),D(),P===6291475)throw Jp();if(P!==7340048||(D(),P!==53))throw ko();D();const d=Z,p=Xe;++Xe;const m=pe(62,Gt);return Z=d,Xe=p,Y=!1,new wo(a,m,!0)}switch(P){case 4096:a.push(new Jn(ae)),D();break;case 7340048:D();break e;case 524298:case 2688020:D(),c=4;break;case 6291475:c=2,l=!0;break e;case 2688009:c=2;break e;default:D(),c=2;break}switch(P){case 6291475:if(D(),l=!0,c===1)break;break e;case 7340048:D();break e;case 4194352:c===1&&(c=3);break e;case 53:if(l)throw Bn();D(),c=2;break e;default:c===1&&(c=2);break e}}if(P===53){if(c===1){if(D(),P===524298)throw lh();const d=Z,p=Xe;++Xe;const m=pe(62,Gt);return Z=d,Xe=p,Y=!1,new wo(a,m)}throw Bn()}else if(c===1&&a.length===0)throw ah(53);if(l)switch(c){case 2:throw Bn();case 3:throw ul();case 4:throw dl()}U=e,zs=t,P=s,ie=n,ae=r,Z=o;const h=Z,u=pe(62,i);if(Z=h,mt(7340048),P===53)switch(c){case 2:throw Bn();case 3:throw ul();case 4:throw dl()}return u}function Bp(i){const e=Z;D();const t=new Array;for(;P!==7340053;)if(At(6291475)){if(t.push(th),P===7340053)break}else if(t.push(pe(62,i===Qt?Gt:i)),At(6291475)){if(P===7340053)break}else break;return Z=e,mt(7340053),i===Qt?new gp(t):(Y=!1,new bo(t))}const Pp=[Wc,Uc,qc,Qc,ip];function Lp(i){if(!Pp.includes(i.$kind)||P!==4204596)throw hl(i.$kind);D();const e=i,t=pe(61,sh);return new vp(e,t,ra)}function Rp(i){const e=Z,t=new Array,s=new Array;for(D();P!==7340047;){if(t.push(ae),P&49152)D(),mt(6291478),s.push(pe(62,i===Qt?Gt:i));else if(P&12288){const n=ie,r=P,o=U;D(),At(6291478)?s.push(pe(62,i===Qt?Gt:i)):(ie=n,P=r,U=o,s.push(pe(580,i===Qt?Gt:i)))}else throw Kp();P!==7340047&&mt(6291475)}return Z=e,mt(7340047),i===Qt?new mp(t,s):(Y=!1,new _o(t,s))}function Op(){const i=[],e=[],t=Bt;let s="";for(;U<t;){switch(ie){case 36:if(Hs(U+1)===123){i.push(s),s="",U+=2,ie=Hs(U),D();const n=pe(61,Xn);e.push(n);continue}else s+="$";break;case 92:s+=vn(na(V()));break;default:s+=vn(ie)}V()}return e.length?(i.push(s),new bp(i,e)):null}function Vr(i,e,t){const s=Z,n=[ae];mt(2163763);const r=[pe(62,i)];for(;(P=Dp())!==2163762;)n.push(ae),mt(2163763),r.push(pe(62,i));return n.push(ae),Y=!1,Z=s,t?(D(),new Xc(n,n,e,r)):(D(),new Zn(n,r))}function ll(i){Y=!1;const e=[ae];return D(),new Xc(e,e,i)}function D(){for(;U<Bt;)if(zs=U,(P=eg[ie]())!=null)return;P=6291456}function V(){return ie=Hs(++U)}function Mp(){for(;tg[V()];);const i=Yp[ae=Zt()];return i===void 0?4096:i}function cl(i){let e=ie;if(i===!1){do e=V();while(e<=57&&e>=48);if(e!==46)return ae=parseInt(Zt(),10),32768;if(e=V(),U>=Bt)return ae=parseInt(Zt().slice(0,-1),10),32768}if(e<=57&&e>=48)do e=V();while(e<=57&&e>=48);else ie=Hs(--U);return ae=parseFloat(Zt()),32768}function Np(){const i=ie;V();let e=0;const t=new Array;let s=U;for(;ie!==i;)if(ie===92)t.push(J.slice(s,U)),V(),e=na(ie),V(),t.push(vn(e)),s=U;else{if(U>=Bt)throw Gp();V()}const n=J.slice(s,U);return V(),t.push(n),ae=t.join(""),16384}function rh(){let i=!0,e="";for(;V()!==96;)if(ie===36)if(U+1<Bt&&Hs(U+1)===123){U++,i=!1;break}else e+="$";else if(ie===92)e+=vn(na(V()));else{if(U>=Bt)throw oh();e+=vn(ie)}return V(),ae=e,i?2163762:2163763}const Dp=()=>{if(U>=Bt)throw oh();return U--,rh()},At=i=>P===i?(D(),!0):!1,mt=i=>{if(P===i)D();else throw ah(i)},Fp=()=>re(151,J),ko=()=>re(152,J),Ht=()=>re(153,J),Vp=()=>re(154,J),jp=()=>re(155,J),jr=()=>re(156,Zt(),U,J),zp=()=>re(157),Hp=()=>re(158,J),Wp=()=>re(159,J),Up=()=>re(160,J),qp=()=>re(161,J),Qp=()=>re(162,J),hl=i=>re(163,J,i),Kp=()=>re(164,J),Gp=()=>re(165,J),oh=()=>re(166,J),ah=i=>re(167,ti[i&63],J),Zp=()=>re(170,Zt(),U,J),oa=()=>re(171,Zt(),U-1,J),zn=()=>re(172,J),Bn=()=>re(173,J),ul=()=>re(174,J),dl=()=>re(175,J),Jp=()=>re(176,J),lh=()=>re(178,J),Xp=()=>re(179,U-1,J),ti=[kp,Cp,Ap,th,"new","this","$this",null,"$parent","(","{",".","..","...","?.","}",")",",","[","]",":",";","?","'",'"',"&","|","??","||","&&","==","!=","===","!==","<",">","<=",">=","in","instanceof","+","-","typeof","void","*","%","/","**","=","!",2163762,2163763,"of","=>","+=","-=","*=","/=","++","--"],Yp=Object.assign(Vn(),{true:8193,null:8194,false:8192,undefined:8195,new:8196,this:12294,$this:12293,$parent:12296,in:6562214,instanceof:6562215,typeof:139306,void:139307,of:4204596}),{CharScanners:eg,IdParts:tg}=(()=>{const i=()=>{throw re(168,J)};i.notMapped=!0;const e={IdStart:[36,0,65,91,95,0,97,123,170,0,186,0,192,215,216,247,248,697,736,741,7424,7462,7468,7517,7522,7526,7531,7544,7545,7615,7680,7936,8305,0,8319,0,8336,8349,8490,8492,8498,0,8526,0,8544,8585,11360,11392,42786,42888,42891,42927,42928,42936,42999,43008,43824,43867,43868,43877,64256,64263,65313,65339,65345,65371],Digit:[48,58],Skip:[0,33,127,161]},t=(o,a,c,l)=>{const h=c.length;for(let u=0;u<h;u+=2){const d=c[u];let p=c[u+1];p=p>0?p:d+1,o&&o.fill(l,d,p)}},s=(o=>(t(o,null,e.IdStart,1),t(o,null,e.Digit,1),o))(new Uint8Array(65535)),n=o=>()=>(V(),o),r=new Array(65535);return r.fill(i,0,65535),t(r,null,e.Skip,()=>(V(),null)),t(r,null,e.IdStart,Mp),t(r,null,e.Digit,()=>cl(!1)),r[34]=r[39]=()=>Np(),r[96]=()=>rh(),r[33]=()=>V()!==61?131121:V()!==61?6553951:(V(),6553953),r[61]=()=>V()===62?(V(),53):ie!==61?4194352:V()!==61?6553950:(V(),6553952),r[38]=()=>V()!==38?6291481:(V(),6553885),r[124]=()=>V()!==124?6291482:(V(),6553820),r[63]=()=>{if(V()===46){const o=Hs(U+1);return o<=48||o>=57?(V(),2162702):6291480}return ie!==63?6291480:(V(),6553755)},r[46]=()=>V()<=57&&ie>=48?cl(!0):ie===46?V()!==46?12:(V(),13):65547,r[60]=()=>V()!==61?6554018:(V(),6554020),r[62]=()=>V()!==61?6554019:(V(),6554021),r[37]=n(6554157),r[40]=n(2688009),r[41]=n(7340048),r[42]=()=>V()===61?(V(),4194360):ie===42?(V(),6554223):6554156,r[43]=()=>V()===43?(V(),2228282):ie!==61?2490856:(V(),4194358),r[44]=n(6291475),r[45]=()=>V()===45?(V(),2228283):ie!==61?2490857:(V(),4194359),r[47]=()=>V()!==61?6554158:(V(),4194361),r[58]=n(6291478),r[59]=n(6291479),r[91]=n(2688020),r[93]=n(7340053),r[123]=n(524298),r[125]=n(7340047),{CharScanners:r,IdParts:s}})(),Nt=_s.createInterface,Ti=Object.freeze,{aliasTo:fl,singleton:aa}=Vs,pt="Interpolation",ch="IsFunction",Dt="IsProperty",si="custom-element",Ei=Ti({default:0,oneTime:1,toView:2,fromView:4,twoWay:6}),mr=Nt("ITemplateCompiler"),hh=Nt("IAttrMapper"),fe=(i,...e)=>{const t=String(i).padStart(4,"0"),s=ig(i,...e),n=`https://docs.aurelia.io/developer-guides/error-messages/0088-to-0723/aur${t}`;return new Error(`AUR${t}: ${s}

For more information, see: ${n}`)},sg={88:"AttributeParser is already initialized; cannot add patterns after initialization.",89:'Attribute pattern "{{0}}" has already been registered.',99:"Method {{0}} not implemented",157:"Binding command {{0}} has already been registered.",701:'Template compilation error in element "{{0:name}}": the root <template> cannot be a local element template.',702:'Template compilation error: attribute "{{0}}" is invalid on element surrogate.',703:'Template compilation error: template controller "{{0}}" is invalid on element surrogate.',704:'Template compilation error: Invalid command "{{0:.command}}" for <let>. Only to-view/bind supported.',706:'Template compilation error: detected projection with [au-slot="{{0}}"] attempted on a non custom element {{1}}.',707:"Template compilation error: creating binding to non-bindable property {{0}} on {{1}}.",708:'Template compilation error: the custom element "{{0}}" does not have any content other than local template(s).',709:'Template compilation error: local element template needs to be defined directly under root of element "{{0}}".',710:'Template compilation error: bindable properties of local element "{{0}}" template needs to be defined directly under <template>.',711:`Template compilation error: the attribute 'property' is missing in {{0:outerHTML}} in local element "{{1}}"`,712:"Template compilation error: Bindable property and attribute needs to be unique; found property: {{0}}, attribute: {{1}}",713:'Template compilation error: unknown binding command: "{{0}}".{{0:bindingCommandHelp}}',714:'Template compilation error: primary already exists on element/attribute "{{0}}"',715:'Template compilation error: the value of "as-custom-element" attribute cannot be empty for local element in element "{{0}}"',716:'Template compilation error: duplicate definition of the local template named "{{0}} in element {{1}}"',717:'Template compilation error: detected a usage of "<slot>" element without specifying shadow DOM options in element: {{0}}',718:'Spreading template controller "{{0}}" is not supported.',719:"Attribute {{0}} has been already registered for {{1:element}}",720:'Spreading syntax "...xxx" is reserved. Encountered "...{{0}}"',721:'Usage of $bindables is only allowed on custom element. Encountered: <{{0}} {{1}}="{{2}}">',722:"Invalid platform object provided to the compilation, no DOM API found.",723:"Template compilation error: Invalid comma-separated class binding syntax in {{0}}. It resulted in no valid class names after parsing.",9998:"Spread binding does not support spreading custom attributes/template controllers. Did you build the spread instruction manually?"},ig=(i,...e)=>{let t=sg[i];for(let s=0;s<e.length;++s){const n=new RegExp(`{{${s}(:.*)?}}`,"g");let r=n.exec(t);for(;r!=null;){const o=r[1]?.slice(1);let a=e[s];if(a!=null)switch(o){case"nodeName":a=a.nodeName.toLowerCase();break;case"name":a=a.name;break;case"typeof":a=typeof a;break;case"ctor":a=a.constructor.name;break;case"controller":a=a.controller.name;break;case"target@property":a=`${a.target}@${a.targetProperty}`;break;case"toString":a=Object.prototype.toString.call(a);break;case"join(!=)":a=a.join("!=");break;case"bindingCommandHelp":a=ng(a);break;case"element":a=a==="*"?"all elements":`<${a} />`;break;default:o?.startsWith(".")?a=String(a[o.slice(1)]):a=String(a)}t=t.slice(0,r.index)+a+t.slice(n.lastIndex),r=n.exec(t)}}return t};function ng(i){switch(i){case"delegate":return`
The ".delegate" binding command has been removed in v2. Binding command ".trigger" should be used instead. If you are migrating v1 application, install compat package to add back the ".delegate" binding command for ease of migration.`;case"call":return`
The ".call" binding command has been removed in v2. If you want to pass a callback that preserves the context of the function call, you can use lambda instead. Refer to lambda expression doc for more details.`;default:return""}}var uh,dh,fh,ph,gh;class la{constructor(e,t,s,n){if(this.chars=e,this.repeat=t,this.isSymbol=s,this.isInverted=n,n)switch(e.length){case 0:this.has=this._hasOfNoneInverse;break;case 1:this.has=this._hasOfSingleInverse;break;default:this.has=this._hasOfMultipleInverse}else switch(e.length){case 0:this.has=this._hasOfNone;break;case 1:this.has=this._hasOfSingle;break;default:this.has=this._hasOfMultiple}}equals(e){return this.chars===e.chars&&this.repeat===e.repeat&&this.isSymbol===e.isSymbol&&this.isInverted===e.isInverted}_hasOfMultiple(e){return this.chars.includes(e)}_hasOfSingle(e){return this.chars===e}_hasOfNone(e){return!1}_hasOfMultipleInverse(e){return!this.chars.includes(e)}_hasOfSingleInverse(e){return this.chars!==e}_hasOfNoneInverse(e){return!0}}class rg{constructor(){this.parts=W,this._pattern="",this._currentRecord={},this._partsRecord={}}get pattern(){const e=this._pattern;return e===""?null:e}set pattern(e){e==null?(this._pattern="",this.parts=W):(this._pattern=e,this.parts=this._partsRecord[e])}append(e,t){const s=this._currentRecord;s[e]===void 0?s[e]=t:s[e]+=t}next(e){const t=this._currentRecord;let s;t[e]!==void 0&&(s=this._partsRecord,s[e]===void 0?s[e]=[t[e]]:s[e].push(t[e]),t[e]=void 0)}}class ca{get _pattern(){return this._isEndpoint?this._patterns[0]:null}constructor(e,...t){this.charSpec=e,this._nextStates=[],this._types=null,this._isEndpoint=!1,this._patterns=t}findChild(e){const t=this._nextStates,s=t.length;let n=null,r=0;for(;r<s;++r)if(n=t[r],e.equals(n.charSpec))return n;return null}append(e,t){const s=this._patterns;s.includes(t)||s.push(t);let n=this.findChild(e);return n==null&&(n=new ca(e,t),this._nextStates.push(n),e.repeat&&n._nextStates.push(n)),n}findMatches(e,t){const s=[],n=this._nextStates,r=n.length;let o=0,a=null,c=0,l=0;for(;c<r;++c)if(a=n[c],a.charSpec.has(e))if(s.push(a),o=a._patterns.length,l=0,a.charSpec.isSymbol)for(;l<o;++l)t.next(a._patterns[l]);else for(;l<o;++l)t.append(a._patterns[l],e);return s}}class pl{constructor(e){this.text=e;const t=this._len=e.length,s=this._specs=[];let n=0;for(;t>n;++n)s.push(new la(e[n],!1,!1,!1))}eachChar(e){const t=this._len,s=this._specs;let n=0;for(;t>n;++n)e(s[n])}}class og{constructor(e){this.text="PART",this._spec=new la(e,!0,!1,!0)}eachChar(e){e(this._spec)}}class ag{constructor(e){this.text=e,this._spec=new la(e,!1,!0,!1)}eachChar(e){e(this._spec)}}class lg{constructor(){this.statics=0,this.dynamics=0,this.symbols=0}}const cg=Nt("ISyntaxInterpreter",i=>i.singleton(hg));class hg{constructor(){this._rootState=new ca(null),this._initialStates=[this._rootState]}add(e){e=e.slice(0).sort((d,p)=>d.pattern>p.pattern?1:-1);const t=e.length;let s,n,r,o,a,c,l,h=0,u;for(;t>h;){for(s=this._rootState,n=e[h],r=n.pattern,o=new lg,a=this._parse(n,o),c=a.length,l=d=>s=s.append(d,r),u=0;c>u;++u)a[u].eachChar(l);s._types=o,s._isEndpoint=!0,++h}}interpret(e){const t=new rg,s=e.length;let n=this._initialStates,r=0,o;for(;r<s&&(n=this._getNextStates(n,e.charAt(r),t),n.length!==0);++r);return n=n.filter(ug),n.length>0&&(n.sort(dg),o=n[0],o.charSpec.isSymbol||t.next(o._pattern),t.pattern=o._pattern),t}_getNextStates(e,t,s){const n=[];let r=null;const o=e.length;let a=0;for(;a<o;++a)r=e[a],n.push(...r.findMatches(t,s));return n}_parse(e,t){const s=[],n=e.pattern,r=n.length,o=e.symbols;let a=0,c=0,l="";for(;a<r;)l=n.charAt(a),o.length===0||!o.includes(l)?a===c&&l==="P"&&n.slice(a,a+4)==="PART"?(c=a=a+4,s.push(new og(o)),++t.dynamics):++a:a!==c?(s.push(new pl(n.slice(c,a))),++t.statics,c=a):(s.push(new ag(n.slice(c,a+1))),++t.symbols,c=++a);return c!==a&&(s.push(new pl(n.slice(c,a))),++t.statics),s}}function ug(i){return i._isEndpoint}function dg(i,e){const t=i._types,s=e._types;return t.statics!==s.statics?s.statics-t.statics:t.dynamics!==s.dynamics?s.dynamics-t.dynamics:t.symbols!==s.symbols?s.symbols-t.symbols:0}class tt{constructor(e,t,s,n,r=null){this.rawName=e,this.rawValue=t,this.target=s,this.command=n,this.parts=r}}const fg=Nt("IAttributePattern"),ha=Nt("IAttributeParser",i=>i.singleton(pg));class pg{constructor(){this._cache={},this._patterns={},this._initialized=!1,this._allDefinitions=[],this._interpreter=I(cg),this._container=I(Sn)}registerPattern(e,t){if(this._initialized)throw fe(88);const s=this._patterns;for(const{pattern:n}of e){if(s[n]!=null)throw fe(89,n);s[n]={patternType:t}}this._allDefinitions.push(...e)}_initialize(){this._interpreter.add(this._allDefinitions);const e=this._container;for(const[,t]of Object.entries(this._patterns))t.pattern=e.get(t.patternType)}parse(e,t){this._initialized||(this._initialize(),this._initialized=!0);let s=this._cache[e];s==null&&(s=this._cache[e]=this._interpreter.interpret(e));const n=s.pattern;return n==null?new tt(e,t,e,null,null):this._patterns[n].pattern[n](e,t,s.parts)}}const ws=Ti({name:Gs("attribute-pattern"),create(i,e){return{register(t){t.get(ha).registerPattern(i,e),aa(fg,e).register(t)}}}});class Co{"PART.PART"(e,t,s){return new tt(e,t,s[0],s[1])}"PART.PART.PART"(e,t,s){return new tt(e,t,`${s[0]}.${s[1]}`,s[2])}}uh=Symbol.metadata;Co[uh]={[Mt]:ws.create([{pattern:"PART.PART",symbols:"."},{pattern:"PART.PART.PART",symbols:"."}],Co)};class Ao{ref(e,t,s){return new tt(e,t,"element","ref")}"PART.ref"(e,t,s){let n=s[0];return n==="view-model"&&(n="component",console.warn(`[aurelia] Detected view-model.ref usage: "${e}=${t}". This is deprecated and component.ref should be used instead`)),new tt(e,t,n,"ref")}}dh=Symbol.metadata;Ao[dh]={[Mt]:ws.create([{pattern:"ref",symbols:""},{pattern:"PART.ref",symbols:"."}],Ao)};class So{"PART.trigger:PART"(e,t,s){return new tt(e,t,s[0],"trigger",s)}"PART.capture:PART"(e,t,s){return new tt(e,t,s[0],"capture",s)}}fh=Symbol.metadata;So[fh]={[Mt]:ws.create([{pattern:"PART.trigger:PART",symbols:".:"},{pattern:"PART.capture:PART",symbols:".:"}],So)};class gl{":PART"(e,t,s){return new tt(e,t,s[0],"bind")}}ph=Symbol.metadata;gl[ph]={[Mt]:ws.create([{pattern:":PART",symbols:":"}],gl)};class ml{"@PART"(e,t,s){return new tt(e,t,s[0],"trigger")}"@PART:PART"(e,t,s){return new tt(e,t,s[0],"trigger",[s[0],"trigger",...s.slice(1)])}}gh=Symbol.metadata;ml[gh]={[Mt]:ws.create([{pattern:"@PART",symbols:"@"},{pattern:"@PART:PART",symbols:"@:"}],ml)};const $o=es.get,vl=es.define,mh="ra",vh="rb",bh="rc",_h="rd",wh="re",yh="rf",ua="rg",kh="ri",Ch="rj",Ah="rk",Sh="rl",$h="ha",xh="hb",Ih="hc",gg="hd",Th="he",Eh="hf",Bh="hg",Ph="hs",Lh="hp",Rh="svb",Se=Ti({hydrateElement:mh,hydrateAttribute:vh,hydrateTemplateController:bh,hydrateLetElement:_h,setProperty:wh,interpolation:yh,propertyBinding:ua,letBinding:kh,refBinding:Ch,iteratorBinding:Ah,multiAttr:Sh,textBinding:$h,listenerBinding:xh,attributeBinding:Ih,stylePropertyBinding:gg,setAttribute:Th,setClassAttribute:Eh,setStyleAttribute:Bh,spreadTransferedBinding:Ph,spreadElementProp:Lh,spreadValueBinding:Rh}),Bi=Nt("Instruction");class jt{constructor(e,t){this.from=e,this.to=t,this.type=yh}}class xn{constructor(e,t,s){this.from=e,this.to=t,this.mode=s,this.type=ua}}class mg{constructor(e,t,s){this.forOf=e,this.to=t,this.props=s,this.type=Ah}}class vg{constructor(e,t){this.from=e,this.to=t,this.type=Ch}}class Ys{constructor(e,t){this.value=e,this.to=t,this.type=wh}}class bg{constructor(e,t,s){this.value=e,this.to=t,this.command=s,this.type=Sh}}class _g{constructor(e,t,s,n,r,o){this.res=e,this.props=t,this.projections=s,this.containerless=n,this.captures=r,this.data=o,this.type=mh}}class zr{constructor(e,t,s){this.res=e,this.alias=t,this.props=s,this.type=vh}}class wg{constructor(e,t,s,n){this.def=e,this.res=t,this.alias=s,this.props=n,this.type=bh}}class yg{constructor(e,t){this.instructions=e,this.toBindingContext=t,this.type=_h}}class bl{constructor(e,t){this.from=e,this.to=t,this.type=kh}}class kg{constructor(e){this.from=e,this.type=$h}}class Oh{constructor(e,t,s,n){this.from=e,this.to=t,this.capture=s,this.modifier=n,this.type=xh}}class _l{constructor(e,t){this.value=e,this.to=t,this.type=Th}}class wl{constructor(e){this.value=e,this.type=Eh}}class yl{constructor(e){this.value=e,this.type=Bh}}class da{constructor(e,t,s){this.attr=e,this.from=t,this.to=s,this.type=Ih}}class kl{constructor(){this.type=Ph}}class Cl{constructor(e){this.instruction=e,this.type=Lh}}class xo{constructor(e,t){this.target=e,this.from=t,this.type=Rh}}class Yn{constructor(e,t,s,n){this.Type=e,this.name=t,this.aliases=s,this.key=n}static create(e,t){let s,n;return G(e)?(s=e,n={name:s}):(s=e.name,n=e),new Yn(t,as(Io(t,"name"),s),ye(Io(t,"aliases"),n.aliases,t.aliases),gi(s))}register(e,t){const s=this.Type,n=typeof t=="string"?gi(t):this.key,r=this.aliases;e.has(n,!1)?console.warn(`[DEV:aurelia] ${fe(157,this.name)}`):e.register(e.has(s,!1)?null:aa(s,s),fl(s,n),...r.map(o=>fl(s,gi(o))))}}const Oe="binding-command",Hn=Gs(Oe),gi=i=>`${Hn}:${i}`,Io=(i,e)=>$o(Mc.annotation.keyFor(e),i),Cg=(()=>{const i="__au_static_resource__",e=(t,s,n)=>{let r=$o(i,t);return r==null&&t.$au?.type===s&&(r=n(t.$au,t),vl(r,t,i)),r};return Ti({name:Hn,keyFrom:gi,define(t,s){const n=Yn.create(t,s),r=n.Type;return vl(n,r,Hn,xt),r},getAnnotation:Io,find(t,s){const n=t.find(Oe,s);return n==null?null:$o(Hn,n)??e(n,Oe,Yn.create)??null},get(t,s){try{return t.get(_i(gi(s)))}catch(n){throw console.log(`


[DEV:aurelia] Cannot retrieve binding command with name




`,s),n}return t.get(_i(gi(s)))}})})();class Mh{get ignoreAttr(){return!1}build(e,t,s){let r=e.attr.target,o=e.attr.rawValue;return o=o===""?Te(r):o,e.bindable==null?r=s.map(e.node,r)??Te(r):r=e.bindable.name,new xn(t.parse(o,Dt),r,1)}}Mh.$au={type:Oe,name:"one-time"};class Nh{get ignoreAttr(){return!1}build(e,t,s){let r=e.attr.target,o=e.attr.rawValue;return o=o===""?Te(r):o,e.bindable==null?r=s.map(e.node,r)??Te(r):r=e.bindable.name,new xn(t.parse(o,Dt),r,2)}}Nh.$au={type:Oe,name:"to-view"};class Dh{get ignoreAttr(){return!1}build(e,t,s){const n=e.attr;let r=n.target,o=n.rawValue;return o=o===""?Te(r):o,e.bindable==null?r=s.map(e.node,r)??Te(r):r=e.bindable.name,new xn(t.parse(o,Dt),r,4)}}Dh.$au={type:Oe,name:"from-view"};class Fh{get ignoreAttr(){return!1}build(e,t,s){const n=e.attr;let r=n.target,o=n.rawValue;return o=o===""?Te(r):o,e.bindable==null?r=s.map(e.node,r)??Te(r):r=e.bindable.name,new xn(t.parse(o,Dt),r,6)}}Fh.$au={type:Oe,name:"two-way"};class Vh{get ignoreAttr(){return!1}build(e,t,s){const n=e.attr,r=e.bindable;let o=n.rawValue,a=n.target,c,l;return o=o===""?Te(a):o,r==null?(l=s.isTwoWay(e.node,a)?6:2,a=s.map(e.node,a)??Te(a)):(c=e.def.defaultBindingMode??0,l=r.mode===0||r.mode==null?c==null||c===0?2:c:r.mode,a=r.name),new xn(t.parse(o,Dt),a,G(l)?Ei[l]??0:l)}}Vh.$au={type:Oe,name:"bind"};class jh{constructor(){this._attrParser=I(ha)}get ignoreAttr(){return!1}build(e,t){const s=e.bindable===null?Te(e.attr.target):e.bindable.name,n=t.parse(e.attr.rawValue,"IsIterator");let r=W;if(n.semiIdx>-1){const o=e.attr.rawValue.slice(n.semiIdx+1),a=o.indexOf(":");if(a>-1){const c=o.slice(0,a).trim(),l=o.slice(a+1).trim(),h=this._attrParser.parse(c,l);r=[new bg(l,h.target,h.command)]}}return new mg(n,s,r)}}jh.$au={type:Oe,name:"for"};class zh{get ignoreAttr(){return!0}build(e,t){return new Oh(t.parse(e.attr.rawValue,ch),e.attr.target,!1,e.attr.parts?.[2]??null)}}zh.$au={type:Oe,name:"trigger"};class Hh{get ignoreAttr(){return!0}build(e,t){return new Oh(t.parse(e.attr.rawValue,ch),e.attr.target,!0,e.attr.parts?.[2]??null)}}Hh.$au={type:Oe,name:"capture"};class Wh{get ignoreAttr(){return!0}build(e,t){const s=e.attr,n=s.target;let r=s.rawValue;return r=r===""?Te(n):r,new da(n,t.parse(r,Dt),n)}}Wh.$au={type:Oe,name:"attr"};class Uh{get ignoreAttr(){return!0}build(e,t){return new da("style",t.parse(e.attr.rawValue,Dt),e.attr.target)}}Uh.$au={type:Oe,name:"style"};class qh{get ignoreAttr(){return!0}build(e,t){let s=e.attr.target;if(s.includes(",")){const n=s.split(",").filter(r=>r.length>0);if(n.length===0)throw fe(723);s=n.join(" ")}return new da("class",t.parse(e.attr.rawValue,Dt),s)}}qh.$au={type:Oe,name:"class"};class Qh{get ignoreAttr(){return!0}build(e,t){return new vg(t.parse(e.attr.rawValue,Dt),e.attr.target)}}Qh.$au={type:Oe,name:"ref"};class Kh{get ignoreAttr(){return!1}build(e){return new xo(e.attr.target,e.attr.rawValue)}}Kh.$au={type:Oe,name:"spread"};const Ag=Nt("ITemplateElementFactory",i=>i.singleton(Sg)),Al={};class Sg{constructor(){this.p=I(xi),this._template=this.t()}t(){return this.p.document.createElement("template")}createTemplate(e){if(G(e)){let s=Al[e];if(s===void 0){const n=this._template;n.innerHTML=e;const r=n.content.firstElementChild;t(r)?(this._template=this.t(),s=n):(n.content.removeChild(r),s=r),Al[e]=s}return s.cloneNode(!0)}if(e.nodeName!=="TEMPLATE"){const s=this.t();return s.content.appendChild(e),s}return e.parentNode?.removeChild(e),e.cloneNode(!0);function t(s){if(s==null||s.nodeName!=="TEMPLATE"||s.nextElementSibling!=null)return!0;const r=s.previousSibling;if(r!=null)switch(r.nodeType){case 3:return r.textContent.trim().length>0}const o=s.nextSibling;if(o!=null)switch(o.nodeType){case 3:return o.textContent.trim().length>0}return!1}}}const Hr="au-start",Wr="au-end",Ur=(i,e,t)=>i.insertBefore(e,t),Sl=(i,e,t)=>{if(i===null)return;const s=t.length;let n=0;for(;s>n;)i.insertBefore(t[n],e),++n},Ts=(i,e)=>i.content.appendChild(e),$l=(i,e)=>{const t=e.length;let s=0;for(;t>s;)i.content.appendChild(e[s]),++s},xl=i=>i.nodeType===1,Il=i=>i.nodeType===3,Ni="au-slot",Tl="default",Di=(i=>()=>`anonymous-${++i}`)(0);class Gh{constructor(){this.debug=!1,this.resolveResources=!0}compile(e,t){if(e.template==null||e.needsCompile===!1)return e;const s=new er(e,t,null,null,void 0),n=G(e.template)||!e.enhance?s._templateFactory.createTemplate(e.template):e.template,r=n.nodeName===qr&&n.content!=null,o=r?n.content:n,a=Bg.findAll(t),c=a.length;let l=0;if(c>0)for(;c>l;)a[l].compiling?.(n),++l;if(n.hasAttribute(To))throw fe(701,e);return this._compileLocalElement(o,s),this._compileNode(o,s),{...e,name:e.name||Di(),dependencies:(e.dependencies??W).concat(s.deps??W),instructions:s.rows,surrogates:r?this._compileSurrogate(n,s):W,template:n,hasSlots:s.hasSlot,needsCompile:!1}}compileSpread(e,t,s,n,r){const o=new er(e,s,null,null,void 0),a=[],c=r??o._findElement(n.nodeName.toLowerCase()),l=c!==null,h=o._exprParser,u=t.length;let d=0,p,m=null,f,g,w,$,B,C=null,S,L,T,N;for(;u>d;++d){if(p=t[d],T=p.target,N=p.rawValue,T==="...$attrs"){a.push(new kl);continue}if(C=o._getCommand(p),C!==null&&C.ignoreAttr){R.node=n,R.attr=p,R.bindable=null,R.def=null,a.push(C.build(R,o._exprParser,o._attrMapper));continue}if(l&&(w=o._getBindables(c),$=w.attrs[T],$!==void 0)){C==null?(S=h.parse(N,pt),a.push(new Cl(S==null?new Ys(N,$.name):new jt(S,$.name)))):(R.node=n,R.attr=p,R.bindable=$,R.def=c,a.push(new Cl(C.build(R,o._exprParser,o._attrMapper))));continue}if(m=o._findAttr(T),m!==null){if(m.isTemplateController)throw fe(9998,T);w=o._getBindables(m),L=m.noMultiBindings===!1&&C===null&&Qr(N),L?g=this._compileMultiBindings(n,N,m,o):(B=w.primary,C===null?(S=h.parse(N,pt),g=[S===null?new Ys(N,B.name):new jt(S,B.name)]):(R.node=n,R.attr=p,R.bindable=B,R.def=m,g=[C.build(R,o._exprParser,o._attrMapper)])),(f??=[]).push(new zr(this.resolveResources?m:m.name,m.aliases!=null&&m.aliases.includes(T)?T:void 0,g));continue}if(C==null)if(S=h.parse(N,pt),S!=null)a.push(new jt(S,o._attrMapper.map(n,T)??Te(T)));else switch(T){case"class":a.push(new wl(N));break;case"style":a.push(new yl(N));break;default:a.push(new _l(N,T))}else R.node=n,R.attr=p,R.bindable=null,R.def=null,a.push(C.build(R,o._exprParser,o._attrMapper))}return Pn(),f!=null?f.concat(a):a}_compileSurrogate(e,t){const s=[],n=e.attributes,r=t._exprParser;let o=n.length,a=0,c,l,h,u,d=null,p,m,f,g,w=null,$,B,C,S;for(;o>a;++a){if(c=n[a],l=c.name,h=c.value,u=t._attrParser.parse(l,h),C=u.target,S=u.rawValue,xg[C])throw fe(702,l);if(w=t._getCommand(u),w!==null&&w.ignoreAttr){R.node=e,R.attr=u,R.bindable=null,R.def=null,s.push(w.build(R,t._exprParser,t._attrMapper));continue}if(d=t._findAttr(C),d!==null){if(d.isTemplateController)throw fe(703,C);f=t._getBindables(d),B=d.noMultiBindings===!1&&w===null&&Qr(S),B?m=this._compileMultiBindings(e,S,d,t):(g=f.primary,w===null?($=r.parse(S,pt),m=$===null?S===""?[]:[new Ys(S,g.name)]:[new jt($,g.name)]):(R.node=e,R.attr=u,R.bindable=g,R.def=d,m=[w.build(R,t._exprParser,t._attrMapper)])),e.removeAttribute(l),--a,--o,(p??=[]).push(new zr(this.resolveResources?d:d.name,d.aliases!=null&&d.aliases.includes(C)?C:void 0,m));continue}if(w===null)if($=r.parse(S,pt),$!=null)e.removeAttribute(l),--a,--o,s.push(new jt($,t._attrMapper.map(e,C)??Te(C)));else switch(l){case"class":s.push(new wl(S));break;case"style":s.push(new yl(S));break;default:s.push(new _l(S,l))}else R.node=e,R.attr=u,R.bindable=null,R.def=null,s.push(w.build(R,t._exprParser,t._attrMapper))}return Pn(),p!=null?p.concat(s):s}_compileNode(e,t){switch(e.nodeType){case 1:switch(e.nodeName){case"LET":return this._compileLet(e,t);default:return this._compileElement(e,t)}case 3:return this._compileText(e,t);case 11:{let s=e.firstChild;for(;s!==null;)s=this._compileNode(s,t);break}}return e.nextSibling}_compileLet(e,t){const s=e.attributes,n=s.length,r=[],o=t._exprParser;let a=!1,c=0,l,h,u,d,p,m,f,g;for(;n>c;++c){if(l=s[c],u=l.name,d=l.value,u==="to-binding-context"){a=!0;continue}if(h=t._attrParser.parse(u,d),m=h.target,f=h.rawValue,p=t._getCommand(h),p!==null){if(h.command==="bind")r.push(new bl(o.parse(f,Dt),Te(m)));else throw fe(704,h);continue}g=o.parse(f,pt),g===null&&console.warn(`[DEV:aurelia] Property "${m}" is declared with literal string ${f}. Did you mean ${m}.bind="${f}"?`),r.push(new bl(g===null?new Ee(f):g,Te(m)))}return t.rows.push([new yg(r,a)]),this._markAsTarget(e,t).nextSibling}_compileElement(e,t){const s=e.nextSibling,n=(e.getAttribute("as-element")??e.nodeName).toLowerCase(),r=t._findElement(n),o=r!==null,a=o&&r.shadowOptions!=null,c=r?.capture,l=c!=null&&typeof c!="boolean",h=c?[]:W,u=t._exprParser,d=this.debug?ht:()=>{e.removeAttribute($),--g,--f};let p=e.attributes,m,f=p.length,g=0,w,$,B,C,S,L,T=null,N=!1,F,j,ge,Ie,be,de,_e,Q=null,x,ne,M,te,ze=!0,v=!1,y=!1,_=!1,A,b=0;if(n==="slot"){if(t.root.def.shadowOptions==null)throw fe(717,t.root.def.name);t.root.hasSlot=!0}for(o&&(A={},ze=r.processContent?.call(r.Type,e,t.p,A),p=e.attributes,f=p.length);f>g;++g){switch(w=p[g],$=w.name,B=w.value,$){case"as-element":case"containerless":d(),v=v||$==="containerless";continue}if(C=t._attrParser.parse($,B),Q=t._getCommand(C),M=C.target,te=C.rawValue,c&&(!l||l&&c(M))){if(Q!=null&&Q.ignoreAttr){d(),h.push(C);continue}if(y=M!==Ni&&M!=="slot"&&((b=M.indexOf("..."))===-1||b===0&&M==="...$attrs"),y&&(x=t._getBindables(r),x.attrs[M]==null&&!t._findAttr(M)?.isTemplateController)){d(),h.push(C);continue}}if(M==="...$attrs"){(S??=[]).push(new kl),d();continue}if(Q?.ignoreAttr){R.node=e,R.attr=C,R.bindable=null,R.def=null,(S??=[]).push(Q.build(R,t._exprParser,t._attrMapper)),d();continue}if(M.indexOf("...")===0){if(o&&(M=M.slice(3))!=="$element"){(L??=[]).push(new xo("$bindables",M==="$bindables"?te:M)),d();continue}throw(M==="$bindable"||M==="bindables")&&console.warn(`[DEV:aurelia] Detected usage of ${M} on <${e.nodeName}>, did you mean "$bindables"?`),fe(720,M)}if(o){if(x=t._getBindables(r),F=x.attrs[M],F!==void 0){Q===null?(de=u.parse(te,pt),(L??=[]).push(de==null?new Ys(te,F.name):new jt(de,F.name))):(R.node=e,R.attr=C,R.bindable=F,R.def=r,(L??=[]).push(Q.build(R,t._exprParser,t._attrMapper))),d(),T=t._findAttr(M),T!==null&&console.warn(`[DEV:aurelia] Binding with bindable "${M}" on custom element "${r.name}" is ambiguous.There is a custom attribute with the same name.`);continue}if(M==="$bindables"){if(Q!=null){R.node=e,R.attr=C,R.bindable=null,R.def=r;{const O=Q.build(R,t._exprParser,t._attrMapper);O instanceof xo||console.warn(`[DEV:aurelia] Binding with "$bindables" on custom element "${r.name}" with command ${C.command}  did not result in a spread binding instruction. This likely won't work as expected.`),(L??=[]).push(O)}}else console.warn(`[DEV:aurelia] Usage of "$bindables" on custom element "<${r.name}>" is ignored.`);d();continue}}if(M==="$bindables")throw fe(721,e.nodeName,M,te);if(T=t._findAttr(M),T!==null){x=t._getBindables(T),N=T.noMultiBindings===!1&&Q===null&&Qr(te),N?ge=this._compileMultiBindings(e,te,T,t):(ne=x.primary,Q===null?(de=u.parse(te,pt),ge=de===null?te===""?[]:[new Ys(te,ne.name)]:[new jt(de,ne.name)]):(R.node=e,R.attr=C,R.bindable=ne,R.def=T,ge=[Q.build(R,t._exprParser,t._attrMapper)])),d(),T.isTemplateController?(Ie??=[]).push(new wg($g,this.resolveResources?T:T.name,void 0,ge)):(j??=[]).push(new zr(this.resolveResources?T:T.name,T.aliases!=null&&T.aliases.includes(M)?M:void 0,ge));continue}if(Q===null){de=u.parse(te,pt),de!=null&&(d(),(S??=[]).push(new jt(de,t._attrMapper.map(e,M)??Te(M))));continue}R.node=e,R.attr=C,R.bindable=null,R.def=null,(S??=[]).push(Q.build(R,t._exprParser,t._attrMapper)),d()}Pn(),this._shouldReorderAttrs(e,S)&&S!=null&&S.length>1&&this._reorder(e,S),o&&(_e=new _g(this.resolveResources?r:r.name,L??W,null,v,h,A)),(S!=null||_e!=null||j!=null)&&(m=W.concat(_e??W,j??W,S??W),_=!0);let k;if(Ie!=null){f=Ie.length-1,g=f,be=Ie[g];let O;El(e)?(O=t.t(),$l(O,[t._marker(),t._comment(Hr),t._comment(Wr)])):(this._replaceByMarker(e,t),e.nodeName==="TEMPLATE"?O=e:(O=t.t(),Ts(O,e)));const Le=O,he=t._createChild(m==null?[]:[m]);let Qe,Ke,dt=!1,wt,De,yt,kt,Ri,ns,Is=0,Za=0,He=e.firstChild,Ja=!1;if(ze!==!1)for(;He!==null;){if(Ke=xl(He)?He.getAttribute(Ni):null,dt=Ke!==null||o&&!a,Qe=He.nextSibling,dt){if(!o)throw fe(706,Ke,n);He.removeAttribute?.(Ni),Ja=Il(He)&&He.textContent.trim()==="",Ja||((De??={})[Ke||Tl]??=[]).push(He),e.removeChild(He)}He=Qe}if(De!=null){wt={};for(Ke in De){for(O=t.t(),yt=De[Ke],Is=0,Za=yt.length;Za>Is;++Is)kt=yt[Is],kt.nodeName==="TEMPLATE"?kt.attributes.length>0?Ts(O,kt):Ts(O,kt.content):Ts(O,kt);ns=t._createChild(),this._compileNode(O.content,ns),wt[Ke]={name:Di(),type:si,template:O,instructions:ns.rows,needsCompile:!1}}_e.projections=wt}if(_&&(o&&(v||r.containerless)?this._replaceByMarker(e,t):this._markAsTarget(e,t)),k=!o||!r.containerless&&!v&&ze!==!1,k)if(e.nodeName===qr)this._compileNode(e.content,he);else for(He=e.firstChild;He!==null;)He=this._compileNode(He,he);for(be.def={name:Di(),type:si,template:Le,instructions:he.rows,needsCompile:!1};g-- >0;)be=Ie[g],O=t.t(),Ri=t._marker(),$l(O,[Ri,t._comment(Hr),t._comment(Wr)]),be.def={name:Di(),type:si,template:O,needsCompile:!1,instructions:[[Ie[g+1]]]};t.rows.push([be])}else{m!=null&&t.rows.push(m);let O=e.firstChild,Le,he,Qe=!1,Ke=null,dt,wt,De,yt,kt,Ri=!1,ns=0,Is=0;if(ze!==!1)for(;O!==null;){if(he=xl(O)?O.getAttribute(Ni):null,Qe=he!==null||o&&!a,Le=O.nextSibling,Qe){if(!o)throw fe(706,he,n);O.removeAttribute?.(Ni),Ri=Il(O)&&O.textContent.trim()==="",Ri||((dt??={})[he||Tl]??=[]).push(O),e.removeChild(O)}O=Le}if(dt!=null){Ke={};for(he in dt){for(yt=t.t(),wt=dt[he],ns=0,Is=wt.length;Is>ns;++ns)De=wt[ns],De.nodeName===qr?De.attributes.length>0?Ts(yt,De):Ts(yt,De.content):Ts(yt,De);kt=t._createChild(),this._compileNode(yt.content,kt),Ke[he]={name:Di(),type:si,template:yt,instructions:kt.rows,needsCompile:!1}}_e.projections=Ke}if(_&&(o&&(v||r.containerless)?this._replaceByMarker(e,t):this._markAsTarget(e,t)),k=!o||!r.containerless&&!v&&ze!==!1,k&&e.childNodes.length>0)for(O=e.firstChild;O!==null;)O=this._compileNode(O,t)}return s}_compileText(e,t){const s=e.parentNode,n=t._exprParser.parse(e.textContent,pt),r=e.nextSibling;let o,a,c,l,h;if(n!==null){for({parts:o,expressions:a}=n,(h=o[0])&&Ur(s,t._text(h),e),c=0,l=a.length;l>c;++c)Sl(s,e,[t._marker(),t._text(" ")]),(h=o[c+1])&&Ur(s,t._text(h),e),t.rows.push([new kg(a[c])]);s.removeChild(e)}return r}_compileMultiBindings(e,t,s,n){const r=n._getBindables(s),o=t.length,a=[];let c,l,h=0,u=0,d,p,m,f;for(let g=0;g<o;++g)if(u=t.charCodeAt(g),u===92)++g;else if(u===58){for(c=t.slice(h,g);t.charCodeAt(++g)<=32;);for(h=g;g<o;++g)if(u=t.charCodeAt(g),u===92)++g;else if(u===59){l=t.slice(h,g);break}if(l===void 0&&(l=t.slice(h)),p=n._attrParser.parse(c,l),m=n._getCommand(p),f=r.attrs[p.target],f==null)throw fe(707,p.target,s.name);for(m===null?(d=n._exprParser.parse(l,pt),a.push(d===null?new Ys(l,f.name):new jt(d,f.name))):(R.node=e,R.attr=p,R.bindable=f,R.def=s,a.push(m.build(R,n._exprParser,n._attrMapper)));g<o&&t.charCodeAt(++g)<=32;);h=g,c=void 0,l=void 0}return Pn(),a}_compileLocalElement(e,t){const s=t.root.def.name,n=e,r=Or(n.querySelectorAll("template[as-custom-element]")),o=r.length;if(o===0)return;if(o===n.childElementCount)throw fe(708,s);const a=new Set,c=[];for(const h of r){if(h.parentNode!==n)throw fe(709,s);const u=Eg(s,h,a),d=h.content,p=Or(d.querySelectorAll("bindable")),m=new Set,f=new Set,g=p.reduce(($,B)=>{if(B.parentNode!==d)throw fe(710,u);const C=B.getAttribute("name");if(C===null)throw fe(711,B,u);const S=B.getAttribute("attribute");if(S!==null&&f.has(S)||m.has(C))throw fe(712,m,S);S!==null&&f.add(S),m.add(C);const L=Or(B.attributes).filter(T=>!Bl.includes(T.name));return L.length>0&&console.warn(`[DEV:aurelia] The attribute(s) ${L.map(T=>T.name).join(", ")} will be ignored for ${B.outerHTML}. Only ${Bl.join(", ")} are processed.`),B.remove(),$[C]={name:C,attribute:S??void 0,mode:B.getAttribute("mode")??"default"},$},{});class w{}w.$au={type:si,name:u,template:h,bindables:g},Reflect.defineProperty(w,"name",{value:Pc(u)}),c.push(w),n.removeChild(h)}const l=(t.root.def.dependencies??[]).concat(t.root.def.Type==null?W:[t.root.def.Type]);for(const h of c)h.dependencies=l.concat(c.filter(u=>u!==h)),t._addLocalDep(h)}_shouldReorderAttrs(e,t){const s=e.nodeName;return s==="INPUT"&&Ig[e.type]===1||s==="SELECT"&&(e.hasAttribute("multiple")||t?.some(n=>n.type===ua&&n.to==="multiple"))}_reorder(e,t){switch(e.nodeName){case"INPUT":{const s=t;let n,r,o=0,a;for(let c=0;c<s.length&&o<3;c++)switch(a=s[c],a.to){case"model":case"value":case"matcher":n=c,o++;break;case"checked":r=c,o++;break}r!==void 0&&n!==void 0&&r<n&&([s[n],s[r]]=[s[r],s[n]]);break}case"SELECT":{const s=t;let n=0,r=0,o=0,a;for(let c=0;c<s.length&&o<2;++c){switch(a=s[c],a.to){case"multiple":r=c,o++;break;case"value":n=c,o++;break}o===2&&n<r&&([s[r],s[n]]=[s[n],s[r]])}}}}_markAsTarget(e,t){return Ur(e.parentNode,t._comment("au*"),e),e}_replaceByMarker(e,t){if(El(e))return e;const s=e.parentNode,n=t._marker();return Sl(s,e,[n,t._comment(Hr),t._comment(Wr)]),s.removeChild(e),n}}Gh.register=An(mr);const qr="TEMPLATE",El=i=>i.nodeValue==="au*";class er{constructor(e,t,s,n,r){this.hasSlot=!1,this.deps=null;const o=s!==null;if(this.c=t,this.root=n===null?this:n,this.def=e,this.parent=s,this._resourceResolver=o?s._resourceResolver:t.get(Zh),this._commandResolver=o?s._commandResolver:t.get(Tg),this._templateFactory=o?s._templateFactory:t.get(Ag),this._attrParser=o?s._attrParser:t.get(ha),this._exprParser=o?s._exprParser:t.get(Ii),this._attrMapper=o?s._attrMapper:t.get(hh),this._logger=o?s._logger:t.get(js),typeof(this.p=o?s.p:t.get(xi)).document?.nodeType!="number")throw fe(722);this.localEls=o?s.localEls:new Set,this.rows=r??[]}_addLocalDep(e){return(this.root.deps??=[]).push(e),this.root.c.register(e),this}_text(e){return this.p.document.createTextNode(e)}_comment(e){return this.p.document.createComment(e)}_marker(){return this._comment("au*")}h(e){const t=this.p.document.createElement(e);return e==="template"&&this.p.document.adoptNode(t.content),t}t(){return this.h("template")}_findElement(e){return this._resourceResolver.el(this.c,e)}_findAttr(e){return this._resourceResolver.attr(this.c,e)}_getBindables(e){return this._resourceResolver.bindables(e)}_createChild(e){return new er(this.def,this.c,this,this.root,e)}_getCommand(e){const t=e.command;return t===null?null:this._commandResolver.get(this.c,t)}}const Qr=i=>{const e=i.length;let t=0,s=0;for(;e>s;){if(t=i.charCodeAt(s),t===92)++s;else{if(t===58)return!0;if(t===36&&i.charCodeAt(s+1)===123)return!1}++s}return!1},Pn=()=>{R.node=R.attr=R.bindable=R.def=null},$g={name:"unnamed",type:si},R={node:null,attr:null,bindable:null,def:null},xg={id:!0,name:!0,"au-slot":!0,"as-element":!0},Ig={checkbox:1,radio:1},Zh=Nt("IResourceResolver"),Tg=Nt("IBindingCommandResolver",i=>{class e{constructor(){this._cache=new WeakMap}get(s,n){let r=this._cache.get(s);return r||this._cache.set(s,r={}),n in r?r[n]:r[n]=Cg.get(s,n)}}return i.singleton(e)}),Bl=Ti(["name","attribute","mode"]),To="as-custom-element",Eg=(i,e,t)=>{const s=e.getAttribute(To);if(s===null||s==="")throw fe(715,i);if(t.has(s))throw fe(716,s,i);return t.add(s),e.removeAttribute(To),s},Pl=Nt("ITemplateCompilerHooks"),Bg=Ti({name:Gs("compiler-hooks"),define(i){return{register(e){aa(Pl,i).register(e)}}},findAll(i){return i.get(Sf(Pl))}}),Pg=Object.prototype.hasOwnProperty,ps=Reflect.defineProperty;function Pt(i,e,t){return ps(i,e,{configurable:!0,writable:!0,value:t}),t}function qt(i,e,t){e in i||Pt(i,e,t)}const Jh=Object.assign,fa=Object.freeze,wi=String,vr=_s.createInterface,Lg=es.get,Rg=es.define,H=(i,...e)=>new Error(`AUR${wi(i).padStart(4,"0")}: ${Mg(i,...e)}`),Og={99:"Method {{0}} not implemented",101:'Ast eval error: binding behavior "{{0}}" could not be found. Did you forget to register it as a dependency?',102:'Ast eval error: binding behavior "{{0}}" already applied.',103:'Ast eval error: value converter "{{0}}" could not be found. Did you forget to register it as a dependency?',105:"Ast eval error: unable to find $host context. Did you forget [au-slot] attribute?",106:'Ast eval error: invalid assignment. "$host" is a reserved keyword.',107:"Ast eval error: expression is not a function.",109:'Ast eval error: unknown unary operator: "{{0}}"',108:'Ast eval error: unknown binary operator: "{{0}}"',110:"Ast eval error: left-hand side of tagged template expression is not a function.",111:'Ast eval error: expected "{{0}}" to be a function',112:"Ast eval error: cannot use non-object value for destructuring assignment.",113:"Ast eval error: infinite loop detected. Increment operators should only be used in event handlers.",114:'Ast eval error: cannot access property "{{0}}" of {{1}}.',115:'Ast eval error: cannot access key "{{0}}" of {{1}}.',116:'Ast eval error: cannot assign value to property "{{0}}" of null/undefined.',151:'Expression error: invalid start: "{{0}}"',152:'Expression error: spread operator is not supported: "{{0}}"',153:'Expression error: expected identifier: "{{0}}"',154:'Expression error: invalid member expression: "{{0}}"',155:'Expression error: unexpected end of expression: "{{0}}"',156:'Expression error: unconsumed token: "{{0}}" at position {{1}} of "{{2}}"',157:"Expression error: invalid empty expression. Empty expression is only valid in event bindings (trigger, delegate, capture etc...)",158:'Expression error: left hand side of expression is not assignable: "{{0}}"',159:'Expression error: expected identifier to come after value converter operator: "{{0}}"',160:"Expression error: expected identifier to come after binding behavior operator: {{0}}",161:'Expression error: unexpected keyword "of": "{{0}}"',162:'Expression error: unexpected keyword "import": "{{0}}"',163:'Expression error: invalid BindingIdentifier at left hand side of "of": "{{0}}" | kind: {{1}}',164:'Expression error: invalid or unsupported property definition in object literal: "{{0}}"',165:'Expression error: unterminated quote in string literal: "{{0}}"',166:'Expression error: unterminated template string: "{{0}}"',167:'Expression error: missing expected token "{{0}}" in "{{1}}"',168:'Expression error: unexpected character: "{{0}}"',170:'Expression error: unexpected "{{0}}" at position "{{1}}" for destructuring assignment in "{{2}}"',171:'Expression error: unexpected {{0}} at position "{{1}}" for optional chain in "{{2}}"',172:'Expression error: invalid tagged template on optional chain in "{{1}}"',173:'Expression error: invalid arrow parameter list in "{{0}}"',174:'Expression error: arrow function with default parameters is not supported: "{{0}}"',175:'Expression error: arrow function with destructuring parameters is not supported: "{{0}}"',176:'Expression error: rest parameter must be last formal parameter in arrow function: "{{0}}"',178:'Expression error: arrow function with function body is not supported: "{{0}}"',179:`Expression error: unexpected token '.' at position "{{1}}" in "{{0}}"`,199:"Trying to observe property {{0}} on null/undefined",203:"Trying to retrieve a property or build a scope from a null/undefined scope",204:"Trying to create a scope with null/undefined binding context",206:"Trying to switch to a null/undefined connectable",207:"Trying to enter an active connectable",208:"Trying to pop a null/undefined connectable",209:"Trying to exit an inactive connectable",210:"Unrecognised collection type {{0:toString}}.",217:"There is no registration for IDirtyChecker interface. If you want to use your own dirty checker, make sure you register it.",218:"Dirty checked is not permitted in this application. Property key {{0}} is being dirty checked.",219:"Trying to set value for property {{0}} in dirty checker",220:'Map/Set "size" is a readonly property',221:'Trying to assign value to readonly property "{{0}}" through computed observer.',224:"Invalid @observable decorator usage, cannot determine property name",225:"Trying to stop an effect that has already been stopped",226:"Maximum number of recursive effect run reached. Consider handle effect dependencies differently."},Mg=(i,...e)=>{let t=Og[i];for(let s=0;s<e.length;++s){const n=new RegExp(`{{${s}(:.*)?}}`,"g");let r=n.exec(t);for(;r!=null;){const o=r[1]?.slice(1);let a=e[s];if(a!=null)switch(o){case"typeof":a=typeof a;break;case"toString":a=Object.prototype.toString.call(a);break;case"join(!=)":a=a.join("!=");break;case"element":a=a==="*"?"all elements":`<${a} />`;break;default:o?.startsWith(".")?a=wi(a[o.slice(1)]):a=wi(a)}t=t.slice(0,r.index)+a+t.slice(n.lastIndex),r=n.exec(t)}}return t};class Ae{constructor(e,t,s,n){this.parent=e,this.bindingContext=t,this.overrideContext=s,this.isBoundary=n}static getContext(e,t,s){if(e==null)throw H(203);let n=e.overrideContext,r=e;if(s>0){for(;s>0;)if(s--,r=r.parent,r==null)return;return n=r.overrideContext,t in n?n:r.bindingContext}for(;r!=null&&!r.isBoundary&&!(t in r.overrideContext)&&!(t in r.bindingContext);)r=r.parent;return r==null?e.bindingContext:(n=r.overrideContext,t in n?n:r.bindingContext)}static create(e,t,s){if(e==null)throw H(204);return new Ae(null,e,t??new Rl,s??!1)}static fromParent(e,t,s=new Rl){if(e==null)throw H(203);return new Ae(e,t,s,!1)}}class Ll{constructor(e,t){e!==void 0&&(this[e]=t)}}class Rl{}const{astAssign:bn,astEvaluate:ce,astBind:ys,astUnbind:ks}=(()=>{const i="AccessThis",e="AccessBoundary",t="AccessGlobal",s="AccessScope",n="ArrayLiteral",r="ObjectLiteral",o="PrimitiveLiteral",c="Template",l="Unary",h="CallScope",u="CallMember",d="CallFunction",p="CallGlobal",m="AccessMember",f="AccessKeyed",g="TaggedTemplate",w="Binary",$="Conditional",B="Assign",C="ArrowFunction",S="ValueConverter",L="BindingBehavior",T="ArrayBindingPattern",N="ObjectBindingPattern",F="BindingIdentifier",j="ForOfStatement",ge="Interpolation",Ie="ArrayDestructuring",be="ObjectDestructuring",de="DestructuringAssignmentLeaf",_e="Custom",Q=Ae.getContext;function x(v,y,_,A){switch(v.$kind){case i:{let b=y.overrideContext,k=y,O=v.ancestor;for(;O--&&b;)k=k.parent,b=k?.overrideContext??null;return O<1&&k?k.bindingContext:void 0}case e:{let b=y;for(;b!=null&&!b.isBoundary;)b=b.parent;return b?b.bindingContext:void 0}case s:{const b=Q(y,v.name,v.ancestor);A!==null&&A.observe(b,v.name);const k=b[v.name];if(k==null){if(v.name==="$host")throw H(105);return k}return _?.boundFn&&ee(k)?k.bind(b):k}case t:return globalThis[v.name];case p:{const b=globalThis[v.name];if(ee(b))return b(...v.args.map(k=>x(k,y,_,A)));if(!_?.strict&&b==null)return;throw H(107)}case n:return v.elements.map(b=>x(b,y,_,A));case r:{const b={};for(let k=0;k<v.keys.length;++k)b[v.keys[k]]=x(v.values[k],y,_,A);return b}case o:return v.value;case"New":{const b=x(v.func,y,_,A);if(ee(b))return new b(...v.args.map(k=>x(k,y,_,A)));throw H(107)}case c:{let b=v.cooked[0];for(let k=0;k<v.expressions.length;++k)b+=wi(x(v.expressions[k],y,_,A)),b+=v.cooked[k+1];return b}case l:{const b=x(v.expression,y,_,A);switch(v.operation){case"void":return;case"typeof":return typeof b;case"!":return!b;case"-":return-b;case"+":return+b;case"--":if(A!=null)throw H(113);return ne(v.expression,y,_,A,b-1)+v.pos;case"++":if(A!=null)throw H(113);return ne(v.expression,y,_,A,b+1)-v.pos;default:throw H(109,v.operation)}}case h:{const b=Q(y,v.name,v.ancestor);if(b==null){if(_?.strict)throw H(114,v.name,b);return}const k=b[v.name];if(ee(k))return k.apply(b,v.args.map(O=>x(O,y,_,A)));if(k==null){if(_?.strict&&!v.optional)throw H(111,v.name);return}throw H(111,v.name)}case u:{const b=x(v.object,y,_,A);if(b==null&&_?.strict&&!v.optionalMember)throw H(114,v.name,b);const k=b?.[v.name];if(k==null){if(!v.optionalCall&&_?.strict)throw H(111,v.name);return}if(!ee(k))throw H(111,v.name);const O=k.apply(b,v.args.map(Le=>x(Le,y,_,A)));return we(b)&&ze.includes(v.name)&&A?.observeCollection(b),O}case d:{const b=x(v.func,y,_,A);if(ee(b))return b(...v.args.map(k=>x(k,y,_,A)));if(b==null){if(!v.optional&&_?.strict)throw H(107);return}throw H(107)}case C:return(...k)=>{const O=v.args,Le=v.rest,he=O.length-1,Qe=O.reduce((dt,wt,De)=>(Le&&De===he?dt[wt.name]=k.slice(De):dt[wt.name]=k[De],dt),{}),Ke=Ae.fromParent(y,Qe);return x(v.body,Ke,_,A)};case m:{const b=x(v.object,y,_,A);if(b==null){if(!v.optional&&_?.strict)throw H(114,v.name,b);return}A!==null&&!v.accessGlobal&&A.observe(b,v.name);const k=b[v.name];return _?.boundFn&&ee(k)?k.bind(b):k}case f:{const b=x(v.object,y,_,A),k=x(v.key,y,_,A);if(b==null){if(!v.optional&&_?.strict)throw H(115,k,b);return}return A!==null&&!v.accessGlobal&&A.observe(b,k),b[k]}case g:{const b=v.expressions.map(O=>x(O,y,_,A)),k=x(v.func,y,_,A);if(!ee(k))throw H(110);return k(v.cooked,...b)}case w:{const b=v.left,k=v.right;switch(v.operation){case"&&":return x(b,y,_,A)&&x(k,y,_,A);case"||":return x(b,y,_,A)||x(k,y,_,A);case"??":return x(b,y,_,A)??x(k,y,_,A);case"==":return x(b,y,_,A)==x(k,y,_,A);case"===":return x(b,y,_,A)===x(k,y,_,A);case"!=":return x(b,y,_,A)!=x(k,y,_,A);case"!==":return x(b,y,_,A)!==x(k,y,_,A);case"instanceof":{const O=x(k,y,_,A);return ee(O)?x(b,y,_,A)instanceof O:!1}case"in":{const O=x(k,y,_,A);return Qn(O)?x(b,y,_,A)in O:!1}case"+":return x(b,y,_,A)+x(k,y,_,A);case"-":return x(b,y,_,A)-x(k,y,_,A);case"*":return x(b,y,_,A)*x(k,y,_,A);case"/":return x(b,y,_,A)/x(k,y,_,A);case"%":return x(b,y,_,A)%x(k,y,_,A);case"**":return x(b,y,_,A)**x(k,y,_,A);case"<":return x(b,y,_,A)<x(k,y,_,A);case">":return x(b,y,_,A)>x(k,y,_,A);case"<=":return x(b,y,_,A)<=x(k,y,_,A);case">=":return x(b,y,_,A)>=x(k,y,_,A);default:throw H(108,v.operation)}}case $:return x(v.condition,y,_,A)?x(v.yes,y,_,A):x(v.no,y,_,A);case B:{let b=x(v.value,y,_,A);if(v.op!=="="){if(A!=null)throw H(113);const k=x(v.target,y,_,A);switch(v.op){case"/=":b=k/b;break;case"*=":b=k*b;break;case"+=":b=k+b;break;case"-=":b=k-b;break;default:throw H(108,v.op)}}return ne(v.target,y,_,A,b)}case S:return _?.useConverter?.(v.name,"toView",x(v.expression,y,_,A),v.args.map(b=>x(b,y,_,A)));case L:return x(v.expression,y,_,A);case F:return v.name;case j:return x(v.iterable,y,_,A);case ge:if(v.isMulti){let b=v.parts[0],k=0;for(;k<v.expressions.length;++k)b+=wi(x(v.expressions[k],y,_,A)),b+=v.parts[k+1];return b}else return`${v.parts[0]}${x(v.firstExpression,y,_,A)}${v.parts[1]}`;case de:return x(v.target,y,_,A);case Ie:return v.list.map(b=>x(b,y,_,A));case T:case N:case be:default:return;case _e:return v.evaluate(y,_,A)}}function ne(v,y,_,A,b){switch(v.$kind){case s:{if(v.name==="$host")throw H(106);const k=Q(y,v.name,v.ancestor);return k[v.name]=b}case m:{const k=x(v.object,y,_,A);if(k==null){if(_?.strict)throw H(116,v.name);ne(v.object,y,_,A,{[v.name]:b})}else Qn(k)&&(v.name==="length"&&we(k)&&!isNaN(b)?k.splice(b):k[v.name]=b);return b}case f:{const k=x(v.object,y,_,A),O=x(v.key,y,_,A);if(k==null){if(_?.strict)throw H(116,O);return ne(v.object,y,_,A,{[O]:b}),b}if(we(k)){if(O==="length"&&!isNaN(b))return k.splice(b),b;if(pn(O))return k.splice(O,1,b),b}return k[O]=b}case B:return ne(v.value,y,_,A,b),ne(v.target,y,_,A,b);case S:return b=_?.useConverter?.(v.name,"fromView",b,v.args.map(k=>x(k,y,_,A))),ne(v.expression,y,_,A,b);case L:return ne(v.expression,y,_,A,b);case Ie:case be:{const k=v.list,O=k.length;let Le,he;for(Le=0;Le<O;Le++)switch(he=k[Le],he.$kind){case de:ne(he,y,_,A,b);break;case Ie:case be:{if(typeof b!="object"||b===null)throw H(112);let Qe=x(he.source,Ae.create(b),_,null);Qe===void 0&&he.initializer&&(Qe=x(he.initializer,y,_,null)),ne(he,y,_,A,Qe);break}}break}case de:{if(v instanceof Yc){if(b==null)return;if(typeof b!="object")throw H(112);let k=x(v.source,Ae.create(b),_,A);k===void 0&&v.initializer&&(k=x(v.initializer,y,_,A)),ne(v.target,y,_,A,k)}else{if(b==null)return;if(typeof b!="object")throw H(112);const k=v.indexOrProperties;let O;if(pn(k)){if(!Array.isArray(b))throw H(112);O=b.slice(k)}else O=Object.entries(b).reduce((Le,[he,Qe])=>(k.includes(he)||(Le[he]=Qe),Le),{});ne(v.target,y,_,A,O)}break}case _e:return v.assign(y,_,b);default:return}}function M(v,y,_){switch(v.$kind){case L:{_.bindBehavior?.(v.name,y,v.args.map(A=>x(A,y,_,null))),M(v.expression,y,_);break}case S:{_.bindConverter?.(v.name),M(v.expression,y,_);break}case j:{M(v.iterable,y,_);break}case _e:v.bind?.(y,_)}}function te(v,y,_){switch(v.$kind){case L:{_.unbindBehavior?.(v.name,y),te(v.expression,y,_);break}case S:{_.unbindConverter?.(v.name),te(v.expression,y,_);break}case j:{te(v.iterable,y,_);break}case _e:v.unbind?.(y,_)}}const ze="at map filter includes indexOf lastIndexOf findIndex find flat flatMap join reduce reduceRight slice every some sort".split(" ");return{astEvaluate:x,astAssign:ne,astBind:M,astUnbind:te}})(),Ng=i=>{const e=i.prototype;["bindBehavior","unbindBehavior","bindConverter","unbindConverter","useConverter"].forEach(t=>{Pt(e,t,()=>{throw H(99,t)})})},Kr="pending",Dg="running",Ol="completed",zi="canceled",Xh=Promise.resolve();let Gr=!1,Eo=!1;const We=[];let ds=0,ls=null,fs=[],tr=null,yi=null;const sr=()=>{Gr||(Gr=!0,Xh.then(()=>{Gr=!1,Eo=!0,Fg()}))},nn=i=>{if(ls&&We.length===0&&ds===0)if(ls=null,fs.length>0){const e=fs;fs=[],e.length===1?yi(e[0]):yi(new AggregateError(e,"One or more tasks failed."))}else tr(i)},Fg=()=>{const i=!Eo;Eo=!1,ls??=new Promise((n,r)=>{tr=n,yi=r});let e=-We.length;const t=We.length===0;for(;We.length>0;){if(++e>1e4){const r=new Error("Potential deadlock detected. More than 10000 extra tasks were queued from within tasks.");throw We.length=0,yi?.(r),ls=null,r}const n=We.shift();if(typeof n=="function")try{n()}catch(r){fs.push(r)}else n.run()}const s=fs.slice();if(nn(!t),i&&s.length>0)throw s.length===1?s[0]:new AggregateError(s,"One or more tasks failed.")},Vg=()=>ls||(We.length>0||ds>0?ls??=new Promise((i,e)=>{tr=i,yi=e}):Xh.then(()=>We.length>0||ds>0?ls??=new Promise((i,e)=>{tr=i,yi=e}):!1)),Lt=i=>{sr(),We.push(i)},rn=(i,e)=>{const t=new Yh(i,e?.delay);return t.delay!=null&&t.delay>0?(++ds,t._timerId=setTimeout(()=>{if(--ds,t._timerId=void 0,t.status===zi){nn(!0);return}We.push(t),sr()},t.delay)):(We.push(t),sr()),t};let Ml=class extends Error{constructor(e){super(`Task ${e.id} was canceled.`),this.task=e}},Yh=class eu{get result(){return this._result}get status(){return this._status}constructor(e,t){this.callback=e,this.delay=t,this.id=++eu._taskId,this._status=Kr,this._result=new Promise((s,n)=>{this._resolve=s,this._reject=n})}run(){if(this._status!==Kr)throw new Error(`Cannot run task in ${this._status} state`);this._status=Dg;let e;try{e=this.callback()}catch(t){this._status=zi,this._reject(t),fs.push(t);return}e instanceof Promise?(++ds,e.then(t=>{this._status=Ol,this._resolve(t)}).catch(t=>{this._status=zi,this._reject(t),fs.push(t)}).finally(()=>{--ds,nn(!0)})):(this._status=Ol,this._resolve(e))}cancel(){if(this._timerId!==void 0){clearTimeout(this._timerId),--ds,this._timerId=void 0,this._status=zi;const e=new Ml(this);return this._reject(e),this._result.catch(ht),nn(!0),!0}if(this._status===Kr){const e=We.indexOf(this);if(e>-1){We.splice(e,1),this._status=zi;const t=new Ml(this);return this._reject(t),this._result.catch(ht),nn(!0),!0}}return!1}};Yh._taskId=0;const jg=(i,e)=>{const t=new br(i,Math.max(e?.interval,0));return t._start(),t};class br{constructor(e,t){this._callback=e,this._interval=t,this.id=++br._nextId,this._canceled=!1,this._nextResolvers=[]}run(){try{this._callback()}catch(e){fs.push(e);return}}_start(){this._canceled||(this._timerId=setTimeout(()=>{this._tick(),this._canceled||this._start()},this._interval))}_tick(){We.push(this),sr();const e=this._nextResolvers.splice(0);for(const t of e)t()}next(){return this._canceled?Promise.resolve():new Promise(e=>this._nextResolvers.push(e))}cancel(){this._canceled=!0,this._timerId!==void 0&&(clearTimeout(this._timerId),this._timerId=void 0);const e=this._nextResolvers.splice(0);for(const t of e)t()}}br._nextId=0;const tu=_s.createInterface("ICoercionConfiguration"),_r=0,Cs=1,zg=2,Hg=4,pa=fa({None:_r,Observer:Cs,Node:zg,Layout:Hg});function Ws(i=0){const e=Array(i);let t=0;for(;t<i;)e[t]=t++;return e.deletedIndices=[],e.deletedItems=[],e.isIndexMap=!0,e}let Wg=!1;const bt=(()=>{function i(a,c){return a==null?r:r(a)}function e(){return Pt(this,"subs",new o)}function t(a){return this.subs.add(a)}function s(a){return this.subs.remove(a)}const n=new WeakSet;function r(a,c){if(!n.has(a)){n.add(a);const l=a.prototype;ps(l,"subs",{get:e}),qt(l,"subscribe",t),qt(l,"unsubscribe",s)}return a}class o{constructor(){this.count=0,this._subs=[],this._requestDirtySubs=[],this._hasDirtySubs=!1}add(c){return this._subs.includes(c)?!1:(this._subs[this._subs.length]=c,"handleDirty"in c&&(this._requestDirtySubs[this._requestDirtySubs.length]=c,this._hasDirtySubs=!0),++this.count,!0)}remove(c){let l=this._subs.indexOf(c);return l!==-1?(this._subs.splice(l,1),l=this._requestDirtySubs.indexOf(c),l!==-1&&(this._requestDirtySubs.splice(l,1),this._hasDirtySubs=this._requestDirtySubs.length>0),--this.count,!0):!1}notify(c,l){for(const h of this._subs.slice(0))h.handleChange(c,l)}notifyCollection(c,l){const h=this._subs.slice(0),u=h.length;let d=0;for(;d<u;++d)h[d].handleCollectionChange(c,l)}notifyDirty(){if(this._hasDirtySubs)for(const c of this._requestDirtySubs.slice(0))c.handleDirty()}}return i})();class su{constructor(e){this.owner=e,this.type=Cs,this._value=(this._obj=e.collection).length}getValue(){return this._obj.length}setValue(e){e!==this._value&&(Number.isNaN(e)?console.warn(`Invalid value "${e}" for array length`):(this._obj.splice(e),this._value=this._obj.length))}handleDirty(){this._value!==this._obj.length&&this.subs.notifyDirty()}handleCollectionChange(e,t){const s=this._value,n=this._obj.length;(this._value=n)!==s&&(this.subs.notifyDirty(),this.subs.notify(this._value,s))}}iu(su);class ga{constructor(e){this.owner=e,this.type=Cs,this._value=(this._obj=e.collection).size}getValue(){return this._obj.size}setValue(){throw H(220)}handleDirty(){this._value!==this._obj.size&&this.subs.notifyDirty()}handleCollectionChange(e,t){const s=this._value,n=this._obj.size;(this._value=n)!==s&&this.subs.notify(this._value,s)}}iu(ga);function iu(i){const e=i.prototype;return qt(e,"subscribe",Ug),qt(e,"unsubscribe",qg),bt(i,null)}function Ug(i){this.subs.add(i)&&this.subs.count===1&&this.owner.subscribe(this)}function qg(i){this.subs.remove(i)&&this.subs.count===0&&this.owner.subscribe(this)}const on=(()=>{const i=Symbol.for("__au_arr_obs__"),e=Array[i]??Pt(Array,i,new WeakMap);function t(f,g){return f===g?0:(f=f===null?"null":f.toString(),g=g===null?"null":g.toString(),f<g?-1:1)}function s(f,g){return f===void 0?g===void 0?0:1:g===void 0?-1:0}function n(f,g,w,$,B){let C,S,L,T,N,F,j;for(F=w+1;F<$;F++){for(C=f[F],S=g[F],j=F-1;j>=w&&(L=f[j],T=g[j],N=B(L,C),N>0);j--)f[j+1]=L,g[j+1]=T;f[j+1]=C,g[j+1]=S}}function r(f,g,w,$,B){let C=0,S=0,L,T,N,F,j,ge,Ie,be,de,_e,Q,x,ne,M,te,ze,v,y,_;for(;;){if($-w<=10){n(f,g,w,$,B);return}C=w+($-w>>1),L=f[w],F=g[w],T=f[$-1],j=g[$-1],N=f[C],ge=g[C],Ie=B(L,T),Ie>0&&(_e=L,Q=F,L=T,F=j,T=_e,j=Q),be=B(L,N),be>=0?(_e=L,Q=F,L=N,F=ge,N=T,ge=j,T=_e,j=Q):(de=B(T,N),de>0&&(_e=T,Q=j,T=N,j=ge,N=_e,ge=Q)),f[w]=L,g[w]=F,f[$-1]=N,g[$-1]=ge,x=T,ne=j,M=w+1,te=$-1,f[C]=f[M],g[C]=g[M],f[M]=x,g[M]=ne;e:for(S=M+1;S<te;S++)if(ze=f[S],v=g[S],y=B(ze,x),y<0)f[S]=f[M],g[S]=g[M],f[M]=ze,g[M]=v,M++;else if(y>0){do{if(te--,te==S)break e;_=f[te],y=B(_,x)}while(y>0);f[S]=f[te],g[S]=g[te],f[te]=ze,g[te]=v,y<0&&(ze=f[S],v=g[S],f[S]=f[M],g[S]=g[M],f[M]=ze,g[M]=v,M++)}$-te<M-w?(r(f,g,te,$,B),$=M):(r(f,g,w,M,B),w=te)}}const o=Array.prototype,a=["push","unshift","pop","shift","splice","reverse","sort"];let c;function l(){const f=o.push,g=o.unshift,w=o.pop,$=o.shift,B=o.splice,C=o.reverse,S=o.sort;c={push:function(...L){const T=e.get(this);if(T===void 0)return f.apply(this,L);const N=this.length,F=L.length;if(F===0)return N;this.length=T.indexMap.length=N+F;let j=N;for(;j<this.length;)this[j]=L[j-N],T.indexMap[j]=-2,j++;return T.notify(),this.length},unshift:function(...L){const T=e.get(this);if(T===void 0)return g.apply(this,L);const N=L.length,F=new Array(N);let j=0;for(;j<N;)F[j++]=-2;g.apply(T.indexMap,F);const ge=g.apply(this,L);return T.notify(),ge},pop:function(){const L=e.get(this);if(L===void 0)return w.call(this);const T=L.indexMap,N=w.call(this),F=T.length-1;return T[F]>-1&&(T.deletedIndices.push(T[F]),T.deletedItems.push(N)),w.call(T),L.notify(),N},shift:function(){const L=e.get(this);if(L===void 0)return $.call(this);const T=L.indexMap,N=$.call(this);return T[0]>-1&&(T.deletedIndices.push(T[0]),T.deletedItems.push(N)),$.call(T),L.notify(),N},splice:function(...L){const T=L[0],N=L[1],F=e.get(this);if(F===void 0)return B.apply(this,L);const j=this.length,ge=T|0,Ie=ge<0?Math.max(j+ge,0):Math.min(ge,j),be=F.indexMap,de=L.length,_e=de===0?0:de===1?j-Ie:N;let Q=Ie;if(_e>0){const ne=Q+_e;for(;Q<ne;)be[Q]>-1&&(be.deletedIndices.push(be[Q]),be.deletedItems.push(this[Q])),Q++}if(Q=0,de>2){const ne=de-2,M=new Array(ne);for(;Q<ne;)M[Q++]=-2;B.call(be,T,N,...M)}else B.apply(be,L);const x=B.apply(this,L);return(_e>0||Q>0)&&F.notify(),x},reverse:function(){const L=e.get(this);if(L===void 0)return C.call(this),this;const T=this.length,N=T/2|0;let F=0;for(;F!==N;){const j=T-F-1,ge=this[F],Ie=L.indexMap[F],be=this[j],de=L.indexMap[j];this[F]=be,L.indexMap[F]=de,this[j]=ge,L.indexMap[j]=Ie,F++}return L.notify(),this},sort:function(L){const T=e.get(this);if(T===void 0)return S.call(this,L),this;let N=this.length;if(N<2)return this;r(this,T.indexMap,0,N,s);let F=0;for(;F<N&&this[F]!==void 0;)F++;(L===void 0||!ee(L))&&(L=t),r(this,T.indexMap,0,F,L);let j=!1;for(F=0,N=T.indexMap.length;N>F;++F)if(T.indexMap[F]!==F){j=!0;break}return(j||Wg)&&T.notify(),this}};for(const L of a)ps(c[L],"observing",{value:!0})}let h=!1;const u="__au_arr_on__";function d(){if(c===void 0&&l(),!(Lg(u,Array)??!1)){Rg(!0,Array,u);for(const f of a)o[f].observing!==!0&&Pt(o,f,c[f])}}class p{constructor(g){this.type=Cs,h||(h=!0,d()),this.indexObservers={},this.collection=g,this.indexMap=Ws(g.length),this.lenObs=void 0,e.set(g,this)}notify(){const g=this.subs;g.notifyDirty();const w=this.indexMap,$=this.collection,B=$.length;this.indexMap=Ws(B),g.notifyCollection($,w)}getLengthObserver(){return this.lenObs??=new su(this)}getIndexObserver(g){return this.indexObservers[g]??=new m(this,g)}}bt(p,null);class m{constructor(g,w){this.owner=g,this.index=w,this.doNotCache=!0,this.value=this.getValue()}getValue(){return this.owner.collection[this.index]}setValue(g){if(g===this.getValue())return;const w=this.owner,$=this.index,B=w.indexMap;B[$]>-1&&B.deletedIndices.push(B[$]),B[$]=-2,w.collection[$]=g,w.notify()}handleDirty(){this.value!==this.getValue()&&this.subs.notifyDirty()}handleCollectionChange(g,w){const $=this.index;if(w[$]===$)return;const C=this.value,S=this.value=this.getValue();C!==S&&this.subs.notify(S,C)}subscribe(g){this.subs.add(g)&&this.subs.count===1&&this.owner.subscribe(this)}unsubscribe(g){this.subs.remove(g)&&this.subs.count===0&&this.owner.unsubscribe(this)}}return bt(m,null),function(g){let w=e.get(g);return w===void 0&&(e.set(g,w=new p(g)),d()),w}})(),ir=(()=>{const i=Symbol.for("__au_set_obs__"),e=Set[i]??Pt(Set,i,new WeakMap),{add:t,clear:s,delete:n}=Set.prototype,r=["add","clear","delete"],o={add:function(l){const h=e.get(this);if(h===void 0)return t.call(this,l),this;const u=this.size;return t.call(this,l),this.size===u?this:(h.indexMap[u]=-2,h.notify(),this)},clear:function(){const l=e.get(this);if(l===void 0)return s.call(this);if(this.size>0){const u=l.indexMap;let d=0;for(const p of this.keys())u[d]>-1&&(u.deletedIndices.push(u[d]),u.deletedItems.push(p)),d++;s.call(this),u.length=0,l.notify()}},delete:function(l){const h=e.get(this);if(h===void 0)return n.call(this,l);if(this.size===0)return!1;let d=0;const p=h.indexMap;for(const m of this.keys()){if(m===l){p[d]>-1&&(p.deletedIndices.push(p[d]),p.deletedItems.push(m)),p.splice(d,1);const f=n.call(this,l);return f===!0&&h.notify(),f}d++}return!1}};function a(l){for(const h of r)Pt(l,h,o[h])}class c{constructor(h){this.type=Cs,this.collection=h,this.indexMap=Ws(h.size),this.lenObs=void 0}notify(){const h=this.subs;h.notifyDirty();const u=this.indexMap,d=this.collection,p=d.size;this.indexMap=Ws(p),h.notifyCollection(d,u)}getLengthObserver(){return this.lenObs??=new ga(this)}}return bt(c,null),function(h){let u=e.get(h);return u===void 0&&(e.set(h,u=new c(h)),a(h)),u}})(),nr=(()=>{const i=Symbol.for("__au_map_obs__"),e=Map[i]??Pt(Map,i,new WeakMap),{set:t,clear:s,delete:n}=Map.prototype,r=["set","clear","delete"],o={set:function(l,h){const u=e.get(this);if(u===void 0)return t.call(this,l,h),this;const d=this.get(l),p=this.size;if(t.call(this,l,h),this.size===p){let f=0;for(const g of this.entries()){if(g[0]===l)return g[1]!==d&&(u.indexMap.deletedIndices.push(u.indexMap[f]),u.indexMap.deletedItems.push(g),u.indexMap[f]=-2,u.notify()),this;f++}return this}return u.indexMap[p]=-2,u.notify(),this},clear:function(){const l=e.get(this);if(l===void 0)return s.call(this);if(this.size>0){const u=l.indexMap;let d=0;for(const p of this.keys())u[d]>-1&&(u.deletedIndices.push(u[d]),u.deletedItems.push(p)),d++;s.call(this),u.length=0,l.notify()}},delete:function(l){const h=e.get(this);if(h===void 0)return n.call(this,l);if(this.size===0)return!1;let d=0;const p=h.indexMap;for(const m of this.keys()){if(m===l){p[d]>-1&&(p.deletedIndices.push(p[d]),p.deletedItems.push(m)),p.splice(d,1);const f=n.call(this,l);return f===!0&&h.notify(),f}++d}return!1}};function a(l){for(const h of r)Pt(l,h,o[h])}class c{constructor(h){this.type=Cs,this.collection=h,this.indexMap=Ws(h.size),this.lenObs=void 0}notify(){const h=this.subs;h.notifyDirty();const u=this.indexMap,d=this.collection,p=d.size;this.indexMap=Ws(p),h.notifyCollection(d,u)}getLengthObserver(){return this.lenObs??=new ga(this)}}return bt(c,null),function(h){let u=e.get(h);return u===void 0&&(e.set(h,u=new c(h)),a(h)),u}})(),Nl=(()=>{class i{constructor(h){this.version=0,this.count=0,this.o=new Map,this.b=h}add(h){this.o.has(h)||(h.subscribe(this.b),++this.count),this.o.set(h,this.version)}clear(){this.o.forEach(t,this),this.count=this.o.size}clearAll(){this.o.forEach(e,this),this.o.clear(),this.count=0}}function e(l,h){h.unsubscribe(this.b)}function t(l,h){this.version!==l&&(h.unsubscribe(this.b),this.o.delete(h))}function s(){return Pt(this,"obs",new i(this))}function n(l,h){this.obs.add(this.oL.getObserver(l,h))}function r(l){let h;if(we(l))h=on(l);else if($i(l))h=ir(l);else if(hs(l))h=nr(l);else throw H(210,l);this.obs.add(h)}function o(l){this.obs.add(l)}function a(){throw H(99,"handleChange")}function c(){throw H(99,"handleCollectionChange")}return function(h,u){const d=h.prototype;return qt(d,"observe",n),qt(d,"observeCollection",r),qt(d,"subscribeTo",o),ps(d,"obs",{get:s}),qt(d,"handleChange",a),qt(d,"handleCollectionChange",c),h}})();function ut(i,e){return i==null?Nl:Nl(i,e)}let K=null;const li=[];let Xt=!1;function Qg(){Xt=!1}function Kg(){Xt=!0}function ma(){return K}function va(i){if(i==null)throw H(206);if(K==null){K=i,li[0]=K,Xt=!0;return}if(K===i)throw H(207);li.push(i),K=i,Xt=!0}function ba(i){if(i==null)throw H(208);if(K!==i)throw H(209);li.pop(),K=li.length>0?li[li.length-1]:null,Xt=K!=null}const Gg=fa({get current(){return K},get connecting(){return Xt},enter:va,exit:ba,pause:Qg,resume:Kg}),ki=Reflect.get,Zg=Object.prototype.toString,Bo=new WeakMap,Jg="__au_nw__",Xg="__au_nw";function nu(i){switch(Zg.call(i)){case"[object Object]":return i.constructor[Jg]!==!0;case"[object Array]":case"[object Map]":case"[object Set]":return!0;default:return!1}}const Pi="__raw__";function q(i){return nu(i)?wr(i):i}function wr(i){return Bo.get(i)??Yg(i)}function X(i){return i[Pi]??i}function Ve(i){return nu(i)&&i[Pi]||i}function _a(i,e){if(e==="constructor"||e==="__proto__"||e==="$observers"||e===Symbol.toPrimitive||e===Symbol.toStringTag||i.constructor[`${Xg}_${wi(e)}__`]===!0)return!0;const t=Reflect.getOwnPropertyDescriptor(i,e);return t?.configurable===!1&&t.writable===!1}function Yg(i){const e=we(i)?tm:hs(i)||$i(i)?Am:em,t=new Proxy(i,e);return Bo.set(i,t),Bo.set(t,t),t}const em={get(i,e,t){if(e===Pi)return i;const s=ma();return!Xt||_a(i,e)||s==null?ki(i,e,t):(s.observe(i,e),q(ki(i,e,t)))},deleteProperty(i,e){return console.warn("[DEV:aurelia] deletion of a property will not always be working with Aurelia observation system, as it depends on getter/setter installation."),delete i[e]}},tm={get(i,e,t){if(e===Pi)return i;if(!Xt||_a(i,e)||K==null)return ki(i,e,t);switch(e){case"length":return K.observe(i,"length"),i.length;case"map":return sm;case"includes":return rm;case"indexOf":return om;case"lastIndexOf":return am;case"every":return im;case"filter":return nm;case"find":return cm;case"findIndex":return lm;case"flat":return hm;case"flatMap":return um;case"join":return dm;case"push":return pm;case"pop":return fm;case"reduce":return km;case"reduceRight":return Cm;case"reverse":return bm;case"shift":return gm;case"unshift":return mm;case"slice":return ym;case"splice":return vm;case"some":return _m;case"sort":return wm;case"keys":return ru;case"values":case Symbol.iterator:return Po;case"entries":return Lo}return K.observe(i,e),q(ki(i,e,t))},ownKeys(i){return ma()?.observe(i,"length"),Reflect.ownKeys(i)}};function sm(i,e){const t=X(this),s=t.map((n,r)=>Ve(i.call(e,q(n),r,this)));return ve(K,t),q(s)}function im(i,e){const t=X(this),s=t.every((n,r)=>i.call(e,q(n),r,this));return ve(K,t),s}function nm(i,e){const t=X(this),s=t.filter((n,r)=>Ve(i.call(e,q(n),r,this)));return ve(K,t),q(s)}function rm(i){const e=X(this),t=e.includes(Ve(i));return ve(K,e),t}function om(i){const e=X(this),t=e.indexOf(Ve(i));return ve(K,e),t}function am(i){const e=X(this),t=e.lastIndexOf(Ve(i));return ve(K,e),t}function lm(i,e){const t=X(this),s=t.findIndex((n,r)=>Ve(i.call(e,q(n),r,this)));return ve(K,t),s}function cm(i,e){const t=X(this),s=t.find((n,r)=>i(q(n),r,this),e);return ve(K,t),q(s)}function hm(){const i=X(this);return ve(K,i),q(i.flat())}function um(i,e){const t=X(this);return ve(K,t),wr(t.flatMap((s,n)=>q(i.call(e,q(s),n,this))))}function dm(i){const e=X(this);return ve(K,e),e.join(i)}function fm(){return q(X(this).pop())}function pm(...i){return X(this).push(...i)}function gm(){return q(X(this).shift())}function mm(...i){return X(this).unshift(...i)}function vm(...i){return q(X(this).splice(...i))}function bm(...i){return q(X(this).reverse())}function _m(i,e){const t=X(this),s=t.some((n,r)=>Ve(i.call(e,q(n),r,this)));return ve(K,t),s}function wm(i){const e=X(this),t=e.sort(i);return ve(K,e),q(t)}function ym(i,e){const t=X(this);return ve(K,t),wr(t.slice(i,e))}function km(i,e){const t=X(this),s=t.reduce((n,r,o)=>i(n,q(r),o,this),e);return ve(K,t),q(s)}function Cm(i,e){const t=X(this),s=t.reduceRight((n,r,o)=>i(n,q(r),o,this),e);return ve(K,t),q(s)}const Am={get(i,e,t){if(e===Pi)return i;const s=ma();if(!Xt||_a(i,e)||s==null)return ki(i,e,t);switch(e){case"size":return s.observe(i,"size"),i.size;case"clear":return Em;case"delete":return Bm;case"forEach":return Sm;case"add":if($i(i))return Tm;break;case"get":if(hs(i))return xm;break;case"set":if(hs(i))return Im;break;case"has":return $m;case"keys":return ru;case"values":return Po;case"entries":return Lo;case Symbol.iterator:return hs(i)?Lo:Po}return q(ki(i,e,t))}};function Sm(i,e){const t=X(this);return ve(K,t),t.forEach((s,n)=>{i.call(e,q(s),q(n),this)})}function $m(i){const e=X(this);return ve(K,e),e.has(Ve(i))}function xm(i){const e=X(this);return ve(K,e),q(e.get(Ve(i)))}function Im(i,e){return q(X(this).set(Ve(i),Ve(e)))}function Tm(i){return q(X(this).add(Ve(i)))}function Em(){return q(X(this).clear())}function Bm(i){return q(X(this).delete(Ve(i)))}function ru(){const i=X(this);ve(K,i);const e=i.keys();return{next(){const t=e.next(),s=t.value,n=t.done;return n?{value:void 0,done:n}:{value:q(s),done:n}},[Symbol.iterator](){return this}}}function Po(){const i=X(this);ve(K,i);const e=i.values();return{next(){const t=e.next(),s=t.value,n=t.done;return n?{value:void 0,done:n}:{value:q(s),done:n}},[Symbol.iterator](){return this}}}function Lo(){const i=X(this);ve(K,i);const e=i.entries();return{next(){const t=e.next(),s=t.value,n=t.done;return n?{value:void 0,done:n}:{value:[q(s[0]),q(s[1])],done:n}},[Symbol.iterator](){return this}}}const ve=(i,e)=>i?.observeCollection(e),Pm=fa({getProxy:wr,getRaw:X,wrap:q,unwrap:Ve,rawKey:Pi});class rr{constructor(e,t,s,n,r="async"){this.type=Cs,this._oldValue=void 0,this._value=void 0,this._notified=!1,this._isQueued=!1,this._isDirty=!1,this._callback=void 0,this._coercer=void 0,this._coercionConfig=void 0,this._obj=e,this._wrapped=q(e),this.$get=t,this.$set=s,this.oL=n,this._flush=r}init(e){this._value=e,this._isDirty=!1}getValue(){return this.subs.count===0?this.$get.call(this._obj,this._obj,this):(this._isDirty&&(this.compute(),this._isDirty=!1,this._notified=!1),this._value)}setValue(e){if(ee(this.$set))this._coercer!==void 0&&(e=this._coercer.call(null,e,this._coercionConfig)),Jt(e,this._value)||(this.$set.call(this._obj,e),this.run());else throw H(221)}useCoercer(e,t){return this._coercer=e,this._coercionConfig=t,!0}useCallback(e){return this._callback=e,!0}handleDirty(){this._isDirty||(this._isDirty=!0,this.subs.notifyDirty())}handleChange(){this._isDirty=!0,this.subs.count>0&&this.run()}handleCollectionChange(){this._isDirty=!0,this.subs.count>0&&this.run()}subscribe(e){this.subs.add(e)&&this.subs.count===1&&(this._oldValue=this.compute(),this._isDirty=!1,this._notified=!1)}unsubscribe(e){this.subs.remove(e)&&this.subs.count===0&&(this._isDirty=!0,this.obs.clearAll(),this._oldValue=void 0,this._notified=!0)}run(){if(this._flush==="sync"){this._run();return}this._isQueued||(this._isQueued=!0,Lt(()=>{this._isQueued=!1,this._run()}))}_run(){const e=this._value,t=this._oldValue,s=this.compute();this._isDirty=!1,(!this._notified||!Jt(s,e))&&(this._callback?.(s,t),this.subs.notify(s,t),this._oldValue=this._value=s,this._notified=!0)}compute(){this.obs.version++;try{return va(this),this._value=Ve(this.$get.call(this._wrapped,this._wrapped,this))}finally{this.obs.clear(),ba(this)}}}ut(rr,null),bt(rr,null);const Lm=(()=>{const i=new WeakMap,e=t=>Zd(t)?t:String(t);return{get:(t,s)=>i.get(t)?.get(e(s)),_getFlush:(t,s)=>i.get(t)?.get(e(s))?.flush,set:(t,s,n)=>{i.has(t)||i.set(t,new Map),i.get(t).set(e(s),n)}}})(),wa=vr("IDirtyChecker",i=>i.callback(()=>{throw H(217)})),Rm={timeoutsPerCheck:25};class Om{static register(e){e.register(Vs.singleton(this,this),Vs.aliasTo(this,wa))}constructor(){this.tracked=[],this._task=null,this._elapsedFrames=0,this.p=I(xi),this.check=()=>{if(++this._elapsedFrames<Rm.timeoutsPerCheck)return;this._elapsedFrames=0;const e=this.tracked.slice(0),t=e.length;let s,n=0;for(;n<t;++n)s=e[n],s.isDirty()&&s.flush()},bt(Dl,null)}createProperty(e,t){return new Dl(this,e,t)}addProperty(e){this.tracked.push(e),this.tracked.length===1&&(this._task=jg(this.check,{interval:0}))}removeProperty(e){this.tracked.splice(this.tracked.indexOf(e),1),this.tracked.length===0&&(this._task.cancel(),this._task=null)}}class Dl{constructor(e,t,s){this.obj=t,this.key=s,this.type=_r,this._oldValue=void 0,this._dirtyChecker=e}getValue(){return this.obj[this.key]}setValue(e){throw H(219,this.key)}isDirty(){return this._oldValue!==this.obj[this.key]}flush(){const e=this._oldValue,t=this.getValue();this._oldValue=t,this.subs.notify(t,e)}subscribe(e){this.subs.add(e)&&this.subs.count===1&&(this._oldValue=this.obj[this.key],this._dirtyChecker.addProperty(this))}unsubscribe(e){this.subs.remove(e)&&this.subs.count===0&&this._dirtyChecker.removeProperty(this)}}class Mm{get doNotCache(){return!0}constructor(e,t){this.type=_r,this._obj=e,this._key=t}getValue(){return this._obj[this._key]}setValue(){}subscribe(){}unsubscribe(){}}class ou{constructor(){this.type=_r}getValue(e,t){return e[t]}setValue(e,t,s){t[s]=e}}class ya{constructor(e,t){this.type=Cs,this._value=void 0,this._observing=!1,this._callback=void 0,this._coercer=void 0,this._coercionConfig=void 0,this._obj=e,this._key=t}getValue(){return this._value}setValue(e){this._coercer!==void 0&&(e=this._coercer.call(void 0,e,this._coercionConfig));const t=this._value;if(this._observing){if(Jt(e,this._value))return;this._value=e,this.subs.notifyDirty(),this.subs.notify(e,t),Jt(e,this._value)&&this._callback?.(e,t)}else this._value=this._obj[this._key]=e,this._callback?.(e,t)}useCallback(e){return this._callback=e,this.start(),!0}useCoercer(e,t){return this._coercer=e,this._coercionConfig=t,this.start(),!0}subscribe(e){this._observing===!1&&this.start(),this.subs.add(e)}start(){return this._observing===!1&&(this._observing=!0,this._value=this._obj[this._key],ps(this._obj,this._key,{enumerable:!0,configurable:!0,get:Jh(()=>this.getValue(),{getObserver:()=>this}),set:e=>{this.setValue(e)}})),this}stop(){return this._observing&&(ps(this._obj,this._key,{enumerable:!0,configurable:!0,writable:!0,value:this._value}),this._observing=!1),this}}bt(ya,null);const Ro=new ou,Li=vr("IObserverLocator",i=>i.singleton(Fm)),ka=vr("INodeObserverLocator",i=>i.cachedCallback(e=>(e.getAll(js).forEach(t=>{t.error("Using default INodeObserverLocator implementation. Will not be able to observe nodes (HTML etc...).")}),new Nm)));class Nm{handles(){return!1}getObserver(){return Ro}getAccessor(){return Ro}}const Dm=vr("IComputedObserverLocator",i=>i.singleton(class{getObserver(t,s,n,r){const o=new rr(t,n.get,n.set,r,Lm._getFlush(t,s));return ps(t,s,{enumerable:n.enumerable,configurable:!0,get:Jh((()=>o.getValue()),{getObserver:()=>o}),set:a=>{o.setValue(a)}}),o}}));class Fm{constructor(){this._adapters=[],this._dirtyChecker=I(wa),this._nodeObserverLocator=I(ka),this._computedObserverLocator=I(Dm)}addAdapter(e){this._adapters.push(e)}getObserver(e,t){if(e==null)throw H(199,t);if(!Ec(e))return new Mm(e,ee(t)?"":t);if(ee(t))return new rr(e,t,void 0,this);const s=au(e);let n=s[t];return n===void 0&&(n=this.createObserver(e,t),n.doNotCache||(s[t]=n)),n}getAccessor(e,t){const s=e.$observers?.[t];return s!==void 0?s:this._nodeObserverLocator.handles(e,t,this)?this._nodeObserverLocator.getAccessor(e,t,this):Ro}getArrayObserver(e){return on(e)}getMapObserver(e){return nr(e)}getSetObserver(e){return ir(e)}createObserver(e,t){if(this._nodeObserverLocator.handles(e,t,this))return this._nodeObserverLocator.getObserver(e,t,this);switch(t){case"length":if(we(e))return on(e).getLengthObserver();break;case"size":if(hs(e))return nr(e).getLengthObserver();if($i(e))return ir(e).getLengthObserver();break;default:if(we(e)&&pn(t))return on(e).getIndexObserver(Number(t));break}let s=Vl(e,t);if(s===void 0){let n=Fl(e);for(;n!==null&&(s=Vl(n,t),s===void 0);)n=Fl(n)}if(s!==void 0&&!Pg.call(s,"value")){let n=this._getAdapterObserver(e,t,s);return n==null&&(n=s.get?.getObserver?.(e)),n??(s.configurable?this._computedObserverLocator.getObserver(e,t,s,this):this._dirtyChecker.createProperty(e,t))}return new ya(e,t)}_getAdapterObserver(e,t,s){if(this._adapters.length>0)for(const n of this._adapters){const r=n.getObserver(e,t,s,this);if(r!=null)return r}return null}}const Ca=i=>{let e;return we(i)?e=on(i):hs(i)?e=nr(i):$i(i)&&(e=ir(i)),e},Fl=Object.getPrototypeOf,Vl=Object.getOwnPropertyDescriptor,au=i=>{let e=i.$observers;return e===void 0&&ps(i,"$observers",{value:e=se()}),e};class Vm{constructor(e,t){this.oL=e,this.fn=t,this.maxRunCount=10,this.queued=!1,this.running=!1,this.runCount=0,this.stopped=!1,this._cleanupTask=void 0,this.run=()=>{if(this.stopped)throw H(225);if(!this.running){++this.runCount,this.running=!0,this.queued=!1,++this.obs.version;try{this._cleanupTask?.call(void 0),va(this),this._cleanupTask=this.fn(this)}finally{this.obs.clear(),this.running=!1,ba(this)}if(this.queued){if(this.runCount>this.maxRunCount)throw this.runCount=0,H(226);this.run()}else this.runCount=0}},this.stop=()=>{this._cleanupTask?.call(void 0),this._cleanupTask=void 0,this.stopped=!0,this.obs.clearAll()}}handleChange(){this.queued=!0,this.run()}handleCollectionChange(){this.queued=!0,this.run()}}ut(Vm,null);class jl{constructor(e,t,s,n){this.oL=t,this._value=void 0,this.boundFn=!1,this._scope=e,this.ast=s,this._callback=n}handleChange(){this.run()}handleCollectionChange(){this.run()}run(){this.obs.version++;const e=this._value,t=ce(this.ast,this._scope,this,this);this.obs.clear(),Jt(t,e)||(this._value=t,this._callback.call(void 0,t,e))}stop(){this.obs.clearAll(),this._value=void 0}}ut(jl,null),Ng(jl);const Fi="pending",Wn="running",Zr="completed",Ln="canceled",Jr=new Map,zl=i=>()=>{throw Us(`AUR1005: The PLATFORM did not receive a valid reference to the global function '${i}'.`)};class Aa{constructor(e,t={}){this.macroTaskRequested=!1,this.macroTaskHandle=-1,this.globalThis=e,"decodeURI decodeURIComponent encodeURI encodeURIComponent Date Reflect console".split(" ").forEach(s=>{this[s]=s in t?t[s]:e[s]}),"clearInterval clearTimeout queueMicrotask setInterval setTimeout".split(" ").forEach(s=>{this[s]=s in t?t[s]:e[s]?.bind(e)??zl(s)}),this.performanceNow="performanceNow"in t?t.performanceNow:e.performance?.now?.bind(e.performance)??zl("performance.now"),this.flushMacroTask=this.flushMacroTask.bind(this),this.taskQueue=new Sa(this,this.requestMacroTask.bind(this),this.cancelMacroTask.bind(this))}static getOrCreate(e,t={}){let s=Jr.get(e);return s===void 0&&Jr.set(e,s=new Aa(e,t)),s}static set(e,t){Jr.set(e,t)}requestMacroTask(){this.macroTaskRequested=!0,this.macroTaskHandle===-1&&(this.macroTaskHandle=this.setTimeout(this.flushMacroTask,0))}cancelMacroTask(){this.macroTaskRequested=!1,this.macroTaskHandle>-1&&(this.clearTimeout(this.macroTaskHandle),this.macroTaskHandle=-1)}flushMacroTask(){this.macroTaskHandle=-1,this.macroTaskRequested===!0&&(this.macroTaskRequested=!1,this.taskQueue.flush())}}class Sa{get isEmpty(){return this._pendingAsyncCount===0&&this._processing.length===0&&this._pending.length===0&&this._delayed.length===0}get _hasNoMoreFiniteWork(){return this._pendingAsyncCount===0&&this._processing.every(Xr)&&this._pending.every(Xr)&&this._delayed.every(Xr)}constructor(e,t,s){this.platform=e,this.$request=t,this.$cancel=s,this._suspenderTask=void 0,this._pendingAsyncCount=0,this._processing=[],this._pending=[],this._delayed=[],this._flushRequested=!1,this._yieldPromise=void 0,this._lastRequest=0,this._lastFlush=0,this._requestFlush=()=>{this._tracer.enabled&&this._tracer.enter(this,"requestFlush"),this._flushRequested||(this._flushRequested=!0,this._lastRequest=this._now(),this.$request()),this._tracer.enabled&&this._tracer.leave(this,"requestFlush")},this._now=e.performanceNow,this._tracer=new Hm(e.console)}flush(e=this._now()){if(this._tracer.enabled&&this._tracer.enter(this,"flush"),this._flushRequested=!1,this._lastFlush=e,this._suspenderTask===void 0){let t;if(this._pending.length>0&&(this._processing.push(...this._pending),this._pending.length=0),this._delayed.length>0)for(let n=0;n<this._delayed.length;++n)t=this._delayed[n],t.queueTime<=e&&(this._processing.push(t),this._delayed.splice(n--,1));let s;for(;this._processing.length>0;)if((s=this._processing.shift()).run(),s.status===Wn)if(s.suspend===!0){this._suspenderTask=s,this._requestFlush(),this._tracer.enabled&&this._tracer.leave(this,"flush early async");return}else++this._pendingAsyncCount;if(this._pending.length>0&&(this._processing.push(...this._pending),this._pending.length=0),this._delayed.length>0)for(let n=0;n<this._delayed.length;++n)t=this._delayed[n],t.queueTime<=e&&(this._processing.push(t),this._delayed.splice(n--,1));if((this._processing.length>0||this._delayed.length>0||this._pendingAsyncCount>0)&&this._requestFlush(),this._yieldPromise!==void 0&&this._hasNoMoreFiniteWork){const n=this._yieldPromise;this._yieldPromise=void 0,n.resolve()}}else this._requestFlush();this._tracer.enabled&&this._tracer.leave(this,"flush full")}cancel(){this._tracer.enabled&&this._tracer.enter(this,"cancel"),this._flushRequested&&(this.$cancel(),this._flushRequested=!1),this._tracer.enabled&&this._tracer.leave(this,"cancel")}async yield(){this._tracer.enabled&&this._tracer.enter(this,"yield"),this.isEmpty?this._tracer.enabled&&this._tracer.leave(this,"yield empty"):(this._yieldPromise===void 0&&(this._tracer.enabled&&this._tracer.trace(this,"yield - creating promise"),this._yieldPromise=hu()),await this._yieldPromise,this._tracer.enabled&&this._tracer.leave(this,"yield task"))}queueTask(e,t){this._tracer.enabled&&this._tracer.enter(this,"queueTask");const{delay:s,preempt:n,persistent:r,suspend:o}={...Wm,...t};if(n){if(s>0)throw qm();if(r)throw Qm()}this._processing.length===0&&this._requestFlush();const a=this._now(),c=new zm(this._tracer,this,a,a+s,n,r,o,e);return n?this._processing[this._processing.length]=c:s===0?this._pending[this._pending.length]=c:this._delayed[this._delayed.length]=c,this._tracer.enabled&&this._tracer.leave(this,"queueTask"),c}remove(e){this._tracer.enabled&&this._tracer.enter(this,"remove");let t=this._processing.indexOf(e);if(t>-1){this._processing.splice(t,1),this._tracer.enabled&&this._tracer.leave(this,"remove processing");return}if(t=this._pending.indexOf(e),t>-1){this._pending.splice(t,1),this._tracer.enabled&&this._tracer.leave(this,"remove pending");return}if(t=this._delayed.indexOf(e),t>-1){this._delayed.splice(t,1),this._tracer.enabled&&this._tracer.leave(this,"remove delayed");return}throw this._tracer.enabled&&this._tracer.leave(this,"remove error"),Us(`Task #${e.id} could not be found`)}_resetPersistentTask(e){this._tracer.enabled&&this._tracer.enter(this,"resetPersistentTask"),e.reset(this._now()),e.createdTime===e.queueTime?this._pending[this._pending.length]=e:this._delayed[this._delayed.length]=e,this._tracer.enabled&&this._tracer.leave(this,"resetPersistentTask")}_completeAsyncTask(e){if(this._tracer.enabled&&this._tracer.enter(this,"completeAsyncTask"),e.suspend===!0){if(this._suspenderTask!==e)throw this._tracer.enabled&&this._tracer.leave(this,"completeAsyncTask error"),Us(`Async task completion mismatch: suspenderTask=${this._suspenderTask?.id}, task=${e.id}`);this._suspenderTask=void 0}else--this._pendingAsyncCount;if(this._yieldPromise!==void 0&&this._hasNoMoreFiniteWork){const t=this._yieldPromise;this._yieldPromise=void 0,t.resolve()}this.isEmpty&&this.cancel(),this._tracer.enabled&&this._tracer.leave(this,"completeAsyncTask")}}class Hl extends Error{constructor(e){super("Task was canceled."),this.task=e}}let jm=0;class zm{get result(){const e=this._result;if(e===void 0)switch(this._status){case Fi:{const t=this._result=hu();return this._resolve=t.resolve,this._reject=t.reject,t}case Wn:throw Us("Trying to await task from within task will cause a deadlock.");case Zr:return this._result=Promise.resolve();case Ln:return this._result=Promise.reject(new Hl(this))}return e}get status(){return this._status}constructor(e,t,s,n,r,o,a,c){this.taskQueue=t,this.createdTime=s,this.queueTime=n,this.preempt=r,this.persistent=o,this.suspend=a,this.callback=c,this.id=++jm,this._resolve=void 0,this._reject=void 0,this._result=void 0,this._status=Fi,this._tracer=e}run(e=this.taskQueue.platform.performanceNow()){if(this._tracer.enabled&&this._tracer.enter(this,"run"),this._status!==Fi)throw this._tracer.enabled&&this._tracer.leave(this,"run error"),Us(`Cannot run task in ${this._status} state`);const{persistent:t,taskQueue:s,callback:n,_resolve:r,_reject:o,createdTime:a}=this;let c;this._status=Wn;try{c=n(e-a),c instanceof Promise?c.then(l=>{this.persistent?s._resetPersistentTask(this):(t?this._status=Ln:this._status=Zr,this.dispose()),s._completeAsyncTask(this),this._tracer.enabled&&this._tracer.leave(this,"run async then"),r!==void 0&&r(l)}).catch(l=>{if(this.persistent||this.dispose(),s._completeAsyncTask(this),this._tracer.enabled&&this._tracer.leave(this,"run async catch"),o!==void 0)o(l);else throw l}):(this.persistent?s._resetPersistentTask(this):(t?this._status=Ln:this._status=Zr,this.dispose()),this._tracer.enabled&&this._tracer.leave(this,"run sync success"),r!==void 0&&r(c))}catch(l){if(this.persistent||this.dispose(),this._tracer.enabled&&this._tracer.leave(this,"run sync error"),o!==void 0)o(l);else throw l}}cancel(){if(this._tracer.enabled&&this._tracer.enter(this,"cancel"),this._status===Fi){const e=this.taskQueue,t=this._reject;return e.remove(this),e.isEmpty&&e.cancel(),this._status=Ln,this.dispose(),t!==void 0&&t(new Hl(this)),this._tracer.enabled&&this._tracer.leave(this,"cancel true =pending"),!0}else if(this._status===Wn&&this.persistent)return this.persistent=!1,this._tracer.enabled&&this._tracer.leave(this,"cancel true =running+persistent"),!0;return this._tracer.enabled&&this._tracer.leave(this,"cancel false"),!1}reset(e){this._tracer.enabled&&this._tracer.enter(this,"reset");const t=this.queueTime-this.createdTime;this.createdTime=e,this.queueTime=e+t,this._status=Fi,this._resolve=void 0,this._reject=void 0,this._result=void 0,this._tracer.enabled&&this._tracer.leave(this,"reset")}dispose(){this._tracer.enabled&&this._tracer.trace(this,"dispose"),this.callback=void 0,this._resolve=void 0,this._reject=void 0,this._result=void 0}}class Hm{constructor(e){this.console=e,this.enabled=!1,this.depth=0}enter(e,t){this.log(`${"  ".repeat(this.depth++)}> `,e,t)}leave(e,t){this.log(`${"  ".repeat(--this.depth)}< `,e,t)}trace(e,t){this.log(`${"  ".repeat(this.depth)}- `,e,t)}log(e,t,s){if(t instanceof Sa){const n=t._processing.length,r=t._pending.length,o=t._delayed.length,a=t._flushRequested,c=!!t._suspenderTask,l=`processing=${n} pending=${r} delayed=${o} flushReq=${a} susTask=${c}`;this.console.log(`${e}[Q.${s}] ${l}`)}else{const n=t.id,r=Math.round(t.createdTime*10)/10,o=Math.round(t.queueTime*10)/10,a=t.preempt,c=t.persistent,l=t.suspend,h=t._status,u=`id=${n} created=${r} queue=${o} preempt=${a} persistent=${c} status=${h} suspend=${l}`;this.console.log(`${e}[T.${s}] ${u}`)}}}const Wm={delay:0,preempt:!1,persistent:!1,suspend:!1};let lu,cu;const Um=(i,e)=>{lu=i,cu=e},hu=()=>{const i=new Promise(Um);return i.resolve=lu,i.reject=cu,i},Xr=i=>i.persistent,qm=()=>Us("AUR1006: Invalid arguments: preempt cannot be combined with a greater-than-zero delay"),Qm=()=>Us("AUR1007: Invalid arguments: preempt cannot be combined with persistent"),Us=i=>new Error(i);class cs extends Aa{static getOrCreate(e,t={}){let s=cs._lookup.get(e);return s===void 0&&cs._lookup.set(e,s=new cs(e,t)),s}static set(e,t){cs._lookup.set(e,t)}get domWriteQueue(){return this.console.log("[DEV:aurelia] platform.domQueue is deprecated, please use platform.domQueue instead."),this.domQueue}get domReadQueue(){return this.console.log("[DEV:aurelia] platform.domReadQueue has been removed, please use platform.domQueue instead."),this.domQueue}constructor(e,t={}){super(e,t);const s=n=>()=>{throw new Error(`The PLATFORM did not receive a valid reference to the global function '${n}'.`)};"Node Element HTMLElement CustomEvent CSSStyleSheet ShadowRoot MutationObserver window document customElements".split(" ").forEach(n=>this[n]=n in t?t[n]:e[n]),"fetch requestAnimationFrame cancelAnimationFrame".split(" ").forEach(n=>this[n]=n in t?t[n]:e[n]?.bind(e)??s(n)),this.domQueue=(()=>{let n=!1,r=-1;const o=()=>{n=!0,r===-1&&(r=this.requestAnimationFrame(c))},a=()=>{n=!1,r>-1&&(this.cancelAnimationFrame(r),r=-1)},c=()=>{r=-1,n===!0&&(n=!1,l.flush())},l=new Sa(this,o,a);return l})()}}cs._lookup=new WeakMap;const{default:$a,oneTime:yr,toView:me,fromView:Yt,twoWay:uu}=Ei,Me=es.get,kr=es.has,_t=es.define,{annotation:Km}=Mc,ts=Km.keyFor,In=Object,qs=String,du=In.prototype,Ns=du.hasOwnProperty,ss=In.freeze,fu=In.assign,pu=In.getOwnPropertyNames,xa=In.keys,Wl=se(),Oo=(i,e,t)=>{if(Wl[e]===!0)return!0;if(!G(e))return!1;const s=e.slice(0,5);return Wl[e]=s==="aria-"||s==="data-"||t.isStandardSvgAttribute(i,e)},Mo=i=>{throw i},gu=Reflect.defineProperty,Ye=(i,e,t)=>(gu(i,e,{enumerable:!1,configurable:!0,writable:!0,value:t}),t),mu=(i,e,t)=>i.addSignalListener(e,t),vu=(i,e,t)=>i.removeSignalListener(e,t),Gm="Interpolation",Zm="IsIterator",Jm="IsFunction",Rt="IsProperty",Ul="pending",Yr="running",Ia=pa.Observer,As=pa.Node,Ft=pa.Layout,E=(i,...e)=>{const t=qs(i).padStart(4,"0"),s=Ym(i,...e),n=`https://docs.aurelia.io/developer-guides/error-messages/runtime-html/aur${t}`;return new Error(`AUR${t}: ${s}

For more information, see: ${n}`)},Xm={99:"Method {{0}} not implemented",101:'Ast eval error: binding behavior "{{0}}" could not be found. Did you forget to register it as a dependency?',102:'Ast eval error: binding behavior "{{0}}" already applied.',103:'Ast eval error: value converter "{{0}}" could not be found. Did you forget to register it as a dependency?',105:"Ast eval error: unable to find $host context. Did you forget [au-slot] attribute?",106:'Ast eval error: invalid assignment. "$host" is a reserved keyword.',107:"Ast eval error: expression is not a function.",109:'Ast eval error: unknown unary operator: "{{0}}"',108:'Ast eval error: unknown binary operator: "{{0}}"',110:"Ast eval error: left-hand side of tagged template expression is not a function.",111:'Ast eval error: expected "{{0}}" to be a function',112:"Ast eval error: cannot use non-object value for destructuring assignment.",113:"Ast eval error: infinite loop detected. Increment operators should only be used in event handlers.",114:'Ast eval error: cannot access property "{{0}}" of {{1}}.',115:'Ast eval error: cannot access key "{{0}}" of {{1}}.',116:'Ast eval error: cannot assign value to property "{{0}}" of null/undefined.',151:"No binding behavior definition found for type {{0:name}}",152:"No value converter definition found for type {{0:name}}",153:'Element "{{0}}" has already been registered.',154:'Attribute "{{0}}" has already been registered.',155:"Value converter {{0}} has already been registered.",156:"Binding behavior {{0}} has already been registered.",157:"Binding command {{0}} has already been registered.",203:"Trying to retrieve a property or build a scope from a null/undefined scope",204:"Trying to create a scope with null/undefined binding context",227:"@bindable is not supported for properties that uses a symbol for name. Use a string for the property name instead.",228:"@bindable cannot be used as a class decorator when no configuration object is supplied.",229:"@bindable cannot be used as a class decorator when no property name is supplied in the configuration object.",500:"There is no cached controller for the provided ViewModel: {{0}}",501:"Invalid combination: cannot combine the containerless custom element option with Shadow DOM.",502:"Trying to activate a disposed controller: {{0}}.",503:"Controller at {{0}} is in an unexpected state: {{1}} during activation.",504:"Synthetic view at {{0}} is being activated with null/undefined scope.",505:"Controller at {{0}} is in an unexpected state: {{1}} during deactivation.",506:"Invalid callback for @watch decorator: {{0}}",507:"Observer for bindable property {{0}} does not support coercion.",508:"Observer for property {{0}} does not support change handler.",759:"No attribute definition found for type {{0:name}}",760:"No element definition found for type {{0:name}}",761:"Cannot create a custom element definition with only a name and no type: {{0}}",762:"Trying to retrieve a custom element controller from a node, but the provided node <{{0:nodeName}} /> is not a custom element or containerless host.",763:"Trying to retrieve a custom element controller from a node, but the provided node <{{0:nodeName}} /> is not a custom element or containerless host.",764:"Trying to retrieve a custom element controller from a node. But the provided node <{{0:nodeName}} /> does not appear to be part of an Aurelia app DOM tree, or it was added to the DOM in a way that Aurelia cannot properly resolve its position in the component tree.",765:"Trying to retrieve a custom element controller from a node. But the provided node <{{0:nodeName}} /> does not appear to be part of an Aurelia app DOM tree, or it was added to the DOM in a way that Aurelia cannot properly resolve its position in the component tree.",766:"Invalid @processContent hook. Expected the hook to be a function (when defined in a class, it needs to be a static function) but got a {{0:typeof}}.",652:"Aurelia is unable to observe property {{0}}. Register observation mapping with .useConfig().",653:"Mapping for property {{0}} of <{{1}} /> already exists",654:"Array values can only be bound to a multi-select.",714:'Template compilation error: primary already exists on element/attribute "{{0}}"',719:"Attribute {{0}} has been already registered for {{1:element}}",767:"Aurelia.root was accessed without a valid root.",768:"An instance of Aurelia is already registered with the container or an ancestor of it.",769:"Failed to initialize the platform object. The host element's ownerDocument does not have a defaultView, did you create the host from a DOMParser and forget to call adoptNode()?",770:"Aurelia.start() was called without a composition root",771:"The aurelia instance must be fully stopped before it can be disposed",750:"view.ref is not supported. If you are migrating from v1, this can be understood as the controller.",751:`Attempted to reference "{{0}}", but it was not found amongst the target's API.`,752:"Element {{0:.res}} is not registered in {{1:name}}.",753:"Attribute {{0:.res}} is not registered in {{1:name}}.",754:"Attribute {{0:.res}} is not registered in {{1:name}}.",755:"Cannot resolve ViewFactory before the provider was prepared.",756:"Cannot resolve ViewFactory without a (valid) name.",757:"AUR0757: The compiled template is not aligned with the render instructions. There are {{0}} targets and {{1}} instructions.",772:"Invalid @watch decorator config. Expected an expression or a fn but received null/undefined.",773:'Invalid @watch decorator change handler config.Method "{{0}}" not found in class {{1}}',774:"Invalid @watch decorator usage: decorated target {{0}} is not a class method.",775:'Invalid command "{{0}}" usage with [repeat]',776:'Invalid [repeat] usage, found extraneous target "{{0}}"',777:"Unsupported: [repeat] cannot iterate over {{0:toString}}",778:"Unsupported: [repeat] cannot count {{0:toString}}",814:"[repeat] encountered an error: number of views != number of items {{0:join(!=)}}",779:"Invalid portal insertion position: {{0}}",801:'"& self" binding behavior only supports listener binding via trigger/capture command.',802:`"& updateTrigger" invalid usage. This binding behavior requires at least one event name argument: eg <input value.bind="firstName & updateTrigger:'blur'">`,803:'"& updateTrigger" invalid usage. This binding behavior can only be applied to two-way/ from-view bindings.',805:'Invalid scope behavior "{{0}}" on <au-compose />. Only "scoped" or "auto" allowed.',806:`<au-compose /> couldn't find a custom element with name "{{0}}", did you forget to register it locally or globally?`,807:"Composition has already been activated/deactivated. Id: {{0:controller}}",808:"Composition has already been deactivated.",810:"Invalid [else] usage, it should follow an [if]",811:"Invalid portal strict target query, empty query.",812:"Invalid portal strict target resolution, target not found.",813:'Invalid [pending]/[then]/[catch] usage. The parent [promise].resolve not found; only "*[promise.resolve] > *[pending|then|catch]" relation is supported.',815:'Invalid [case/default-case] usage. The parent [switch] not found; only "*[switch] > *[case|default-case]" relation is supported.',816:"Invalid [default-case] usage. Multiple 'default-case's are not allowed.",817:'"& signal" binding behavior can only be used with bindings that have a "handleChange" method',818:`"& signal" invalid usage. At least one signal name must be passed to the signal behavior, e.g. "expr & signal:'my-signal'"`,819:"Spreading to bindables onto non custom element",820:"Invalid spread target {{0}}",9999:"No scope context for spread binding.",9998:"Spread binding does not support spreading custom attributes/template controllers. Did you build the spread instruction manually?",9997:"Marker is malformed. This likely happens when a compiled template has been modified. Did you accidentally modified some compiled template? You can modify template before compilation with compiling Template compiler hook.",9996:"Invalid usage, a rate limit has already been applied. Did you have both throttle and debounce on the same binding?",9995:"The binding already has a target subscriber.",9994:`"& attr" can be only used on property binding. It's used on {{0:ctor}}`,9993:'"& updateTrigger" binding behavior only works with the default implementation of Aurelia HTML observation. Implement your own node observation + updateTrigger',9992:'"& updateTrigger" uses node observer to observe, but it does not know how to use events to observe property <{{0:target@property}} />',9991:"Invalid @children usage. @children decorator can only be used on a field",9990:"Invalid @slotted usage. @slotted decorator can only be used on a field",9989:"Invalid query selector. Only selectors with alpha-numeric characters, or $all are allowed. Got {{0}} instead."},Ym=(i,...e)=>{let t=Xm[i];for(let s=0;s<e.length;++s){const n=new RegExp(`{{${s}(:.*)?}}`,"g");let r=n.exec(t);for(;r!=null;){const o=r[1]?.slice(1);let a=e[s];if(a!=null)switch(o){case"nodeName":a=a.nodeName.toLowerCase();break;case"name":a=a.name;break;case"typeof":a=typeof a;break;case"ctor":a=a.constructor.name;break;case"controller":a=a.controller.name;break;case"target@property":a=`${a.target}@${a.targetProperty}`;break;case"toString":a=Object.prototype.toString.call(a);break;case"join(!=)":a=a.join("!=");break;case"bindingCommandHelp":a=ev(a);break;case"element":a=a==="*"?"all elements":`<${a} />`;break;default:o?.startsWith(".")?a=qs(a[o.slice(1)]):a=qs(a)}t=t.slice(0,r.index)+a+t.slice(n.lastIndex),r=n.exec(t)}}return t};function ev(i){switch(i){case"delegate":return`
The ".delegate" binding command has been removed in v2. Binding command ".trigger" should be used instead. If you are migrating v1 application, install compat package to add back the ".delegate" binding command for ease of migration.`;case"call":return`
The ".call" binding command has been removed in v2. If you want to pass a callback that preserves the context of the function call, you can use lambda instead. Refer to lambda expression doc for more details.`;default:return""}}function bu(i,e){let t;function s(n,r){let o;switch(r.kind){case"getter":case"field":{const l=r.name;if(typeof l!="string")throw E(227);o=l;break}case"class":if(t==null)throw E(228);if(typeof t=="string")o=t;else{const l=t.name;if(!l)throw E(229);if(typeof l!="string")throw E(227);o=l}break}const a=t==null||typeof t=="string"?{name:o}:t,c=r.metadata[ii]??=se();c[o]=Kt.create(o,a)}if(arguments.length>1){t={},s(i,e);return}else if(G(i))return t=i,s;return t=i===void 0?{}:i,s}const ii=ts("bindables"),Je=ss({name:ii,keyFrom:i=>`${ii}:${i}`,from(...i){const e={},t=Array.isArray;function s(o){e[o]=Kt.create(o)}function n(o,a){e[o]=a instanceof Kt?a:Kt.create(o,a===!0?{}:a)}function r(o){t(o)?o.forEach(a=>G(a)?s(a):n(a.name,a)):o instanceof Kt?e[o.name]=o:o!==void 0&&xa(o).forEach(a=>n(a,o[a]))}return i.forEach(r),e},getAll(i){const e=[],t=ef(i);let s=t.length,n;for(;--s>=0;){n=t[s];const r=Me(ii,n);r!=null&&e.push(...Object.values(r))}return e},_add(i,e){let t=Me(ii,e);t==null&&_t(t=se(),e,ii),t[i.name]=i}});class Kt{constructor(e,t,s,n,r,o){this.attribute=e,this.callback=t,this.mode=s,this.primary=n,this.name=r,this.set=o}static create(e,t={}){const s=t.mode??me;return new Kt(t.attribute??Lc(e),t.callback??`${e}Changed`,G(s)?Ei[s]??$a:s,t.primary??!1,t.name??e,t.set??tv(t))}}const No={key:ts("coercer"),define(i,e){_t(i[e].bind(i),i,No.key)},for(i){return Me(No.key,i)}};function tv(i={}){const e=i.type??null;if(e==null)return ht;let t;switch(e){case Number:case Boolean:case String:case BigInt:t=e;break;default:{const s=e.coerce;t=typeof s=="function"?s.bind(e):No.for(e)??ht;break}}return t===ht?t:sv(t,i.nullable)}function sv(i,e){return function(t,s){return s?.enableCoercion?(e??!(s?.coerceNullish??!1))&&t==null?t:i(t,s):t}}const oe=_s.createInterface,Vt=Vs.singleton,gs=Vs.aliasTo,_u=Vs.instance,le=(i,e,t)=>i.registerResolver(e,t),iv="custom-element",nv="custom-attribute",ms=(i,e,t,s="__au_static_resource__")=>{let n=Me(s,i);return n==null&&i.$au?.type===e&&(n=t(i.$au,i),_t(n,i,s)),n};class an{constructor(e,t,s,n){this.Type=e,this.name=t,this.aliases=s,this.key=n}static create(e,t){let s,n;return G(e)?(s=e,n={name:s}):(s=e.name,n=e),new an(t,as(ql(t,"name"),s),ye(ql(t,"aliases"),n.aliases,t.aliases),wu.keyFrom(s))}register(e,t){const s=this.Type,n=typeof t=="string"?ln(t):this.key,r=this.aliases;e.has(n,!1)?console.warn(`[DEV:aurelia] ${E(156,this.name)}`):e.register(e.has(s,!1)?null:Vt(s,s),gs(s,n),...r.map(o=>gs(s,ln(o))))}}const ct="binding-behavior",ni=Gs(ct),ql=(i,e)=>Me(ts(e),i),ln=i=>`${ni}:${i}`,wu=ss({name:ni,keyFrom:ln,isType(i){return ee(i)&&(kr(ni,i)||i.$au?.type===ct)},define(i,e){const t=an.create(i,e),s=t.Type;return _t(t,s,ni,xt),s},getDefinition(i){const e=Me(ni,i)??ms(i,ct,an.create);if(e===void 0)throw E(151,i);return e},find(i,e){const t=i.find(ct,e);return t==null?null:Me(ni,t)??ms(t,ct,an.create)??null},get(i,e){try{return i.get(_i(ln(e)))}catch(t){throw console.error("[DEV:aurelia] Cannot retrieve binding behavior with name",e),t}return i.get(_i(ln(e)))}}),eo=new Map,Cr=i=>({type:ct,name:i});class Ar{bind(e,t){eo.set(t,t.mode),t.mode=this.mode}unbind(e,t){t.mode=eo.get(t),eo.delete(t)}}class yu extends Ar{get mode(){return yr}}yu.$au=Cr("oneTime");class ku extends Ar{get mode(){return me}}ku.$au=Cr("toView");class Cu extends Ar{get mode(){return Yt}}Cu.$au=Cr("fromView");class Au extends Ar{get mode(){return uu}}Au.$au=Cr("twoWay");const to=new WeakMap,rv=200;class Su{constructor(){this._platform=I(xi)}bind(e,t,s,n){const r={type:"debounce",delay:s??rv,now:this._platform.performanceNow,queue:this._platform.taskQueue,signals:G(n)?[n]:n??W},o=t.limit?.(r);o==null?console.warn(`Binding ${t.constructor.name} does not support debounce rate limiting`):to.set(t,o)}unbind(e,t){to.get(t)?.dispose(),to.delete(t)}}Su.$au={type:ct,name:"debounce"};const or=oe("ISignaler",i=>i.singleton(ov));class ov{constructor(){this.signals=se()}dispatchSignal(e){const t=this.signals[e];if(t===void 0)return;let s;for(s of t.keys())s.handleChange(void 0,void 0)}addSignalListener(e,t){(this.signals[e]??=new Set).add(t)}removeSignalListener(e,t){this.signals[e]?.delete(t)}}class $u{constructor(){this._lookup=new Map,this._signaler=I(or)}bind(e,t,...s){if(!("handleChange"in t))throw E(817);if(s.length===0)throw E(818);this._lookup.set(t,s);let n;for(n of s)mu(this._signaler,n,t)}unbind(e,t){const s=this._lookup.get(t);this._lookup.delete(t);let n;for(n of s)vu(this._signaler,n,t)}}$u.$au={type:ct,name:"signal"};const so=new WeakMap,av=200;class xu{constructor(){({performanceNow:this._now,taskQueue:this._taskQueue}=I(xi))}bind(e,t,s,n){const r={type:"throttle",delay:s??av,now:this._now,queue:this._taskQueue,signals:G(n)?[n]:n??W},o=t.limit?.(r);o==null?console.warn(`Binding ${t.constructor.name} does not support debounce rate limiting`):so.set(t,o)}unbind(e,t){so.get(t)?.dispose(),so.delete(t)}}xu.$au={type:ct,name:"throttle"};const Ql=oe("IAppTask"),qe=xi;class lv{}const It=(()=>{const i=new WeakMap;let e=!1;return new class{get hideProp(){return e}set hideProp(t){e=t}get(t,s){return i.get(t)?.[s]??null}set(t,s,n){const r=i.get(t)??(i.set(t,new lv),i.get(t));if(s in r)throw new Error(`Node already associated with a controller, remove the ref "${s}" first before associating with another controller`);return e||(t.$au??=r),r[s]=n}}})(),Sr=oe("INode"),Do=(()=>{const i=new WeakMap;return ss({add(e,t){let s=i.get(e);s==null&&i.set(e,s=[]),s.push(t)},getDefinitions(e){return i.get(e)??W}})})();class Qs{get type(){return nv}constructor(e,t,s,n,r,o,a,c,l,h,u){this.Type=e,this.name=t,this.aliases=s,this.key=n,this.defaultBindingMode=r,this.isTemplateController=o,this.bindables=a,this.noMultiBindings=c,this.watches=l,this.dependencies=h,this.containerStrategy=u}static create(e,t){let s,n;G(e)?(s=e,n={name:s}):(s=e.name,n=e);const r=as(Wt(t,"defaultBindingMode"),n.defaultBindingMode,t.defaultBindingMode,me);for(const o of Object.values(Je.from(n.bindables)))Je._add(o,t);return new Qs(t,as(Wt(t,"name"),s),ye(Wt(t,"aliases"),n.aliases,t.aliases),mi(s),G(r)?Ei[r]??$a:r,as(Wt(t,"isTemplateController"),n.isTemplateController,t.isTemplateController,!1),Je.from(...Je.getAll(t),Wt(t,"bindables"),t.bindables,n.bindables),as(Wt(t,"noMultiBindings"),n.noMultiBindings,t.noMultiBindings,!1),ye(Do.getDefinitions(t),t.watches),ye(Wt(t,"dependencies"),n.dependencies,t.dependencies),as(Wt(t,"containerStrategy"),n.containerStrategy,t.containerStrategy,"reuse"))}register(e,t){const s=this.Type,n=typeof t=="string"?mi(t):this.key,r=this.aliases;e.has(n,!1)?(Qs.warnDuplicate&&e.get(js).warn(E(154,this.name)),console.warn(`[DEV:aurelia] ${E(154,this.name)}`)):e.register(e.has(s,!1)?null:Vt(s,s),gs(s,n),...r.map(o=>gs(s,mi(o))))}toString(){return`au:ca:${this.name}`}}Qs.warnDuplicate=!0;const Ne="custom-attribute",Ci=Gs(Ne),mi=i=>`${Ci}:${i}`,Wt=(i,e)=>Me(ts(e),i),cv=i=>ee(i)&&(kr(Ci,i)||i.$au?.type===Ne),Iu=(i,e)=>It.get(i,mi(e))??void 0,Ta=(i,e)=>{const t=Qs.create(i,e),s=t.Type;return _t(t,s,Ci,xt),s},Ea=i=>{const e=Me(Ci,i)??ms(i,Ne,Qs.create);if(e===void 0)throw E(759,i);return e},hv=(i,e)=>{let t="",s="";if(G(e))t=mi(e),s=e;else{const r=Ea(e);t=r.key,s=r.name}let n=i;for(;n!==null;){const r=It.get(n,t);if(r?.is(s))return r;n=cr(n)}return null},Ba=ss({name:Ci,keyFrom:mi,isType:cv,for:Iu,closest:hv,define:Ta,getDefinition:Ea,annotate(i,e,t){_t(t,i,ts(e))},getAnnotation:Wt,find(i,e){const t=i.find(Ne,e);return t===null?null:Me(Ci,t)??ms(t,Ne,Qs.create)??null}}),ei=oe("ILifecycleHooks");class uv{constructor(e,t){this.definition=e,this.instance=t}}class Pa{constructor(e,t){this.Type=e,this.propertyNames=t}static create(e,t){const s=new Set;let n=t.prototype;for(;n!==du;){for(const r of pu(n))r!=="constructor"&&!r.startsWith("_")&&s.add(r);n=Object.getPrototypeOf(n)}return new Pa(t,s)}}const Kl=(()=>{const i=new WeakMap,e=new WeakMap;return ss({define(t,s){const n=Pa.create(t,s),r=n.Type;return e.set(r,n),{register(o){Vt(ei,r).register(o)}}},resolve(t){let s=i.get(t);if(s===void 0){i.set(t,s=new dv);const n=t.root,r=n===t?t.getAll(ei):t.has(ei,!1)?n.getAll(ei).concat(t.getAll(ei)):n.getAll(ei);let o,a,c,l,h;for(o of r){a=e.get(o.constructor),c=new uv(a,o);for(l of a.propertyNames)h=s[l],h===void 0?s[l]=[c]:h.push(c)}}return s}})})();class dv{}class cn{constructor(e,t,s,n){this.Type=e,this.name=t,this.aliases=s,this.key=n}static create(e,t){let s,n;return G(e)?(s=e,n={name:s}):(s=e.name,n=e),new cn(t,as(Fo(t,"name"),s),ye(Fo(t,"aliases"),n.aliases,t.aliases),Tu.keyFrom(s))}register(e,t){const s=this.Type,n=typeof t=="string"?hn(t):this.key,r=this.aliases;e.has(n,!1)?console.warn(`[DEV:aurelia] ${E(155,this.name)}`):e.register(e.has(s,!1)?null:Vt(s,s),gs(s,n),...r.map(o=>gs(s,hn(o))))}}const ci="value-converter",ri=Gs(ci),Fo=(i,e)=>Me(ts(e),i),hn=i=>`${ri}:${i}`,Tu=ss({name:ri,keyFrom:hn,isType(i){return ee(i)&&(kr(ri,i)||i.$au?.type===ci)},define(i,e){const t=cn.create(i,e),s=t.Type;return _t(t,s,ri,xt),s},getDefinition(i){const e=Me(ri,i)??ms(i,ci,cn.create);if(e===void 0)throw E(152,i);return e},annotate(i,e,t){_t(t,i,ts(e))},getAnnotation:Fo,find(i,e){const t=i.find(ci,e);return t==null?null:Me(ri,t)??ms(t,ci,cn.create)??null},get(i,e){try{return i.get(_i(hn(e)))}catch(t){throw console.error("[DEV:aurelia] Cannot retrieve value converter with name",e),t}return i.get(_i(hn(e)))}});class fv{constructor(e,t){this._value=void 0,this.b=e,this._flushQueue=t}flush(){this.b.isBound&&this.b.updateSource(this._value)}handleChange(e,t){const s=this.b;e!==ce(s.ast,s._scope,s,null)&&(this._value=e,this._flushQueue.add(this))}}const Ss=(()=>{function i(e){this._scope=e}return e=>{Ye(e.prototype,"useScope",i)}})(),is=(()=>{class i{}const e=new WeakMap,t=new WeakMap,s=new WeakMap;function n(d){return this.l.get(d)}function r(d,p){let m=t.get(d);return m==null&&t.set(d,m=new i),m[p]??=wu.get(d.l,p)}function o(d,p,m){const f=r(this,d);if(f==null)throw E(101,d);let g=s.get(this);if(g==null&&s.set(this,g={}),g[d])throw E(102,d);f.bind?.(p,this,...m)}function a(d,p){const m=r(this,d),f=s.get(this);m?.unbind?.(p,this),f!=null&&(f[d]=!1)}function c(d,p){let m=e.get(d);return m==null&&e.set(d,m=new i),m[p]??=Tu.get(d.l,p)}function l(d){const p=c(this,d);if(p==null)throw E(103,d);const m=p.signals;if(m!=null){const f=this.l.get(or),g=m.length;let w=0;for(;w<g;++w)f.addSignalListener(m[w],this)}}function h(d){const p=c(this,d);if(p?.signals===void 0)return;const m=this.l.get(or);let f=0;for(;f<p.signals.length;++f)m.removeSignalListener(p.signals[f],this)}function u(d,p,m,f){const g=c(this,d);if(g==null)throw E(103,d);const w=g.withContext===!0;let $=null;switch(w&&($={source:this.l.get(vs).controller.viewModel,binding:this}),p){case"toView":return"toView"in g?w?g.toView(m,$,...f):g.toView(m,...f):m;case"fromView":return"fromView"in g?w?g.fromView?.(m,$,...f):g.fromView?.(m,...f):m}}return d=>{const p=d.prototype;Ye(p,"get",n),Ye(p,"bindBehavior",o),Ye(p,"unbindBehavior",a),Ye(p,"bindConverter",l),Ye(p,"unbindConverter",h),Ye(p,"useConverter",u)}})(),pv=oe("IFlushQueue",i=>i.singleton(gv));class gv{constructor(){this._flushing=!1,this._items=new Set}get count(){return this._items.size}add(e){if(this._items.add(e),!this._flushing){this._flushing=!0;try{this._items.forEach(mv)}finally{this._flushing=!1}}}clear(){this._items.clear(),this._flushing=!1}}const mv=function(i,e,t){t.delete(i),i.flush()},$s=(()=>{const i=new WeakSet,e=(s,n,r)=>{let o,a,c,l=!1;const h=()=>n(c),u=p=>{c=p,r.isBound?(a=o,o=rn(h,{delay:s.delay}),a?.cancel()):h()},d=u.dispose=()=>{a?.cancel(),o?.cancel(),a=o=void 0};return u.flush=()=>{l=o?.status===Ul,d(),l&&h()},u},t=(s,n,r)=>{let o,a,c=0,l=0,h,u=!1;const d=()=>s.now(),p=()=>n(h),m=g=>{h=g,r.isBound?(l=d()-c,a=o,l>s.delay?(c=d(),p()):o=rn(()=>{c=d(),p()},{delay:s.delay-l}),a?.cancel()):p()},f=m.dispose=()=>{a?.cancel(),o?.cancel(),a=o=void 0};return m.flush=()=>{u=o?.status===Ul,f(),u&&p()},m};return(s,n)=>{Ye(s.prototype,"limit",function(r){if(i.has(this))throw E(9996);i.add(this);const o=n(this,r),a=r.signals,c=a.length>0?this.get(or):null,l=this[o],h=(...p)=>l.call(this,...p),u=r.type==="debounce"?e(r,h,this):t(r,h,this),d=c?{handleChange:u.flush}:null;return this[o]=u,c&&a.forEach(p=>mu(c,p,d)),{dispose:()=>{c&&a.forEach(p=>vu(c,p,d)),i.delete(this),u.dispose(),delete this[o]}}})}})(),xs=((i=new WeakSet)=>e=>function(){i.has(this)||(i.add(this),e.call(this))})();class lt{constructor(e,t,s,n,r,o,a,c,l){this.targetAttribute=o,this.targetProperty=a,this.mode=c,this.strict=l,this.isBound=!1,this._scope=void 0,this._isQueued=!1,this._value=void 0,this.boundFn=!1,this._isMulti=!1,this.l=t,this.ast=n,this._controller=e,this.target=r,this.oL=s,(this._isMulti=a.indexOf(" ")>-1)&&!lt._splitString.has(a)&&lt._splitString.set(a,a.split(" "))}updateTarget(e){const t=this.target,s=this.targetAttribute,n=this.targetProperty;switch(s){case"class":if(this._isMulti){const r=!!e;for(const o of lt._splitString.get(n))t.classList.toggle(o,r)}else t.classList.toggle(n,!!e);break;case"style":{let r="",o=qs(e);G(o)&&o.includes("!important")&&(r="important",o=o.replace("!important","")),t.style.setProperty(n,o,r);break}default:e==null?t.removeAttribute(s):t.setAttribute(s,qs(e))}}handleChange(){this.isBound&&(this._isQueued||(this._isQueued=!0,Lt(()=>{if(this._isQueued=!1,!this.isBound)return;this.obs.version++;const e=ce(this.ast,this._scope,this,(this.mode&me)>0?this:null);this.obs.clear(),e!==this._value&&(this._value=e,this.updateTarget(e))})))}handleCollectionChange(){this.handleChange()}bind(e){if(this.isBound){if(this._scope===e)return;this.unbind()}this._scope=e,ys(this.ast,e,this),this.mode&(me|yr)&&this.updateTarget(this._value=ce(this.ast,e,this,(this.mode&me)>0?this:null)),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,ks(this.ast,this._scope,this),this._scope=void 0,this._value=void 0,this.obs.clearAll())}}lt.mix=xs(()=>{Ss(lt),$s(lt,()=>"updateTarget"),ut(lt,null),is(lt)});lt._splitString=new Map;class vv{constructor(e,t,s,n,r,o,a,c){this.ast=n,this.target=r,this.targetProperty=o,this.mode=a,this.strict=c,this.isBound=!1,this._scope=void 0,this._isQueued=!1,this._controller=e,this.oL=s,this._targetObserver=s.getAccessor(r,o);const l=n.expressions,h=this.partBindings=Array(l.length),u=l.length;let d=0;for(;u>d;++d)h[d]=new Ps(l[d],r,o,t,s,c,this)}_handlePartChange(){if(!this.isBound)return;if(this._controller.state!==St&&(this._targetObserver.type&Ft)>0){if(this._isQueued)return;this._isQueued=!0,Lt(()=>{this._isQueued=!1,this.isBound&&this.updateTarget()})}else this.updateTarget()}updateTarget(){const e=this.partBindings,t=this.ast,s=this.target,n=this.targetProperty,r=t.parts,o=e.length;let a="",c=0;if(o===1)a=r[0]+e[0]._evaluate()+r[1];else for(a=r[0];o>c;++c)a+=e[c]._evaluate()+r[c+1];this._targetObserver.setValue(a,s,n)}bind(e){if(this.isBound){if(this._scope===e)return;this.unbind()}this._scope=e;const t=this.partBindings,s=t.length;let n=0;for(;s>n;++n)t[n].bind(e);this.updateTarget(),this.isBound=!0}unbind(){if(!this.isBound)return;this.isBound=!1,this._scope=void 0;const e=this.partBindings,t=e.length;let s=0;for(;t>s;++s)e[s].unbind()}useAccessor(e){this._targetObserver=e}}class Ps{constructor(e,t,s,n,r,o,a){this.ast=e,this.target=t,this.targetProperty=s,this.strict=o,this.owner=a,this.mode=me,this.isBound=!1,this._value="",this.boundFn=!1,this._isDirty=!1,this.l=n,this.oL=r}updateTarget(){this.owner._handlePartChange()}handleChange(){this.isBound&&(this._isDirty=!0,this.updateTarget())}handleCollectionChange(){this.isBound&&(this._isDirty=!0,this.updateTarget())}_evaluate(){if(!this._isDirty)return this._value;this.obs.version++;const e=ce(this.ast,this._scope,this,(this.mode&me)>0?this:null);return this.obs.clear(),this._value=e,we(e)&&this.observeCollection(e),this._isDirty=!1,this._value}bind(e){if(this.isBound){if(this._scope===e)return;this.unbind()}this._scope=e,ys(this.ast,e,this),this._value=ce(this.ast,this._scope,this,(this.mode&me)>0?this:null),we(this._value)&&this.observeCollection(this._value),this._isDirty=!1,this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,this._value=void 0,this._isDirty=!1,ks(this.ast,this._scope,this),this._scope=void 0,this.obs.clearAll())}}Ps.mix=xs(()=>{Ss(Ps),$s(Ps,()=>"updateTarget"),ut(Ps,null),is(Ps)});class Ls{constructor(e,t,s,n,r,o,a){this.p=n,this.ast=r,this.target=o,this.strict=a,this.isBound=!1,this.mode=me,this._isQueued=!1,this._value="",this._needsRemoveNode=!1,this.boundFn=!1,this.l=t,this._controller=e,this.oL=s}updateTarget(e){const t=this.target,s=this._value;this._value=e,this._needsRemoveNode&&(s.parentNode?.removeChild(s),this._needsRemoveNode=!1),e instanceof this.p.Node&&(t.parentNode?.insertBefore(e,t),e="",this._needsRemoveNode=!0),t.textContent=qs(e??"")}handleChange(){this.isBound&&(this._isQueued||(this._isQueued=!0,Lt(()=>{if(this._isQueued=!1,!this.isBound)return;this.obs.version++;const e=ce(this.ast,this._scope,this,(this.mode&me)>0?this:null);this.obs.clear(),e!==this._value&&this.updateTarget(e)})))}handleCollectionChange(){this.isBound&&(this._isQueued||(this._isQueued=!0,Lt(()=>{if(this._isQueued=!1,!this.isBound)return;this.obs.version++;const e=this._value=ce(this.ast,this._scope,this,(this.mode&me)>0?this:null);this.obs.clear(),we(e)&&this.observeCollection(e),this.updateTarget(e)})))}bind(e){if(this.isBound){if(this._scope===e)return;this.unbind()}this._scope=e,ys(this.ast,e,this);const t=this._value=ce(this.ast,this._scope,this,(this.mode&me)>0?this:null);we(t)&&this.observeCollection(t),this.updateTarget(t),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,ks(this.ast,this._scope,this),this._needsRemoveNode&&this._value.parentNode?.removeChild(this._value),this._scope=void 0,this.obs.clearAll())}}Ls.mix=xs(()=>{Ss(Ls),$s(Ls,()=>"updateTarget"),ut(Ls,null),is(Ls)});class Rs{constructor(e,t,s,n,r,o){this.ast=s,this.targetProperty=n,this.isBound=!1,this._scope=void 0,this.target=null,this.boundFn=!1,this.l=e,this.oL=t,this.strict=o,this._toBindingContext=r}updateTarget(){this.target[this.targetProperty]=this._value}handleChange(){this.isBound&&(this.obs.version++,this._value=ce(this.ast,this._scope,this,this),this.obs.clear(),this.updateTarget())}handleCollectionChange(){this.handleChange()}bind(e){if(this.isBound){if(this._scope===e)return;this.unbind()}this._scope=e,this.target=this._toBindingContext?e.bindingContext:e.overrideContext,ys(this.ast,e,this),this._value=ce(this.ast,this._scope,this,this),this.updateTarget(),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,ks(this.ast,this._scope,this),this._scope=void 0,this.obs.clearAll())}}Rs.mix=xs(()=>{Ss(Rs),$s(Rs,()=>"updateTarget"),ut(Rs,null),is(Rs)});class Fe{constructor(e,t,s,n,r,o,a,c){this.ast=n,this.target=r,this.targetProperty=o,this.mode=a,this.strict=c,this.isBound=!1,this._scope=void 0,this._targetObserver=void 0,this._isQueued=!1,this._targetSubscriber=null,this.boundFn=!1,this.l=t,this._controller=e,this.oL=s}updateTarget(e){this._targetObserver.setValue(e,this.target,this.targetProperty)}updateSource(e){bn(this.ast,this._scope,this,null,e)}handleChange(){if(!this.isBound)return;if(this._controller.state!==St&&(this._targetObserver.type&Ft)>0){if(this._isQueued)return;this._isQueued=!0,Lt(()=>{this._isQueued=!1,this.isBound&&this._handleChange()})}else this._handleChange()}_handleChange(){this.obs.version++;const e=ce(this.ast,this._scope,this,(this.mode&me)>0?this:null);this.obs.clear(),this.updateTarget(e)}handleCollectionChange(){this.handleChange()}bind(e){if(this.isBound){if(this._scope===e)return;this.unbind()}this._scope=e,ys(this.ast,e,this);const t=this.oL,s=this.mode;let n=this._targetObserver;n||(s&Yt?n=t.getObserver(this.target,this.targetProperty):n=t.getAccessor(this.target,this.targetProperty),this._targetObserver=n);const r=(s&me)>0;s&(me|yr)&&this.updateTarget(ce(this.ast,this._scope,this,r?this:null)),s&Yt&&(n.subscribe(this._targetSubscriber??=new fv(this,this.l.get(pv))),r||this.updateSource(n.getValue(this.target,this.targetProperty))),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,this._targetSubscriber&&(this._targetObserver.unsubscribe(this._targetSubscriber),this._targetSubscriber=null),ks(this.ast,this._scope,this),this._scope=void 0,this.obs.clearAll())}useTargetObserver(e){this._targetObserver?.unsubscribe(this),(this._targetObserver=e).subscribe(this)}useTargetSubscriber(e){if(this._targetSubscriber!=null)throw E(9995);this._targetSubscriber=e}}Fe.mix=xs(()=>{Ss(Fe),$s(Fe,i=>i.mode&Yt?"updateSource":"updateTarget"),ut(Fe,null),is(Fe)});class Os{constructor(e,t,s,n,r){this.oL=t,this.ast=s,this.target=n,this.strict=r,this.isBound=!1,this._scope=void 0,this.l=e}updateSource(){this.isBound?(this.obs.version++,bn(this.ast,this._scope,this,this,this.target),this.obs.clear()):bn(this.ast,this._scope,this,null,null)}handleChange(){this.isBound&&this.updateSource()}handleCollectionChange(){this.isBound&&this.updateSource()}bind(e){if(this.isBound){if(this._scope===e)return;this.unbind()}this._scope=e,ys(this.ast,e,this),this.isBound=!0,this.updateSource()}unbind(){this.isBound&&(this.isBound=!1,this.obs.clearAll(),ce(this.ast,this._scope,this,null)===this.target&&this.updateSource(),ks(this.ast,this._scope,this),this._scope=void 0)}}Os.mix=xs(()=>{ut(Os,null),$s(Os,()=>"updateSource"),Ss(Os),is(Os)});class bv{constructor(e,t=!1,s){this.prevent=e,this.capture=t,this.onError=s}}class hi{constructor(e,t,s,n,r,o,a){this.ast=t,this.target=s,this.targetEvent=n,this.strict=a,this.isBound=!1,this.self=!1,this.boundFn=!0,this._modifiedEventHandler=null,this.l=e,this._options=r,this._modifiedEventHandler=o}callSource(e){const t=this._scope.overrideContext;t.$event=e;let s=ce(this.ast,this._scope,this,null);delete t.$event,ee(s)&&(s=s(e)),s!==!0&&this._options.prevent&&e.preventDefault()}handleEvent(e){if(!(this.self&&this.target!==e.composedPath()[0])&&this._modifiedEventHandler?.(e)!==!1)try{this.callSource(e)}catch(t){this._options.onError(e,t)}}bind(e){if(this.isBound){if(this._scope===e)return;this.unbind()}this._scope=e,ys(this.ast,e,this),this.target.addEventListener(this.targetEvent,this,this._options),this.isBound=!0}unbind(){this.isBound&&(this.isBound=!1,ks(this.ast,this._scope,this),this._scope=void 0,this.target.removeEventListener(this.targetEvent,this,this._options))}}hi.mix=xs(function(){Ss(hi),$s(hi,()=>"callSource"),is(hi)});const $r=oe("IEventModifier"),Eu=oe("IKeyMapping",i=>i.instance({meta:ss(["ctrl","alt","shift","meta"]),keys:{escape:"Escape",enter:"Enter",space:"Space",tab:"tab",...Array.from({length:25}).reduce((e,t,s)=>{let n=String.fromCharCode(s+65);return e[s+65]=n,n=String.fromCharCode(s+97),e[s+97]=e[n]=n,e},{})}}));class La{constructor(){this.type=["click","mousedown","mousemove","mouseup","dblclick","contextmenu"],this._mapping=I(Eu),this._mouseButtons=["left","middle","right"]}static register(e){e.register(Vt($r,La))}getHandler(e){const t=e.split(/[:+.]/);return(s=>{let n=!1,r=!1,o;for(o of t){switch(o){case"prevent":n=!0;continue;case"stop":r=!0;continue;case"left":case"middle":case"right":if(s.button!==this._mouseButtons.indexOf(o))return!1;continue}if(this._mapping.meta.includes(o)&&s[`${o}Key`]!==!0)return!1;console.warn(`Modifier '${o}' is not supported for mouse events.`)}return n&&s.preventDefault(),r&&s.stopPropagation(),!0})}}class Ra{constructor(){this._mapping=I(Eu),this.type=["keydown","keyup"]}static register(e){e.register(Vt($r,Ra))}getHandler(e){const t=e.split(/[:+.]/);return(s=>{let n=!1,r=!1,o;for(o of t){switch(o){case"prevent":n=!0;continue;case"stop":r=!0;continue}if(this._mapping.meta.includes(o)){if(s[`${o}Key`]!==!0)return!1;continue}if(this._mapping.keys[o]!==s.key)return!1;console.warn(`Modifier '${o}' is not supported for keyboard event with key "${s.key}".`)}return n&&s.preventDefault(),r&&s.stopPropagation(),!0})}}class Oa{constructor(){this.type=["$ALL"]}static register(e){e.register(Vt($r,Oa))}getHandler(e){const t=e.split(/[:+.]/);return(s=>{let n=!1,r=!1,o;for(o of t){switch(o){case"prevent":n=!0;continue;case"stop":r=!0;continue}console.warn(`Modifier '${o}' is not supported for event "${s.type}".`)}return n&&s.preventDefault(),r&&s.stopPropagation(),!0})}}const Bu=oe("IEventModifierHandler",i=>i.instance({getHandler:()=>(console.warn("No event modifier handler registered"),null)}));class Ma{constructor(){this._reg=I(ta($r)).reduce((e,t)=>((we(t.type)?t.type:[t.type]).forEach(n=>e[n]=t),e),{})}static register(e){e.register(Vt(Bu,Ma))}getHandler(e,t){return G(t)?(this._reg[e]??this._reg.$ALL)?.getHandler(t)??null:null}}const _v={register(i){i.register(Ma,La,Ra,Oa)}},st=oe("IViewFactory");class xr{constructor(e,t){this.isCaching=!1,this._cache=null,this._cacheSize=-1,this.name=t.name,this.container=e,this.def=t}setCacheSize(e,t){e&&(e==="*"?e=xr.maxCacheSize:G(e)&&(e=parseInt(e,10)),(this._cacheSize===-1||!t)&&(this._cacheSize=e)),this._cacheSize>0?this._cache=[]:this._cache=null,this.isCaching=this._cacheSize>0}canReturnToCache(e){return this._cache!=null&&this._cache.length<this._cacheSize}tryReturnToCache(e){return this.canReturnToCache(e)?(this._cache.push(e),!0):!1}create(e){const t=this._cache;let s;return t!=null&&t.length>0?(s=t.pop(),s):(s=et.$view(this,e),s)}}xr.maxCacheSize=65535;const wv=(()=>{const i=(e,t)=>e.document.createComment(t);return e=>{const t=i(e,"au-end");return t.$start=i(e,"au-start"),t}})(),Rn=(i,e,t)=>{if(i===null)return;const s=t.length;let n=0;for(;s>n;)i.insertBefore(t[n],e),++n},Pu=(i,e)=>new i.ownerDocument.defaultView.MutationObserver(e),yv=i=>i.nodeType===1,Lu="default",kv="au-slot",Ru=oe("IAuSlotsInfo");class Ou{constructor(e){this.projectedSlots=e}}const Cv=oe("IAuSlotWatcher");class Ir{static create(e,t,s,n,r,o,a,c){const l=[],h=n.renderers,u=p=>{let m=p,f=e;for(;f!=null&&m>0;)f=f.parent,--m;if(f==null)throw E(9999);return f},d=p=>{const m=u(p),f=new Ir(m),g=r.compileSpread(m.controller.definition,m.instruction?.captures??W,m.controller.container,t,s);let w;for(w of g)switch(w.type){case Se.spreadTransferedBinding:d(p+1);break;case Se.spreadElementProp:h[w.instruction.type].render(f,vi(t),w.instruction,o,a,c);break;default:h[w.type].render(f,t,w,o,a,c)}l.push(f)};return d(0),l}get container(){return this.locator}get definition(){return this.$controller.definition}get state(){return this.$controller.state}constructor(e){this.isBound=!1,this._innerBindings=[],this.locator=(this.$controller=(this._hydrationContext=e).controller).container}get(e){return this.locator.get(e)}bind(e){if(this.isBound)return;this.isBound=!0;const t=this.scope=this._hydrationContext.controller.scope.parent??void 0;if(t==null)throw E(9999);this._innerBindings.forEach(s=>s.bind(t))}unbind(){this._innerBindings.forEach(e=>e.unbind()),this.isBound=!1}addBinding(e){this._innerBindings.push(e)}addChild(e){if(e.vmKind!==Bs)throw E(9998);this.$controller.addChild(e)}}class $t{constructor(e,t,s,n,r,o,a){this.target=t,this.targetKeys=s,this.ast=n,this.strict=a,this.isBound=!1,this._scope=void 0,this.boundFn=!1,this._bindingCache={},this._scopeCache=new WeakMap,this._controller=e,this.oL=r,this.l=o}updateTarget(){this.obs.version++;const e=ce(this.ast,this._scope,this,this);this.obs.clear(),this._createBindings(e,!0)}handleChange(){this.isBound&&this.updateTarget()}handleCollectionChange(){this.isBound&&this.updateTarget()}bind(e){if(this.isBound){if(this._scope===e)return;this.unbind()}this.isBound=!0,this._scope=e,ys(this.ast,e,this);const t=ce(this.ast,e,this,this);this._createBindings(t,!1)}unbind(){if(!this.isBound)return;this.isBound=!1,ks(this.ast,this._scope,this),this._scope=void 0;let e;for(e in this._bindingCache)this._bindingCache[e].unbind()}_createBindings(e,t){let s;if(!Ec(e)){console.warn(`[DEV:aurelia] $bindable spread is given a non object for properties: "${this.targetKeys.join(", ")}" of ${this.target.constructor.name}`);for(s in this._bindingCache)this._bindingCache[s]?.unbind();return}let n,r=this._scopeCache.get(e);r==null&&this._scopeCache.set(e,r=Ae.fromParent(this._scope,e));for(s of this.targetKeys)n=this._bindingCache[s],s in e?(n==null&&(n=this._bindingCache[s]=new Fe(this._controller,this.l,this.oL,$t._astCache[s]??=new tn(s,0),this.target,s,Ei.toView,this.strict)),n.bind(r)):t&&n?.unbind()}}$t.mix=xs(()=>{Ss($t),$s($t,()=>"updateTarget"),ut($t,null),is($t)});$t._astCache={};const Gl=(i,e,t,s)=>{i.addEventListener(e,t,s)},Zl=(i,e,t,s)=>{i.removeEventListener(e,t,s)},Na=i=>{let e;const t=i.prototype;Ye(t,"subscribe",function(s){if(this.subs.add(s)&&this.subs.count===1){for(e of this._config.events)Gl(this._el,e,this);this._listened=!0,this._start?.()}}),Ye(t,"unsubscribe",function(s){if(this.subs.remove(s)&&this.subs.count===0){for(e of this._config.events)Zl(this._el,e,this);this._listened=!1,this._stop?.()}}),Ye(t,"useConfig",function(s){if(this._config=s,this._listened){for(e of this._config.events)Zl(this._el,e,this);for(e of this._config.events)Gl(this._el,e,this)}})},Tr=i=>{Ye(i.prototype,"subscribe",ht),Ye(i.prototype,"unsubscribe",ht)};class Er{get doNotCache(){return!0}constructor(e,t={}){this.obj=e,this.mapping=t,this.type=As|Ft,this._value="",this._nameIndex={},this._version=0}getValue(){return this._value}setValue(e){e!==this._value&&(this._value=e,this._flushChanges())}_flushChanges(){const e=this._nameIndex,t=++this._version,s=this.obj.classList,n=Mu(this._value),r=n.length;let o=0,a;if(r>0)for(;o<r;o++)a=n[o],a=this.mapping[a]||a,a.length!==0&&(e[a]=this._version,s.add(a));if(t!==1)for(a in e)a=this.mapping[a]||a,e[a]!==t&&s.remove(a)}}Tr(Er);function Mu(i){if(G(i))return Jl(i);if(typeof i!="object")return W;if(we(i)){const s=i.length;if(s>0){const n=[];let r=0;for(;s>r;++r)n.push(...Mu(i[r]));return n}else return W}const e=[];let t;for(t in i)i[t]&&(t.includes(" ")?e.push(...Jl(t)):e.push(t));return e}function Jl(i){const e=i.match(/\S+/g);return e===null?W:e}const Nu=i=>({$isResolver:!0,resolve(e,t){return t.get(vs).controller.container.get(Cf(i))}}),Du=oe("IRenderer");function Be(i,e){const t=i[Symbol.metadata]??=Object.create(null);return t[Mt]={register(s){Vt(Du,i).register(s)}},i}function Ot(i,e,t){return G(e)?i.parse(e,t):e}function Br(i){return i.viewModel!=null?i.viewModel:i}function Av(i,e){if(e==="element")return i;switch(e){case"controller":return vi(i);case"view":throw E(750);case"component":return vi(i).viewModel;default:{const t=Iu(i,e);if(t!==void 0)return t.viewModel;const s=vi(i,{name:e});if(s===void 0)throw E(751,e);return s.viewModel}}}const Sv=Be(class{constructor(){this.target=Se.setProperty}render(e,t,s){const n=Br(t);n.$observers?.[s.to]!==void 0?n.$observers[s.to].setValue(s.value):n[s.to]=s.value}}),$v=Be(class{constructor(){this._rendering=I(Zs),this.target=Se.hydrateElement}render(e,t,s,n,r,o){let a,c,l;const h=s.res,u=s.projections,d=e.container;switch(typeof h){case"string":if(a=gt.find(d,h),a==null)throw E(752,s,e);break;default:a=h}const m=s.containerless||a.containerless?_n(t):null,f=Kv(n,e,t,s,m,u==null?void 0:new Ou(xa(u)));c=f.invoke(a.Type),l=et.$el(f,c,t,s,a,m);const g=this._rendering.renderers,w=s.props,$=w.length;let B=0,C;for(;$>B;)C=w[B],g[C.type].render(e,l,C,n,r,o),++B;e.addChild(l)}}),xv=Be(class{constructor(){this._rendering=I(Zs),this.target=Se.hydrateAttribute}render(e,t,s,n,r,o){let a=e.container,c;switch(typeof s.res){case"string":if(c=Ba.find(a,s.res),c==null)throw E(753,s,e);break;default:c=s.res}const l=Hu(n,c,e,t,s,void 0,void 0),h=et.$attr(l.ctn,l.vm,t,c);It.set(t,c.key,h);const u=this._rendering.renderers,d=s.props,p=d.length;let m=0,f;for(;p>m;)f=d[m],u[f.type].render(e,h,f,n,r,o),++m;e.addChild(h)}}),Iv=Be(class{constructor(){this._rendering=I(Zs),this.target=Se.hydrateTemplateController}render(e,t,s,n,r,o){let a=e.container,c;switch(typeof s.res){case"string":if(c=Ba.find(a,s.res),c==null)throw E(754,s,e);break;default:c=s.res}const l=this._rendering.getViewFactory(s.def,c.containerStrategy==="new"?a.createChild({inheritParentResources:!0}):a),h=_n(t),u=Hu(n,c,e,t,s,l,h),d=et.$attr(u.ctn,u.vm,t,c);It.set(h,c.key,d),u.vm.link?.(e,d,t,s);const p=this._rendering.renderers,m=s.props,f=m.length;let g=0,w;for(;f>g;)w=m[g],p[w.type].render(e,d,w,n,r,o),++g;e.addChild(d)}}),Tv=Be(class{constructor(){this.target=Se.hydrateLetElement,Rs.mix()}render(e,t,s,n,r,o){t.remove();const a=s.instructions,c=s.toBindingContext,l=e.container,h=a.length;let u,d,p=0;for(;h>p;)u=a[p],d=Ot(r,u.from,Rt),e.addBinding(new Rs(l,o,d,u.to,c,e.strict??!1)),++p}}),Ev=Be(class{constructor(){this.target=Se.refBinding,Os.mix()}render(e,t,s,n,r,o){e.addBinding(new Os(e.container,o,Ot(r,s.from,Rt),Av(t,s.to),e.strict??!1))}}),Bv=Be(class{constructor(){this.target=Se.interpolation,Ps.mix()}render(e,t,s,n,r,o){const a=e.container,c=new vv(e,a,o,Ot(r,s.from,Gm),Br(t),s.to,me,e.strict??!1);if(s.to==="class"&&c.target.nodeType>0){const l=a.get(Nu(ar));c.useAccessor(new Er(c.target,l))}e.addBinding(c)}}),Pv=Be(class{constructor(){this.target=Se.propertyBinding,Fe.mix()}render(e,t,s,n,r,o){const a=e.container,c=new Fe(e,a,o,Ot(r,s.from,Rt),Br(t),s.to,s.mode,e.strict??!1);if(s.to==="class"&&c.target.nodeType>0){const l=a.get(Nu(ar));c.useTargetObserver(new Er(c.target,l))}e.addBinding(c)}}),Lv=Be(class{constructor(){this.target=Se.iteratorBinding,Fe.mix()}render(e,t,s,n,r,o){e.addBinding(new Fe(e,e.container,o,Ot(r,s.forOf,Zm),Br(t),s.to,me,e.strict??!1))}}),Rv=Be(class{constructor(){this.target=Se.textBinding,Ls.mix()}render(e,t,s,n,r,o){e.addBinding(new Ls(e,e.container,o,n,Ot(r,s.from,Rt),t,e.strict??!1))}}),Ov=oe("IListenerBindingOptions",i=>i.singleton(class{constructor(){this.p=I(qe),this.prevent=!1,this.onError=(e,t)=>{const s=new this.p.CustomEvent("au-event-error",{cancelable:!0,detail:{event:e,error:t}});if(this.p.window.dispatchEvent(s),!s.defaultPrevented)throw t}}})),Mv=Be(class{constructor(){this.target=Se.listenerBinding,this._modifierHandler=I(Bu),this._defaultOptions=I(Ov),hi.mix()}render(e,t,s,n,r){e.addBinding(new hi(e.container,Ot(r,s.from,Jm),t,s.to,new bv(this._defaultOptions.prevent,s.capture,this._defaultOptions.onError),this._modifierHandler.getHandler(s.to,s.modifier),e.strict??!1))}}),Nv=Be(class{constructor(){this.target=Se.setAttribute}render(e,t,s){t.setAttribute(s.to,s.value)}}),Dv=Be(class{constructor(){this.target=Se.setClassAttribute}render(e,t,s){qv(t.classList,s.value)}}),Fv=Be(class{constructor(){this.target=Se.setStyleAttribute}render(e,t,s){t.style.cssText+=s.value}}),Vv=["height","width","border-width","padding","padding-left","padding-right","padding-top","padding-right","padding-inline","padding-block","margin","margin-left","margin-right","margin-top","margin-bottom","margin-inline","margin-block","top","right","bottom","left"],jv=Be(class{constructor(){this.target=Se.stylePropertyBinding,Fe.mix()}render(e,t,s,n,r,o){if(Vv.includes(s.to)){e.addBinding(new zv(e,e.container,o,Ot(r,s.from,Rt),t.style,s.to,me,e.strict??!1));return}e.addBinding(new Fe(e,e.container,o,Ot(r,s.from,Rt),t.style,s.to,me,e.strict??!1))}});class zv extends Fe{updateTarget(e){return typeof e=="number"&&e>0&&console.warn(`[DEV]: Setting number ${e} as value for style.${this.targetProperty}. Did you meant "${e}px"?`),super.updateTarget(e)}}const Hv=Be(class{constructor(){this.target=Se.attributeBinding,lt.mix()}render(e,t,s,n,r,o){const a=e.container,c=a.has(ar,!1)?a.get(ar):null;e.addBinding(new lt(e,a,o,Ot(r,s.from,Rt),t,s.attr,c==null?s.to:s.to.split(/\s/g).map(l=>c[l]??l).join(" "),me,e.strict??!1))}}),Wv=Be(class{constructor(){this._compiler=I(mr),this._rendering=I(Zs),this.target=Se.spreadTransferedBinding}render(e,t,s,n,r,o){Ir.create(e.container.get(vs),t,void 0,this._rendering,this._compiler,n,r,o).forEach(a=>e.addBinding(a))}}),Uv=Be(class{constructor(){this.target=Se.spreadValueBinding,$t.mix()}render(e,t,s,n,r,o){const a=s.target;if(a==="$bindables")e.addBinding(new $t(e,t.viewModel,xa(t.definition.bindables),r.parse(s.from,Rt),o,e.container,e.strict??!1));else throw E(820,a)}});function qv(i,e){const t=e.length;let s=0;for(let n=0;n<t;++n)e.charCodeAt(n)===32?(n!==s&&i.add(e.slice(s,n)),s=n+1):n+1===t&&i.add(e.slice(s))}const Fu="IController",Vu="IInstruction",Qv="IRenderLocation",ju="ISlotsInfo";function Kv(i,e,t,s,n,r){const o=e.container.createChild();return Lr(o,t,i),le(o,Pr,new Ce(Fu,e)),le(o,Bi,new Ce(Vu,s)),le(o,je,n==null?Uu:new Wu(n)),le(o,st,qu),le(o,Ru,r==null?Qu:new Ce(ju,r)),o}class zu{get $isResolver(){return!0}constructor(e){this.f=e}resolve(){const e=this.f;if(e===null)throw E(755);if(!G(e.name)||e.name.length===0)throw E(756);return e}}function Hu(i,e,t,s,n,r,o,a){const c=t instanceof et?t:t.$controller,l=c.container.createChild();return Lr(l,s,i),le(l,Pr,new Ce(Fu,c)),le(l,Bi,new Ce(Vu,n)),le(l,je,o==null?Uu:new Ce(Qv,o)),le(l,st,r==null?qu:new zu(r)),le(l,Ru,Qu),{vm:l.invoke(e.Type),ctn:l}}class Wu{get name(){return"IRenderLocation"}get $isResolver(){return!0}constructor(e){this._location=e}resolve(){return this._location}}const Uu=new Wu(null),qu=new zu(null),Qu=new Ce(ju,new Ou(W)),Zs=oe("IRendering",i=>i.singleton(Gv));class Gv{get renderers(){return this._renderers??=this._ctn.getAll(Du,!1).reduce((e,t)=>(e[t.target]!==void 0&&console.warn(`[DEV:aurelia] Renderer for target ${t.target} already exists.`),e[t.target]??=t,e),se())}constructor(){this._compilationCache=new WeakMap,this._fragmentCache=new WeakMap;const e=this._ctn=I(Sn).root,t=this._platform=e.get(qe);this._exprParser=e.get(Ii),this._observerLocator=e.get(Li),this._marker=t.document.createElement("au-m"),this._empty=new oo(t,t.document.createDocumentFragment())}compile(e,t){const s=t.get(mr),n=this._compilationCache;let r=n.get(e);return r==null&&n.set(e,r=Ue.create(e.needsCompile?s.compile(e,t):e)),r}getViewFactory(e,t){return new xr(t,Ue.getOrCreate(e))}createNodes(e){if(e.enhance===!0)return new oo(this._platform,this._transformMarker(e.template));let t,s=!1;const n=this._fragmentCache,r=this._platform,o=r.document;if(n.has(e))t=n.get(e);else{const a=e.template;let c;a==null?t=null:a instanceof r.Node?a.nodeName==="TEMPLATE"?(t=a.content,s=!0):(t=o.createDocumentFragment()).appendChild(a.cloneNode(!0)):(c=o.createElement("template"),G(a)&&(c.innerHTML=a),t=c.content,s=!0),this._transformMarker(t),n.set(e,t)}return t==null?this._empty:new oo(this._platform,s?o.importNode(t,!0):o.adoptNode(t.cloneNode(!0)))}render(e,t,s,n){const r=s.instructions,o=this.renderers,a=t.length;let c=0,l=0,h=r.length,u,d,p;if(a!==h)throw E(757,a,h);if(n!=null&&(u=s.surrogates,(h=u.length)>0))for(l=0;h>l;)d=u[l],o[d.type].render(e,n,d,this._platform,this._exprParser,this._observerLocator),++l;if(a>0)for(;a>c;){for(u=r[c],p=t[c],l=0,h=u.length;h>l;)d=u[l],o[d.type].render(e,p,d,this._platform,this._exprParser,this._observerLocator),++l;++c}}_transformMarker(e){if(e==null)return null;const t=this._platform.document.createTreeWalker(e,128);let s;for(;(s=t.nextNode())!=null;)s.nodeValue==="au*"&&s.parentNode.replaceChild(t.currentNode=this._marker.cloneNode(),s);return e}}const Xl=oe("IShadowDOMStyles"),Zv=oe("IShadowDOMGlobalStyles",i=>i.instance({applyTo:ht})),{enter:Jv,exit:Xv}=Gg,{wrap:Yv,unwrap:eb}=Pm;class Ku{get value(){return this._value}constructor(e,t,s,n,r="async"){this.obj=e,this.$get=s,this.isBound=!1,this._isQueued=!1,this._computeDepth=0,this._value=void 0,this._callback=n,this.oL=t,this._flush=r}handleChange(){this.run()}handleCollectionChange(){this.run()}bind(){this.isBound||(this.compute(),this.isBound=!0)}unbind(){this.isBound&&(this.isBound=!1,this.obs.clearAll())}run(){if(this.isBound){if(this._flush==="sync"){this._run();return}this._isQueued||(this._isQueued=!0,Lt(()=>{this._isQueued=!1,this._run()}))}}_run(){if(!this.isBound)return;const e=this.obj,t=this._value;if(++this._computeDepth>100)throw new Error("AURXXXX: Possible infinitely recursive side-effect detected in a watcher.");const s=this.compute();Jt(s,t)||this._callback.call(e,s,t,e),this._isQueued||(this._computeDepth=0)}compute(){this.obs.version++;try{return Jv(this),this._value=eb(this.$get.call(void 0,Yv(this.obj),this))}finally{this.obs.clear(),Xv(this)}}}ut(Ku,null);class Vo{get value(){return this._value}constructor(e,t,s,n,r,o="async"){this.scope=e,this.l=t,this.oL=s,this.isBound=!1,this._isQueued=!1,this.boundFn=!1,this.obj=e.bindingContext,this._expression=n,this._callback=r,this._flush=o}handleChange(){this.run()}handleCollectionChange(){this.run()}run(){if(this.isBound){if(this._flush==="sync"){this._run();return}this._isQueued||(this._isQueued=!0,Lt(()=>{this._isQueued=!1,this._run()}))}}_run(){if(!this.isBound)return;const e=this._expression,t=this.obj,s=this._value;this.obs.version++;const n=ce(e,this.scope,this,this);this.obs.clear(),Jt(n,s)||(this._value=n,this._callback.call(t,n,s,t))}bind(){this.isBound||(this.obs.version++,this._value=ce(this._expression,this.scope,this,this),this.obs.clear(),this.isBound=!0)}unbind(){this.isBound&&(this.isBound=!1,this.obs.clearAll(),this._value=void 0)}}ut(Vo,null),is(Vo);class et{get lifecycleHooks(){return this._lifecycleHooks}get isActive(){return(this.state&(St|Ms))>0&&(this.state&un)===0}get name(){if(this.parent===null)switch(this.vmKind){case Bs:return`[${this.definition.name}]`;case ot:return this.definition.name;case Re:return this.viewFactory.name}switch(this.vmKind){case Bs:return`${this.parent.name}>[${this.definition.name}]`;case ot:return`${this.parent.name}>${this.definition.name}`;case Re:return this.viewFactory.name===this.parent.definition?.name?`${this.parent.name}[view]`:`${this.parent.name}[view:${this.viewFactory.name}]`}}get viewModel(){return this._vm}set viewModel(e){this._vm=e,this._vmHooks=e==null||this.vmKind===Re?ui.none:new ui(e)}get strict(){return this.definition?.strict}constructor(e,t,s,n,r,o,a){this.container=e,this.vmKind=t,this.definition=s,this.viewFactory=n,this.host=o,this.head=null,this.tail=null,this.next=null,this.parent=null,this.bindings=null,this.children=null,this.hasLockedScope=!1,this.scope=null,this.isBound=!1,this._isBindingDone=!1,this.mountTarget=Gu,this.shadowRoot=null,this.nodes=null,this.location=null,this._lifecycleHooks=null,this.state=io,this._fullyNamed=!1,this.$initiator=null,this.$resolve=void 0,this.$reject=void 0,this.$promise=void 0,this._activatingStack=0,this._detachingStack=0,this._unbindingStack=0,this._vm=r,this._vmHooks=t===Re?ui.none:new ui(r),this.logger=null,this.debug=!1,this.location=a,this._rendering=e.root.get(Zs)}static getCached(e){return rs.get(e)}static getCachedOrThrow(e){const t=et.getCached(e);if(t===void 0)throw E(500,e);return t}static $el(e,t,s,n,r=void 0,o=null){if(rs.has(t))return rs.get(t);if(r==null)try{r=Yu(t.constructor)}catch(l){throw console.error(`[DEV:aurelia] Custom element definition not found for creating a controller with host: <${s.nodeName} /> and component ${t.constructor.name||"(Anonymous) class"}`),l}le(e,r.Type,new Ce(r.key,t,r.Type));const a=new et(e,ot,r,null,t,s,o),c=e.get(Vc(vs));return r.dependencies.length>0&&e.register(...r.dependencies),le(e,vs,new Ce("IHydrationContext",new Zu(a,n,c))),rs.set(t,a),(n==null||n.hydrate!==!1)&&a._hydrateCustomElement(n),a}static $attr(e,t,s,n){if(rs.has(t))return rs.get(t);n=n??Ea(t.constructor),le(e,n.Type,new Ce(n.key,t,n.Type));const r=new et(e,Bs,n,null,t,s,null);return n.dependencies.length>0&&e.register(...n.dependencies),rs.set(t,r),r._hydrateCustomAttribute(),r}static $view(e,t=void 0){const s=new et(e.container,Re,null,e,null,null,null);return s.parent=t??null,s._hydrateSynthetic(),s}_hydrateCustomElement(e){this.logger=this.container.get(js).root,this.debug=this.logger.config.level<=If.debug,this.debug&&(this.logger=this.logger.scopeTo(this.name));const t=this.container,s=this._vm,n=this.definition;this.scope=Ae.create(s,null,!0),n.watches.length>0&&tc(this,t,n,s),Yl(this,n,s),this._lifecycleHooks=Kl.resolve(t),t.register(n.Type),n.injectable!==null&&le(t,n.injectable,new Ce("definition.injectable",s)),(e==null||e.hydrate!==!1)&&(this._hydrate(),this._hydrateChildren())}_hydrate(){this._lifecycleHooks.hydrating!=null&&this._lifecycleHooks.hydrating.forEach(ab,this),this._vmHooks._hydrating&&(this.debug&&this.logger.trace("invoking hydrating() hook"),this._vm.hydrating(this));const e=this.definition,t=this._compiledDef=this._rendering.compile(e,this.container),s=t.shadowOptions,n=t.hasSlots,r=t.containerless,o=this.host;let a=this.location;if(r&&a==null&&(a=this.location=_n(o)),it(o,Pe,this),it(o,e.key,this),s!==null||n){if(a!=null)throw E(501);it(this.shadowRoot=o.attachShadow(s??nb),Pe,this),it(this.shadowRoot,e.key,this),this.mountTarget=Wi}else a!=null?(o!==a&&(it(a,Pe,this),it(a,e.key,this)),this.mountTarget=Ui):this.mountTarget=Hi;this._vm.$controller=this,this.nodes=this._rendering.createNodes(t),this._lifecycleHooks.hydrated!==void 0&&this._lifecycleHooks.hydrated.forEach(lb,this),this._vmHooks._hydrated&&(this.debug&&this.logger.trace("invoking hydrated() hook"),this._vm.hydrated(this))}_hydrateChildren(){this._rendering.render(this,this.nodes.findTargets(),this._compiledDef,this.host),this._lifecycleHooks.created!==void 0&&this._lifecycleHooks.created.forEach(sc,this),this._vmHooks._created&&(this.debug&&this.logger.trace("invoking created() hook"),this._vm.created(this))}_hydrateCustomAttribute(){const e=this.definition,t=this._vm;e.watches.length>0&&tc(this,this.container,e,t),Yl(this,e,t),t.$controller=this,this._lifecycleHooks=Kl.resolve(this.container),this._lifecycleHooks.created!==void 0&&this._lifecycleHooks.created.forEach(sc,this),this._vmHooks._created&&(this.debug&&this.logger.trace("invoking created() hook"),this._vm.created(this))}_hydrateSynthetic(){this._compiledDef=this._rendering.compile(this.viewFactory.def,this.container),this._rendering.render(this,(this.nodes=this._rendering.createNodes(this._compiledDef)).findTargets(),this._compiledDef,void 0)}activate(e,t,s){switch(this.state){case io:case di:if(!(t===null||t.isActive))return;this.state=St;break;case Ms:return;case os:throw E(502,this.name);default:throw E(503,this.name,rb(this.state))}switch(this.parent=t,this.debug&&!this._fullyNamed&&(this._fullyNamed=!0,(this.logger??=this.container.get(js).root.scopeTo(this.name)).trace("activate()")),this.vmKind){case ot:this.scope.parent=s??null;break;case Bs:this.scope=s??null;break;case Re:if(s==null)throw E(504,this.name);this.hasLockedScope||(this.scope=s);break}this.$initiator=e,this._enterActivating();let n;return this.vmKind!==Re&&this._lifecycleHooks.binding!=null&&(this.debug&&this.logger.trace("lifecycleHooks.binding()"),n=$e(...this._lifecycleHooks.binding.map(cb,this))),this._vmHooks._binding&&(this.debug&&this.logger.trace("binding()"),n=$e(n,this._vm.binding(this.$initiator,this.parent))),ke(n)?(this._ensurePromise(),n.then(()=>{this._isBindingDone=!0,this.state!==St?this._leaveActivating():this.bind()}).catch(r=>{this._reject(r)}),this.$promise):(this._isBindingDone=!0,this.bind(),this.$promise)}bind(){this.debug&&this.logger.trace("bind()");let e=0,t=0,s;if(this.bindings!==null)for(e=0,t=this.bindings.length;t>e;)this.bindings[e].bind(this.scope),++e;if(this.vmKind!==Re&&this._lifecycleHooks.bound!=null&&(this.debug&&this.logger.trace("lifecycleHooks.bound()"),s=$e(...this._lifecycleHooks.bound.map(hb,this))),this._vmHooks._bound&&(this.debug&&this.logger.trace("bound()"),s=$e(s,this._vm.bound(this.$initiator,this.parent))),ke(s)){this._ensurePromise(),s.then(()=>{this.isBound=!0,this.state!==St?this._leaveActivating():this._attach()}).catch(n=>{this._reject(n)});return}this.isBound=!0,this._attach()}_append(...e){switch(this.mountTarget){case Hi:this.host.append(...e);break;case Wi:this.shadowRoot.append(...e);break;case Ui:{let t=0;for(;t<e.length;++t)this.location.parentNode.insertBefore(e[t],this.location);break}}}_attach(){switch(this.debug&&this.logger.trace("attach()"),this.mountTarget){case Hi:this.nodes.appendTo(this.host,this.definition!=null&&this.definition.enhance);break;case Wi:{const s=this.container;(s.has(Xl,!1)?s.get(Xl):s.get(Zv)).applyTo(this.shadowRoot),this.nodes.appendTo(this.shadowRoot);break}case Ui:this.nodes.insertBefore(this.location);break}let e=0,t;if(this.vmKind!==Re&&this._lifecycleHooks.attaching!=null&&(this.debug&&this.logger.trace("lifecycleHooks.attaching()"),t=$e(...this._lifecycleHooks.attaching.map(ub,this))),this._vmHooks._attaching&&(this.debug&&this.logger.trace("attaching()"),t=$e(t,this._vm.attaching(this.$initiator,this.parent))),ke(t)&&(this._ensurePromise(),this._enterActivating(),t.then(()=>{this._leaveActivating()}).catch(s=>{this._reject(s)})),this.children!==null)for(;e<this.children.length;++e)this.children[e].activate(this.$initiator,this,this.scope);this._leaveActivating()}deactivate(e,t){let s;switch(this.state&~fi){case Ms:this.state=un;break;case St:this.state=un,s=this.$promise?.catch(o=>{this.logger.warn("The activation error will be ignored, as the controller is already scheduled for deactivation. The activation was rejected with: %s",o)});break;case io:case di:case os:case di|os:return;default:throw E(505,this.name,this.state)}this.debug&&this.logger.trace("deactivate()"),this.$initiator=e,e===this&&this._enterDetaching();let n=0,r;if(this.children!==null)for(n=0;n<this.children.length;++n)this.children[n].deactivate(e,this);return z(s,()=>{if(this.isBound&&(this.vmKind!==Re&&this._lifecycleHooks.detaching!=null&&(this.debug&&this.logger.trace("lifecycleHooks.detaching()"),r=$e(...this._lifecycleHooks.detaching.map(fb,this))),this._vmHooks._detaching&&(this.debug&&this.logger.trace("detaching()"),r=$e(r,this._vm.detaching(this.$initiator,this.parent)))),ke(r)&&(this._ensurePromise(),e._enterDetaching(),r.then(()=>{e._leaveDetaching()}).catch(o=>{e._reject(o)})),e.head===null?e.head=this:e.tail.next=this,e.tail=this,e===this)return this._leaveDetaching(),this.$promise})}removeNodes(){switch(this.vmKind){case ot:case Re:this.nodes.remove(),this.nodes.unlink()}}unbind(){this.debug&&this.logger.trace("unbind()");let e=0;if(this.bindings!==null)for(;e<this.bindings.length;++e)this.bindings[e].unbind();switch(this.parent=null,this.vmKind){case Bs:this.scope=null;break;case Re:this.hasLockedScope||(this.scope=null),(this.state&fi)===fi&&!this.viewFactory.tryReturnToCache(this)&&this.$initiator===this&&this.dispose();break;case ot:this.scope.parent=null;break}this.state=di,this.$initiator=null,this._resolve()}_ensurePromise(){this.$promise===void 0&&(this.$promise=new Promise((e,t)=>{this.$resolve=e,this.$reject=t}),this.$initiator!==this&&this.parent._ensurePromise())}_resolve(){this.$promise!==void 0&&(no=this.$resolve,this.$resolve=this.$reject=this.$promise=void 0,no(),no=void 0)}_reject(e){this.$promise!==void 0&&(ro=this.$reject,this.$resolve=this.$reject=this.$promise=void 0,ro(e),ro=void 0),this.$initiator!==this&&this.parent._reject(e)}_enterActivating(){++this._activatingStack,this.$initiator!==this&&this.parent._enterActivating()}_leaveActivating(){if(this.state!==St){--this._activatingStack,this._resolve(),this.$initiator!==this&&this.parent._leaveActivating();return}if(--this._activatingStack===0){if(this.vmKind!==Re&&this._lifecycleHooks.attached!=null&&(Es=$e(...this._lifecycleHooks.attached.map(db,this))),this._vmHooks._attached&&(this.debug&&this.logger.trace("attached()"),Es=$e(Es,this._vm.attached(this.$initiator))),ke(Es)){this._ensurePromise(),Es.then(()=>{this.state=Ms,this._resolve(),this.$initiator!==this&&this.parent._leaveActivating()}).catch(e=>{this._reject(e)}),Es=void 0;return}Es=void 0,this.state=Ms,this._resolve()}this.$initiator!==this&&this.parent._leaveActivating()}_enterDetaching(){++this._detachingStack}_leaveDetaching(){if(--this._detachingStack===0){this.debug&&this.logger.trace("detach()"),this._enterUnbinding(),this.removeNodes();let e=this.$initiator.head,t;for(;e!==null;)e!==this&&(e.debug&&e.logger.trace("detach()"),e.removeNodes()),e._isBindingDone&&(e.vmKind!==Re&&e._lifecycleHooks.unbinding!=null&&(t=$e(...e._lifecycleHooks.unbinding.map(pb,e))),e._vmHooks._unbinding&&(e.debug&&e.logger.trace("unbinding()"),t=$e(t,e.viewModel.unbinding(e.$initiator,e.parent)))),ke(t)&&(this._ensurePromise(),this._enterUnbinding(),t.then(()=>{this._leaveUnbinding()}).catch(s=>{this._reject(s)})),t=void 0,e=e.next;this._leaveUnbinding()}}_enterUnbinding(){++this._unbindingStack}_leaveUnbinding(){if(--this._unbindingStack===0){this.debug&&this.logger.trace("unbind()");let e=this.$initiator.head,t=null;for(;e!==null;)e!==this&&(e._isBindingDone=!1,e.isBound=!1,e.unbind()),t=e.next,e.next=null,e=t;this.head=this.tail=null,this._isBindingDone=!1,this.isBound=!1,this.unbind()}}addBinding(e){this.bindings===null?this.bindings=[e]:this.bindings[this.bindings.length]=e}addChild(e){this.children===null?this.children=[e]:this.children[this.children.length]=e}is(e){switch(this.vmKind){case Bs:case ot:return this.definition.name===e;case Re:return this.viewFactory.name===e}}lockScope(e){this.scope=e,this.hasLockedScope=!0}setHost(e){return this.vmKind===ot&&(it(e,Pe,this),it(e,this.definition.key,this)),this.host=e,this.mountTarget=Hi,this}setShadowRoot(e){return this.vmKind===ot&&(it(e,Pe,this),it(e,this.definition.key,this)),this.shadowRoot=e,this.mountTarget=Wi,this}setLocation(e){return this.vmKind===ot&&(it(e,Pe,this),it(e,this.definition.key,this)),this.location=e,this.mountTarget=Ui,this}release(){this.state|=fi}dispose(){this.debug&&this.logger.trace("dispose()"),(this.state&os)!==os&&(this.state|=os,this._vmHooks._dispose&&this._vm.dispose(),this.children!==null&&(this.children.forEach(ob),this.children=null),this.scope=null,this.nodes=null,this.location=null,this.viewFactory=null,this._vm!==null&&(rs.delete(this._vm),this._vm=null),this._vm=null,this.host=null,this.shadowRoot=null,this.container.disposeResolvers())}accept(e){if(e(this)===!0||this._vmHooks._accept&&this._vm.accept(e)===!0)return!0;if(this.children!==null){const{children:t}=this;for(let s=0,n=t.length;s<n;++s)if(t[s].accept(e)===!0)return!0}}}const rs=new WeakMap,Gu=0,Hi=1,Wi=2,Ui=3,tb=ss({none:Gu,host:Hi,shadowRoot:Wi,location:Ui}),sb=Af(tu);function Yl(i,e,t){const s=e.bindables,n=pu(s),r=n.length;if(r===0)return;const o=i.container.get(Li),a="propertiesChanged"in t,c=i.vmKind===Re?void 0:i.container.get(sb),l=a?(()=>{let h={},u=!1,d=0;const p=()=>{u||(u=!0,Lt(()=>{u=!1;const m=h;h={},d=0,i.isBound&&(t.propertiesChanged?.(m),d>0&&p())}))};return(m,f,g)=>{h[m]={newValue:f,oldValue:g},d++,p()}})():ht;for(let h=0;h<r;++h){const u=n[h],d=s[u],p=d.callback,m=o.getObserver(t,u);if(d.set!==ht&&m.useCoercer?.(d.set,c)!==!0)throw E(507,u);if(t[p]!=null||t.propertyChanged!=null||a){const f=(g,w)=>{i.isBound&&(t[p]?.(g,w),t.propertyChanged?.(u,g,w),l(u,g,w))};if(m.useCallback?.(f)!==!0)throw E(508,u)}}}const ec=new Map,ib=i=>{let e=ec.get(i);return e==null&&(e=new tn(i,0),ec.set(i,e)),e};function tc(i,e,t,s){const n=e.get(Li),r=e.get(Ii),o=t.watches,a=i.vmKind===ot?i.scope:Ae.create(s,null,!0),c=o.length;let l,h,u,d,p=0;for(;c>p;++p){if({expression:l,callback:h,flush:d}=o[p],h=ee(h)?h:Reflect.get(s,h),!ee(h))throw E(506,h);ee(l)?i.addBinding(new Ku(s,n,l,h,d)):(u=G(l)?r.parse(l,Rt):ib(l),i.addBinding(new Vo(a,e,n,u,h,d)))}}class ui{constructor(e){this._define="define"in e,this._hydrating="hydrating"in e,this._hydrated="hydrated"in e,this._created="created"in e,this._binding="binding"in e,this._bound="bound"in e,this._attaching="attaching"in e,this._attached="attached"in e,this._detaching="detaching"in e,this._unbinding="unbinding"in e,this._dispose="dispose"in e,this._accept="accept"in e}}ui.none=new ui({});const nb={mode:"open"},ot="customElement",Bs="customAttribute",Re="synthetic",io=0,St=1,Ms=2,un=4,di=8,fi=16,os=32;function rb(i){const e=[];return(i&St)===St&&e.push("activating"),(i&Ms)===Ms&&e.push("activated"),(i&un)===un&&e.push("deactivating"),(i&di)===di&&e.push("deactivated"),(i&fi)===fi&&e.push("released"),(i&os)===os&&e.push("disposed"),e.length===0?"none":e.join("|")}const Pr=oe("IController"),vs=oe("IHydrationContext");class Zu{constructor(e,t,s){this.instruction=t,this.parent=s,this.controller=e}}function ob(i){i.dispose()}function sc(i){i.instance.created(this._vm,this)}function ab(i){i.instance.hydrating(this._vm,this)}function lb(i){i.instance.hydrated(this._vm,this)}function cb(i){return i.instance.binding(this._vm,this.$initiator,this.parent)}function hb(i){return i.instance.bound(this._vm,this.$initiator,this.parent)}function ub(i){return i.instance.attaching(this._vm,this.$initiator,this.parent)}function db(i){return i.instance.attached(this._vm,this.$initiator)}function fb(i){return i.instance.detaching(this._vm,this.$initiator,this.parent)}function pb(i){return i.instance.unbinding(this._vm,this.$initiator,this.parent)}let no,ro,Es;const it=It.set,gb=oe("IEventTarget",i=>i.cachedCallback(e=>e.has(ur,!0)?e.get(ur).host:e.get(qe).document)),je=oe("IRenderLocation"),ar=oe("ICssClassMapping"),lr=new WeakMap;function cr(i){if(lr.has(i))return lr.get(i);let e=0,t=i.nextSibling;for(;t!==null;){if(t.nodeType===8)switch(t.textContent){case"au-start":++e;break;case"au-end":if(e--===0)return t}t=t.nextSibling}if(i.parentNode===null&&i.nodeType===11){const s=vi(i,{optional:!0});if(s==null)return null;if(s.mountTarget===tb.shadowRoot)return cr(s.host)}return i.parentNode}function mb(i,e){if(i.platform!==void 0&&!(i instanceof i.platform.Node)){const t=i.childNodes;for(let s=0,n=t.length;s<n;++s)lr.set(t[s],e)}else lr.set(i,e)}function _n(i){if(Ju(i))return i;const e=i.ownerDocument.createComment("au-end"),t=e.$start=i.ownerDocument.createComment("au-start"),s=i.parentNode;return s!==null&&(s.replaceChild(e,i),s.insertBefore(t,e)),e}function Ju(i){return i.textContent==="au-end"}class oo{get firstChild(){return this._firstChild}get lastChild(){return this._lastChild}constructor(e,t){this.platform=e,this.next=void 0,this._isMounted=!1,this._isLinked=!1,this.ref=null;const s=(this.f=t).querySelectorAll("au-m");let n=0,r=s.length,o=this.t=Array(r),a,c;for(;r>n;)c=s[n],a=c.nextSibling,c.remove(),a.nodeType===8&&(c=a,(a=a.nextSibling).$start=c),o[n]=a,++n;const l=t.childNodes,h=this.childNodes=Array(r=l.length);for(n=0;r>n;)h[n]=l[n],++n;this._firstChild=t.firstChild,this._lastChild=t.lastChild}findTargets(){return this.t}insertBefore(e){if(this._isLinked&&this.ref)this.addToLinked();else{const t=e.parentNode;if(this._isMounted){let s=this._firstChild,n;const r=this._lastChild;for(;s!=null&&(n=s.nextSibling,t.insertBefore(s,e),s!==r);)s=n}else this._isMounted=!0,e.parentNode.insertBefore(this.f,e)}}appendTo(e,t=!1){if(this._isMounted){let s=this._firstChild,n;const r=this._lastChild;for(;s!=null&&(n=s.nextSibling,e.appendChild(s),s!==r);)s=n}else this._isMounted=!0,t||e.appendChild(this.f)}remove(){if(this._isMounted){this._isMounted=!1;const e=this.f,t=this._lastChild;let s,n=this._firstChild;for(;n!==null&&(s=n.nextSibling,e.appendChild(n),n!==t);)n=s}}addToLinked(){const e=this.ref,t=e.parentNode;if(this._isMounted){let s=this._firstChild,n;const r=this._lastChild;for(;s!=null&&(n=s.nextSibling,t.insertBefore(s,e),s!==r);)s=n}else this._isMounted=!0,t.insertBefore(this.f,e)}unlink(){this._isLinked=!1,this.next=void 0,this.ref=void 0}link(e){this._isLinked=!0,Ju(e)?this.ref=e:(this.next=e,this._obtainRefNode())}_obtainRefNode(){this.next!==void 0?this.ref=this.next.firstChild:this.ref=void 0}}const Lr=(i,e,t=i.get(qe))=>(le(i,t.HTMLElement,le(i,t.Element,le(i,Sr,new Ce("ElementResolver",e)))),i);function Da(i){return function(e,t){return t.addInitializer(function(){Xu(i,this)}),e}}const ao=new WeakMap;class Ue{get type(){return iv}constructor(e,t,s,n,r,o,a,c,l,h,u,d,p,m,f,g,w,$,B){this.Type=e,this.name=t,this.aliases=s,this.key=n,this.capture=r,this.template=o,this.instructions=a,this.dependencies=c,this.injectable=l,this.needsCompile=h,this.surrogates=u,this.bindables=d,this.containerless=p,this.shadowOptions=m,this.hasSlots=f,this.enhance=g,this.watches=w,this.strict=$,this.processContent=B}static create(e,t=null){if(t===null){const n=e;if(G(n))throw E(761,e);const r=Ct("name",n,hr);ee(n.Type)?t=n.Type:t=ed(Pc(r));for(const o of Object.values(Je.from(n.bindables)))Je._add(o,t);return new Ue(t,r,ye(n.aliases),Ct("key",n,()=>oi(r)),Ge("capture",n,t,rt),Ge("template",n,t,nt),ye(n.instructions),ye(Ze(t,"dependencies"),n.dependencies),Ct("injectable",n,nt),Ct("needsCompile",n,co),ye(n.surrogates),Je.from(Ze(t,"bindables"),n.bindables),Ge("containerless",n,t,rt),Ct("shadowOptions",n,nt),Ct("hasSlots",n,rt),Ct("enhance",n,rt),Ct("watches",n,bb),Ct("strict",n,lo),ft("processContent",t,nt))}if(G(e))return new Ue(t,e,ye(Ze(t,"aliases"),t.aliases),oi(e),ft("capture",t,rt),ft("template",t,nt),ye(Ze(t,"instructions"),t.instructions),ye(Ze(t,"dependencies"),t.dependencies),ft("injectable",t,nt),ft("needsCompile",t,co),ye(Ze(t,"surrogates"),t.surrogates),Je.from(...Je.getAll(t),Ze(t,"bindables"),t.bindables),ft("containerless",t,rt),ft("shadowOptions",t,nt),ft("hasSlots",t,rt),ft("enhance",t,rt),ye(Do.getDefinitions(t),t.watches),ft("strict",t,lo),ft("processContent",t,nt));const s=Ct("name",e,hr);for(const n of Object.values(Je.from(e.bindables)))Je._add(n,t);return new Ue(t,s,ye(Ze(t,"aliases"),e.aliases,t.aliases),oi(s),Ge("capture",e,t,rt),Ge("template",e,t,nt),ye(Ze(t,"instructions"),e.instructions,t.instructions),ye(Ze(t,"dependencies"),e.dependencies,t.dependencies),Ge("injectable",e,t,nt),Ge("needsCompile",e,t,co),ye(Ze(t,"surrogates"),e.surrogates,t.surrogates),Je.from(...Je.getAll(t),Ze(t,"bindables"),t.bindables,e.bindables),Ge("containerless",e,t,rt),Ge("shadowOptions",e,t,nt),Ge("hasSlots",e,t,rt),Ge("enhance",e,t,rt),ye(e.watches,Do.getDefinitions(t),t.watches),Ge("strict",e,t,lo),Ge("processContent",e,t,nt))}static getOrCreate(e){if(e instanceof Ue)return e;if(ao.has(e))return ao.get(e);const t=Ue.create(e);return ao.set(e,t),_t(t,t.Type,Pe),t}register(e,t){const s=this.Type,n=typeof t=="string"?oi(t):this.key,r=this.aliases;if(e.has(n,!1)){console.warn(E(153,this.name));return}e.register(e.has(s,!1)?null:Vt(s,s),gs(s,n),...r.map(o=>gs(s,oi(o))))}toString(){return`au:ce:${this.name}`}}const vb={name:void 0,searchParents:!1,optional:!1},nt=()=>null,lo=()=>{},rt=()=>!1,co=()=>!0,bb=()=>W,Ks="custom-element",Pe=Gs(Ks),oi=i=>`${Pe}:${i}`,hr=(i=>()=>`unnamed-${++i}`)(0),_b=(i,e,t)=>{_t(t,i,ts(e))},Xu=(i,e)=>{const t=Ue.create(i,e),s=t.Type;return _t(t,s,Pe,xt),s},wb=i=>ee(i)&&(kr(Pe,i)||i.$au?.type===Ks),vi=(i,e=vb)=>{if(e.name===void 0&&e.searchParents!==!0){const s=It.get(i,Pe);if(s===null){if(e.optional===!0)return null;throw E(762,i)}return s}if(e.name!==void 0){if(e.searchParents!==!0){const r=It.get(i,Pe);if(r===null)throw E(763,i);return r.is(e.name)?r:void 0}let s=i,n=!1;for(;s!==null;){const r=It.get(s,Pe);if(r!==null&&(n=!0,r.is(e.name)))return r;s=cr(s)}if(n)return;throw E(764,i)}let t=i;for(;t!==null;){const s=It.get(t,Pe);if(s!==null)return s;t=cr(t)}throw E(765,i)},Ze=(i,e)=>Me(ts(e),i),Yu=i=>{const e=Me(Pe,i)??ms(i,Ks,Ue.create);if(e==null)throw E(760,i);return e},yb=()=>{const i={$isInterface:!1,register(){return{$isResolver:!0,resolve(e,t){return t.has(i,!0)?t.get(i):null}}}};return i},ed=(function(){const i={value:"",writable:!1,enumerable:!1,configurable:!0},e={};return function(t,s=e){const n=class{};return i.value=t,gu(n,"name",i),s!==e&&fu(n.prototype,s),n}})(),gt=ss({name:Pe,keyFrom:oi,isType:wb,for:vi,define:Xu,getDefinition:Yu,annotate:_b,getAnnotation:Ze,generateName:hr,createInjectable:yb,generateType:ed,find(i,e){const t=i.find(Ks,e);return t==null?null:Me(Pe,t)??ms(t,Ks,Ue.create)??null}}),ur=oe("IAppRoot");class ic{get controller(){return this._controller}constructor(e,t,s,n=!1){this.config=e,this.container=t,this._hydratePromise=void 0,this._useOwnAppTasks=n;const r=this.host=e.host;s.prepare(this),le(t,gb,new Ce("IEventTarget",r)),Lr(t,r,this.platform=this._createPlatform(t,r)),this._hydratePromise=z(this._runAppTasks("creating"),()=>{e.allowActionlessForm||r.addEventListener("submit",d=>{const p=d.target,m=!p.getAttribute("action");p.tagName==="FORM"&&m&&d.preventDefault()},!1);const o=n?t:t.createChild(),a=e.component;let c;ee(a)?c=o.invoke(a):c=e.component;const l={hydrate:!1,projections:null},h=n?Ue.create({name:hr(),template:this.host,enhance:!0,strict:e.strictBinding}):void 0,u=this._controller=et.$el(o,c,r,l,h);return u._hydrateCustomElement(l),z(this._runAppTasks("hydrating"),()=>(u._hydrate(),z(this._runAppTasks("hydrated"),()=>{u._hydrateChildren(),this._hydratePromise=void 0})))})}activate(){return z(this._hydratePromise,()=>z(this._runAppTasks("activating"),()=>z(this._controller.activate(this._controller,null,void 0),()=>this._runAppTasks("activated"))))}deactivate(){return z(this._runAppTasks("deactivating"),()=>z(this._controller.deactivate(this._controller,null),()=>this._runAppTasks("deactivated")))}_runAppTasks(e){const t=this.container,s=this._useOwnAppTasks&&!t.has(Ql,!1)?[]:t.getAll(Ql);return $e(...s.reduce((n,r)=>(r.slot===e&&n.push(r.run()),n),[]))}_createPlatform(e,t){let s;if(e.has(qe,!1))s=e.get(qe);else{if(t.ownerDocument.defaultView===null)throw E(769);s=new cs(t.ownerDocument.defaultView),e.register(_u(qe,s))}return s}dispose(){this._controller?.dispose()}}const nc=oe("IAurelia");let kb=class jo{get isRunning(){return this._isRunning}get isStarting(){return this._isStarting}get isStopping(){return this._isStopping}get root(){if(this._root==null){if(this.next==null)throw E(767);return this.next}return this._root}constructor(e=_s.createContainer()){if(this.container=e,this._isRunning=!1,this._isStarting=!1,this._isStopping=!1,this._root=void 0,this.next=void 0,this._startPromise=void 0,this._stopPromise=void 0,e.has(nc,!0)||e.has(jo,!0))throw E(768);le(e,nc,new Ce("IAurelia",this)),le(e,jo,new Ce("Aurelia",this)),le(e,ur,this._rootProvider=new Ce("IAppRoot"))}register(...e){return this.container.register(...e),this}app(e){return this.next=new ic(e,this.container,this._rootProvider),this}enhance(e){const t=e.container??this.container.createChild(),s=le(t,ur,new Ce("IAppRoot")),n=new ic({host:e.host,component:e.component},t,s,!0);return z(n.activate(),()=>n)}async waitForIdle(){const e=this.root.platform;await e.domQueue.yield(),await e.taskQueue.yield()}start(e=this.next){if(e==null)throw E(770);return ke(this._startPromise)?this._startPromise:this._startPromise=z(this.stop(),()=>(It.hideProp||Reflect.set(e.host,"$aurelia",this),this._rootProvider.prepare(this._root=e),this._isStarting=!0,z(e.activate(),()=>{this._isRunning=!0,this._isStarting=!1,this._startPromise=void 0,this._dispatchEvent(e,"au-started",e.host)})))}stop(e=!1){if(ke(this._stopPromise))return this._stopPromise;if(this._isRunning===!0){const t=this._root;return this._isRunning=!1,this._isStopping=!0,this._stopPromise=z(t.deactivate(),()=>z(Vg(),()=>{Reflect.deleteProperty(t.host,"$aurelia"),e&&t.dispose(),this._root=void 0,this._rootProvider.dispose(),this._isStopping=!1,this._stopPromise=void 0,this._dispatchEvent(t,"au-stopped",t.host)}))}}dispose(){if(this._isRunning||this._isStopping)throw E(771);this.container.dispose()}_dispatchEvent(e,t,s){const n=new e.platform.window.CustomEvent(t,{detail:this,bubbles:!0,cancelable:!0});s.dispatchEvent(n)}};const td=oe("ISVGAnalyzer",i=>i.singleton(Cb));class Cb{isStandardSvgAttribute(e,t){return!1}}class sd{constructor(){this.fns=[],this._tagAttrMap=se(),this._globalAttrMap=se(),this.svg=I(td),this.useMapping({LABEL:{for:"htmlFor"},IMG:{usemap:"useMap"},INPUT:{maxlength:"maxLength",minlength:"minLength",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",inputmode:"inputMode"},TEXTAREA:{maxlength:"maxLength"},TD:{rowspan:"rowSpan",colspan:"colSpan"},TH:{rowspan:"rowSpan",colspan:"colSpan"}}),this.useGlobalMapping({accesskey:"accessKey",contenteditable:"contentEditable",tabindex:"tabIndex",textcontent:"textContent",innerhtml:"innerHTML",scrolltop:"scrollTop",scrollleft:"scrollLeft",readonly:"readOnly"})}useMapping(e){let t,s,n,r;for(n in e){t=e[n],s=this._tagAttrMap[n]??=se();for(r in t){if(s[r]!==void 0)throw rc(r,n);s[r]=t[r]}}}useGlobalMapping(e){const t=this._globalAttrMap;for(const s in e){if(t[s]!==void 0)throw rc(s,"*");t[s]=e[s]}}useTwoWay(e){this.fns.push(e)}isTwoWay(e,t){return Ab(e,t)||this.fns.length>0&&this.fns.some(s=>s(e,t))}map(e,t){return this._tagAttrMap[e.nodeName]?.[t]??this._globalAttrMap[t]??(Oo(e,t,this.svg)?t:null)}}sd.register=An(hh);function Ab(i,e){switch(i.nodeName){case"INPUT":switch(i.type){case"checkbox":case"radio":return e==="checked";default:return e==="value"||e==="files"||e==="value-as-number"||e==="value-as-date"}case"TEXTAREA":case"SELECT":return e==="value";default:switch(e){case"textcontent":case"innerhtml":return i.hasAttribute("contenteditable");case"scrolltop":case"scrollleft":return!0;default:return!1}}}function rc(i,e){return E(719,i,e)}const Sb={register(i){i.register(Gh,sd,id)}};class $b{constructor(e,t,s){this.attrs=e,this.bindables=t,this.primary=s}}class id{constructor(){this._resourceCache=new WeakMap,this._bindableCache=new WeakMap}el(e,t){let s=this._resourceCache.get(e);return s==null&&this._resourceCache.set(e,s=new oc),t in s._element?s._element[t]:s._element[t]=gt.find(e,t)}attr(e,t){let s=this._resourceCache.get(e);return s==null&&this._resourceCache.set(e,s=new oc),t in s._attr?s._attr[t]:s._attr[t]=Ba.find(e,t)}bindables(e){let t=this._bindableCache.get(e);if(t==null){const s=e.bindables,n=se();let r,o,a=!1,c,l;for(o in s){if(r=s[o],l=r.attribute,r.primary===!0){if(a)throw E(714,e);a=!0,c=r}else!a&&c==null&&(c=r);n[l]=Kt.create(o,r)}r==null&&e.type==="custom-attribute"&&(c=n.value=Kt.create("value",{mode:e.defaultBindingMode??$a})),this._bindableCache.set(e,t=new $b(n,s,c??null))}return t}}id.register=An(Zh);class oc{constructor(){this._element=se(),this._attr=se()}}const xb=se();class wn{static forNs(e){return xb[e]??=new wn(e)}constructor(e){this.ns=e,this.type=As|Ft}getValue(e,t){return e.getAttributeNS(this.ns,t)}setValue(e,t,s){e==null?t.removeAttributeNS(this.ns,s):t.setAttributeNS(this.ns,s,e)}}Tr(wn);class nd{constructor(){this.type=As|Ft}getValue(e,t){return e.getAttribute(t)}setValue(e,t,s){e==null?t.removeAttribute(s):t.setAttribute(s,e)}}Tr(nd);const Un=new nd;class Fs{static _getSelectedOptions(e){const t=[];if(e.length===0)return t;const s=e.length;let n=0,r;for(;s>n;)r=e[n],r.selected&&(t[t.length]=Ns.call(r,"model")?r.model:r.value),++n;return t}static _defaultMatcher(e,t){return e===t}constructor(e,t,s,n){this.type=As|Ia|Ft,this._value=void 0,this._oldValue=void 0,this._hasChanges=!1,this._arrayObserver=void 0,this._nodeObserver=void 0,this._observing=!1,this._listened=!1,this._el=e,this._observerLocator=n,this._config=s}getValue(){return this._observing?this._value:this._el.multiple?Fs._getSelectedOptions(this._el.options):this._el.value}setValue(e){this._oldValue=this._value,this._value=e,this._hasChanges=e!==this._oldValue,this._observeArray(e instanceof Array?e:null),this._flushChanges()}_flushChanges(){this._hasChanges&&(this._hasChanges=!1,this.syncOptions())}handleCollectionChange(){this.syncOptions()}syncOptions(){const e=this._value,t=this._el,s=we(e),n=t.matcher??Fs._defaultMatcher,r=t.options;let o=r.length;for(;o-- >0;){const a=r[o],c=Ns.call(a,"model")?a.model:a.value;if(s){a.selected=e.findIndex(l=>!!n(c,l))!==-1;continue}a.selected=!!n(c,e)}}syncValue(){const e=this._el,t=e.options,s=t.length,n=this._value;let r=0;if(e.multiple){if(!(n instanceof Array))return!0;let c;const l=e.matcher||Fs._defaultMatcher,h=[];for(;r<s;)c=t[r],c.selected&&h.push(Ns.call(c,"model")?c.model:c.value),++r;let u;for(r=0;r<n.length;)u=n[r],h.findIndex(d=>!!l(u,d))===-1?n.splice(r,1):++r;for(r=0;r<h.length;)u=h[r],n.findIndex(d=>!!l(u,d))===-1&&n.push(u),++r;return!1}let o=null,a;for(;r<s;){if(a=t[r],a.selected){o=Ns.call(a,"model")?a.model:a.value;break}++r}return this._oldValue=this._value,this._value=o,!0}_start(){(this._nodeObserver=Pu(this._el,this._handleNodeChange.bind(this))).observe(this._el,{childList:!0,subtree:!0,characterData:!0}),this._observeArray(this._value instanceof Array?this._value:null),this._observing=!0}_stop(){this._nodeObserver.disconnect(),this._arrayObserver?.unsubscribe(this),this._nodeObserver=this._arrayObserver=void 0,this._observing=!1}_observeArray(e){if(this._arrayObserver?.unsubscribe(this),this._arrayObserver=void 0,e!=null){if(!this._el.multiple)throw E(654);(this._arrayObserver=this._observerLocator.getArrayObserver(e)).subscribe(this)}}handleEvent(){this.syncValue()&&this._flush()}_handleNodeChange(e){this.syncOptions(),this.syncValue()&&this._flush()}_flush(){const e=this._oldValue;this._oldValue=this._value,this.subs.notify(this._value,e)}}Na(Fs),bt(Fs,null);const Ib="--";class rd{constructor(e){this.obj=e,this.type=As|Ft,this._value="",this._oldValue="",this.styles={},this.version=0,this._hasChanges=!1}getValue(){return this.obj.style.cssText}setValue(e){this._value=e,this._hasChanges=e!==this._oldValue,this._flushChanges()}_getStyleTuplesFromString(e){const t=[],s=/url\([^)]+$/;let n=0,r="",o,a,c,l;for(;n<e.length;){if(o=e.indexOf(";",n),o===-1&&(o=e.length),r+=e.substring(n,o),n=o+1,s.test(r)){r+=";";continue}a=r.indexOf(":"),c=r.substring(0,a).trim(),l=r.substring(a+1).trim(),t.push([c,l]),r=""}return t}_getStyleTuplesFromObject(e){let t,s;const n=[];for(s in e)if(t=e[s],t!=null){if(G(t)){if(s.startsWith(Ib)){n.push([s,t]);continue}n.push([Lc(s),t]);continue}n.push(...this._getStyleTuples(t))}return n}_getStyleTuplesFromArray(e){const t=e.length;if(t>0){const s=[];let n=0;for(;t>n;++n)s.push(...this._getStyleTuples(e[n]));return s}return W}_getStyleTuples(e){return G(e)?this._getStyleTuplesFromString(e):e instanceof Array?this._getStyleTuplesFromArray(e):e instanceof Object?this._getStyleTuplesFromObject(e):W}_flushChanges(){if(this._hasChanges){this._hasChanges=!1;const e=this._value,t=this.styles,s=this._getStyleTuples(e);let n,r=this.version;this._oldValue=e;let o,a,c,l=0;const h=s.length;for(;l<h;++l)o=s[l],a=o[0],c=o[1],this.setProperty(a,c),t[a]=r;if(this.styles=t,this.version+=1,r===0)return;r-=1;for(n in t)!Ns.call(t,n)||t[n]!==r||this.obj.style.removeProperty(n)}}setProperty(e,t){let s="";t!=null&&ee(t.indexOf)&&t.includes("!important")&&(s="important",t=t.replace("!important","")),this.obj.style.setProperty(e,t,s)}bind(){this._value=this._oldValue=this.obj.style.cssText}}Tr(rd);class zo{constructor(e,t,s){this.type=As|Ia|Ft,this._value="",this._oldValue="",this._hasChanges=!1,this._listened=!1,this._el=e,this._key=t,this._config=s}getValue(){return this._value}setValue(e){Jt(e,this._value)||(this._oldValue=this._value,this._value=e,this._hasChanges=!0,this._config.readonly||this._flushChanges())}_flushChanges(){this._hasChanges&&(this._hasChanges=!1,this._el[this._key]=this._value??this._config.default,this._flush())}handleEvent(){this._oldValue=this._value,this._value=this._el[this._key],this._oldValue!==this._value&&(this._hasChanges=!1,this._flush())}_start(){this._value=this._oldValue=this._el[this._key]}_flush(){const e=this._oldValue;this._oldValue=this._value,this.subs.notify(this._value,e)}}Na(zo),bt(zo,null);const ac=(()=>{const i="http://www.w3.org/1999/xlink",e="http://www.w3.org/XML/1998/namespace",t="http://www.w3.org/2000/xmlns/";return fu(se(),{"xlink:actuate":["actuate",i],"xlink:arcrole":["arcrole",i],"xlink:href":["href",i],"xlink:role":["role",i],"xlink:show":["show",i],"xlink:title":["title",i],"xlink:type":["type",i],"xml:lang":["lang",e],"xml:space":["space",e],xmlns:["xmlns",t],"xmlns:xlink":["xlink",t]})})(),od=new ou;od.type=As|Ft;class Fa{constructor(){this.allowDirtyCheck=!0,this._events=se(),this._globalEvents=se(),this._overrides=se(),this._globalOverrides=se(),this._locator=I(bf),this._platform=I(qe),this._dirtyChecker=I(wa),this.svg=I(td);const e=["change","input"],t={events:e,default:""};this.useConfig({INPUT:{value:t,valueAsNumber:{events:e,default:0},checked:{type:Ho,events:e},files:{events:e,readonly:!0}},SELECT:{value:{type:Fs,events:["change"],default:""}},TEXTAREA:{value:t}});const s={events:["change","input","blur","keyup","paste"],default:""},n={events:["scroll"],default:0};this.useConfigGlobal({scrollTop:n,scrollLeft:n,textContent:s,innerHTML:s}),this.overrideAccessorGlobal("css","style","class"),this.overrideAccessor({INPUT:["value","checked","model"],SELECT:["value"],TEXTAREA:["value"]})}handles(e,t){return e instanceof this._platform.Node}useConfig(e,t,s){const n=this._events;let r;if(G(e))r=n[e]??=se(),r[t]==null?r[t]=s:On(e,t);else for(const o in e){r=n[o]??=se();const a=e[o];for(t in a)r[t]==null?r[t]=a[t]:On(o,t)}}useConfigGlobal(e,t){const s=this._globalEvents;if(typeof e=="object")for(const n in e)s[n]==null?s[n]=e[n]:On("*",n);else s[e]==null?s[e]=t:On("*",e)}getAccessor(e,t,s){if(t in this._globalOverrides||t in(this._overrides[e.tagName]??kf))return this.getObserver(e,t,s);switch(t){case"src":case"href":case"role":case"minLength":case"maxLength":case"placeholder":case"size":case"pattern":case"title":case"popovertarget":case"popovertargetaction":return(t==="popovertarget"||t==="popovertargetaction")&&e.nodeName!=="INPUT"&&e.nodeName!=="BUTTON"&&console.warn(`[aurelia] Popover API are only valid on <input> or <button>. Detected ${t} on <${e.nodeName.toLowerCase()}>`),Un;default:{const n=ac[t];return n!==void 0?wn.forNs(n[1]):Oo(e,t,this.svg)?Un:od}}}overrideAccessor(e,t){let s;if(G(e))s=this._overrides[e]??=se(),s[t]=!0;else for(const n in e)for(const r of e[n])s=this._overrides[n]??=se(),s[r]=!0}overrideAccessorGlobal(...e){for(const t of e)this._globalOverrides[t]=!0}getNodeObserverConfig(e,t){return this._events[e.tagName]?.[t]??this._globalEvents[t]}getNodeObserver(e,t,s){const n=this._events[e.tagName]?.[t]??this._globalEvents[t];let r;return n!=null?(r=new(n.type??zo)(e,t,n,s,this._locator),r.doNotCache||(au(e)[t]=r),r):null}getObserver(e,t,s){switch(t){case"class":return new Er(e);case"css":case"style":return new rd(e)}const n=this.getNodeObserver(e,t,s);if(n!=null)return n;const r=ac[t];if(r!==void 0)return wn.forNs(r[1]);if(Oo(e,t,this.svg))return Un;if(t in e.constructor.prototype){if(this.allowDirtyCheck)return this._dirtyChecker.createProperty(e,t);throw E(652,t)}else return new ya(e,t)}}Fa.register=An(ka);function Tb(i,e){if(i instanceof Array)return e.getArrayObserver(i);if(i instanceof Map)return e.getMapObserver(i);if(i instanceof Set)return e.getSetObserver(i)}function On(i,e){throw E(653,i,e)}function lc(i,e){return i===e}class Ho{constructor(e,t,s,n){this.type=As|Ia|Ft,this._value=void 0,this._oldValue=void 0,this._collectionObserver=void 0,this._valueObserver=void 0,this._listened=!1,this._el=e,this.oL=n,this._config=s}getValue(){return this._value}setValue(e){const t=this._value;e!==t&&(this._value=e,this._oldValue=t,this._observe(),this._synchronizeElement(),this._flush())}handleCollectionChange(){this._synchronizeElement()}handleChange(e,t){this._synchronizeElement()}_synchronizeElement(){const e=this._value,t=this._el,s=Ns.call(t,"model")?t.model:t.value,n=t.type==="radio",r=t.matcher!==void 0?t.matcher:lc;if(n)t.checked=!!r(e,s);else if(e===!0)t.checked=!0;else{let o=!1;if(we(e))o=e.findIndex(a=>!!r(a,s))!==-1;else if(e instanceof Set){for(const a of e)if(r(a,s)){o=!0;break}}else if(e instanceof Map)for(const a of e){const c=a[0],l=a[1];if(r(c,s)&&l===!0){o=!0;break}}t.checked=o}}handleEvent(){let e=this._oldValue=this._value;const t=this._el,s=Ns.call(t,"model")?t.model:t.value,n=t.checked,r=t.matcher!==void 0?t.matcher:lc;if(t.type==="checkbox"){if(we(e)){const o=e.findIndex(a=>!!r(a,s));n&&o===-1?e.push(s):!n&&o!==-1&&e.splice(o,1);return}else if(e instanceof Set){const o={};let a=o;for(const c of e)if(r(c,s)===!0){a=c;break}n&&a===o?e.add(s):!n&&a!==o&&e.delete(a);return}else if(e instanceof Map){let o;for(const a of e){const c=a[0];if(r(c,s)===!0){o=c;break}}e.set(o,n);return}e=n}else if(n)e=s;else return;this._value=e,this._flush()}_start(){this._observe()}_stop(){this._value=this._oldValue=void 0,this._collectionObserver?.unsubscribe(this),this._valueObserver?.unsubscribe(this),this._collectionObserver=this._valueObserver=void 0}_flush(){ho=this._oldValue,this._oldValue=this._value,this.subs.notify(this._value,ho),ho=void 0}_observe(){const e=this._el;(this._valueObserver??=e.$observers?.model??e.$observers?.value)?.subscribe(this),this._collectionObserver?.unsubscribe(this),this._collectionObserver=void 0,e.type==="checkbox"&&(this._collectionObserver=Tb(this._value,this.oL))?.subscribe(this)}}Na(Ho),bt(Ho,null);let ho;class ad{bind(e,t){if(!(t instanceof Fe))throw E(9994,t);t.useTargetObserver(Un)}}ad.$au={type:ct,name:"attr"};class ld{bind(e,t){if(!("handleEvent"in t))throw E(801);t.self=!0}unbind(e,t){t.self=!1}}ld.$au={type:ct,name:"self"};class cd{constructor(){this._observerLocator=I(Li),this._nodeObserverLocator=I(ka)}bind(e,t,...s){if(!(this._nodeObserverLocator instanceof Fa))throw E(9993);if(s.length===0)throw E(802);if(!(t instanceof Fe)||!(t.mode&Yt))throw E(803);const n=this._nodeObserverLocator.getNodeObserverConfig(t.target,t.targetProperty);if(n==null)throw E(9992,t);const r=this._nodeObserverLocator.getNodeObserver(t.target,t.targetProperty,this._observerLocator);r.useConfig({readonly:n.readonly,default:n.default,events:s}),t.useTargetObserver(r)}}cd.$au={type:ct,name:"updateTrigger"};class dr{constructor(){this.elseFactory=void 0,this.elseView=void 0,this.ifView=void 0,this.view=void 0,this.value=!1,this.cache=!0,this.pending=void 0,this._wantsDeactivate=!1,this._swapId=0,this._ifFactory=I(st),this._location=I(je)}attaching(e,t){return this._swap(this.value)}detaching(e,t){return this._wantsDeactivate=!0,z(this.pending,()=>{this._wantsDeactivate=!1,this.pending=void 0,this.view?.deactivate(e,this.$controller)})}valueChanged(e,t){if(this.$controller.isActive&&(e=!!e,t=!!t,e!==t))return this._swap(e)}_swap(e){const t=this.view,s=this.$controller,n=this._swapId++,r=()=>!this._wantsDeactivate&&this._swapId===n+1;let o;return z(this.pending,()=>this.pending=z(t?.deactivate(t,s),()=>{if(r()&&(e?o=this.view=this.ifView=this.cache&&this.ifView!=null?this.ifView:this._ifFactory.create():o=this.view=this.elseView=this.cache&&this.elseView!=null?this.elseView:this.elseFactory?.create(),o!=null))return o.setLocation(this._location),z(o.activate(o,s,s.scope),()=>{r()&&(this.pending=void 0)})}))}dispose(){this.ifView?.dispose(),this.elseView?.dispose(),this.ifView=this.elseView=this.view=void 0}accept(e){if(this.view?.accept(e)===!0)return!0}}dr.$au={type:Ne,name:"if",isTemplateController:!0,bindables:{value:!0,cache:{set:i=>i===""||!!i&&i!=="false"}}};class hd{constructor(){this._factory=I(st)}link(e,t,s,n){const r=e.children,o=r[r.length-1];if(o instanceof dr)o.elseFactory=this._factory;else if(o.viewModel instanceof dr)o.viewModel.elseFactory=this._factory;else throw E(810)}}hd.$au={type:"custom-attribute",name:"else",isTemplateController:!0};function Eb(i){i.dispose()}const Bb=["BindingBehavior","ValueConverter"];class ud{constructor(){this.views=[],this.key=null,this._oldViews=[],this._scopes=[],this._oldScopes=[],this._scopeMap=new Map,this._observer=void 0,this._observingInnerItems=!1,this._reevaluating=!1,this._innerItemsExpression=null,this._normalizedItems=void 0,this._hasDestructuredLocal=!1,this._location=I(je),this._parent=I(Pr),this._factory=I(st),this._resolver=I(Lb);const t=I(Bi).props[0].props[0];if(t!==void 0){const{to:s,value:n,command:r}=t;if(s==="key")if(r===null)this.key=n;else if(r==="bind")this.key=I(Ii).parse(n,Rt);else throw E(775,r);else throw E(776,s)}}binding(e,t){const s=this._parent.bindings,n=s.length;let r,o,a=0;for(;n>a;++a)if(r=s[a],r.target===this&&r.targetProperty==="items"){o=this.forOf=r.ast,this._forOfBinding=r;let l=o.iterable;for(;l!=null&&Bb.includes(l.$kind);)l=l.expression,this._observingInnerItems=!0;this._innerItemsExpression=l;break}this._refreshCollectionObserver();const c=o.declaration;(this._hasDestructuredLocal=c.$kind==="ArrayDestructuring"||c.$kind==="ObjectDestructuring")||(this.local=ce(c,this.$controller.scope,r,null))}attaching(e,t){return this._normalizeToArray(),this._createScopes(void 0),this._activateAllViews(e,this._normalizedItems??W)}detaching(e,t){return this._refreshCollectionObserver(),this._deactivateAllViews(e)}unbinding(e,t){this._scopeMap.clear()}itemsChanged(){this.$controller.isActive&&(this._refreshCollectionObserver(),this._normalizeToArray(),this._createScopes(void 0),this._applyIndexMap(void 0))}handleCollectionChange(e,t){const s=this.$controller;if(s.isActive){if(this._observingInnerItems){if(this._reevaluating)return;this._reevaluating=!0,this.items=ce(this.forOf.iterable,s.scope,this._forOfBinding,null),this._reevaluating=!1;return}this._normalizeToArray(),this._createScopes(this.key===null?t:void 0),this._applyIndexMap(t)}}_applyIndexMap(e){const t=this.views;this._oldViews=t.slice();const s=t.length,n=this.key,r=n!==null,o=this._oldScopes,a=this._scopes;if(r||e===void 0){const c=this.local,h=this._normalizedItems.length,d=this.forOf.declaration,p=this._forOfBinding,m=this._hasDestructuredLocal;e=Ws(h);let f=0;if(s===0)for(;f<h;++f)e[f]=-2;else if(h===0)for(f=0;f<s;++f)e.deletedIndices.push(f),e.deletedItems.push(qn(m,d,o[f],p,c));else if(r){const g=Array(s);for(f=0;f<s;++f)g[f]=gc(m,n,d,o[f],p,c);const w=Array(s);for(f=0;f<h;++f)w[f]=gc(m,n,d,a[f],p,c);for(f=0;f<h;++f)g.includes(w[f])?e[f]=g.indexOf(w[f]):e[f]=-2;for(f=0;f<s;++f)w.includes(g[f])||(e.deletedIndices.push(f),e.deletedItems.push(qn(m,d,o[f],p,c)))}else{for(f=0;f<h;++f)o.includes(a[f])?e[f]=o.indexOf(a[f]):e[f]=-2;for(f=0;f<s;++f)a.includes(o[f])||(e.deletedIndices.push(f),e.deletedItems.push(qn(m,d,o[f],p,c)))}}if(e.deletedIndices.length>0){const c=z(this._deactivateAndRemoveViewsByKey(e),()=>this._createAndActivateAndSortViewsByKey(e));ke(c)&&c.catch(Mo)}else this._createAndActivateAndSortViewsByKey(e)}_refreshCollectionObserver(){const e=this.$controller.scope;let t=this._innerItems,s=this._observingInnerItems,n;s&&(t=this._innerItems=ce(this._innerItemsExpression,e,this._forOfBinding,null)??null,s=this._observingInnerItems=!Jt(this.items,t));const r=this._observer;if(this.$controller.isActive){const o=s?t:this.items;n=this._observer=this._resolver.resolve(o).getObserver?.(o),r!==n&&(r?.unsubscribe(this),n?.subscribe(this))}else r?.unsubscribe(this),this._observer=void 0}_createScopes(e){const t=this._scopes;this._oldScopes=t.slice();const s=this._normalizedItems,n=s.length,r=this._scopes=Array(s.length),o=this._scopeMap,a=new Map,c=this.$controller.scope,l=this._forOfBinding,h=this.forOf,u=this.local,d=this._hasDestructuredLocal;if(e===void 0){const p=this.key;if(p!==null){const f=Array(n);if(typeof p=="string")for(let g=0;g<n;++g)f[g]=s[g][p];else for(let g=0;g<n;++g){const w=Uo(s[g],h,c,l,u,d);Wo(d,h.declaration,w,l,u,s[g]),f[g]=ce(p,w,l,null)}for(let g=0;g<n;++g)r[g]=mc(o,a,f[g],s[g],h,c,l,u,d)}else for(let f=0;f<n;++f)r[f]=mc(o,a,s[f],s[f],h,c,l,u,d)}else{const p=t.length;for(let m=0;m<n;++m){const f=e[m];f>=0&&f<p?r[m]=t[f]:r[m]=Uo(s[m],h,c,l,u,d),Wo(d,h.declaration,r[m],l,u,s[m])}}o.clear(),this._scopeMap=a}_normalizeToArray(){const e=this.items;if(we(e)){this._normalizedItems=e.slice(0);return}const t=[];this._resolver.resolve(e).iterate(e,(s,n)=>{t[n]=s}),this._normalizedItems=t}_activateAllViews(e,t){let s,n,r,o;const{$controller:a,_factory:c,_location:l,_scopes:h}=this,u=t.length,d=this.views=Array(u);for(let p=0;p<u;++p)r=d[p]=c.create().setLocation(l),r.nodes.unlink(),o=h[p],Nn(o.overrideContext,p,u),n=r.activate(e??r,a,o),ke(n)&&(s??=[]).push(n);if(s!==void 0)return s.length===1?s[0]:Promise.all(s)}_deactivateAllViews(e){let t,s,n,r=0;const{views:o,$controller:a}=this,c=o.length;for(;c>r;++r)n=o[r],n.release(),s=n.deactivate(e??n,a),ke(s)&&(t??(t=[])).push(s);if(t!==void 0)return t.length===1?t[0]:Promise.all(t)}_deactivateAndRemoveViewsByKey(e){let t,s,n;const{$controller:r,views:o}=this,a=e.deletedIndices.slice().sort(Nb),c=a.length;let l=0;for(;c>l;++l)n=o[a[l]],n.release(),s=n.deactivate(n,r),ke(s)&&(t??(t=[])).push(s);for(l=0;c>l;++l)o.splice(a[l]-l,1);if(t!==void 0)return t.length===1?t[0]:Promise.all(t)}_createAndActivateAndSortViewsByKey(e){let t,s,n,r=0;const{$controller:o,_factory:a,_location:c,views:l,_scopes:h,_oldViews:u}=this,d=e.length;for(;d>r;++r)e[r]===-2&&(n=a.create(),l.splice(r,0,n));if(l.length!==d)throw E(814,[l.length,d]);let p=0;for(r=0;r<e.length;++r)(p=e[r])!==-2&&(l[r]=u[p]);const m=Pb(e),f=m.length;let g,w=f-1;for(r=d-1;r>=0;--r)n=l[r],g=l[r+1],e[r]===-2?(n.nodes.link(g?.nodes??c),n.setLocation(c),Nn(h[r].overrideContext,r,d),s=n.activate(n,o,h[r]),ke(s)&&(t??(t=[])).push(s)):w<0||r!==m[w]?(n.nodes.link(g?.nodes??c),Nn(n.scope.overrideContext,r,d),n.nodes.insertBefore(n.location)):(Nn(n.scope.overrideContext,r,d),--w);if(t!==void 0)return t.length===1?t[0]:Promise.all(t)}dispose(){this.views.forEach(Eb),this.views=void 0}accept(e){const{views:t}=this;if(t!==void 0){for(let s=0,n=t.length;s<n;++s)if(t[s].accept(e)===!0)return!0}}}ud.$au={type:Ne,name:"repeat",isTemplateController:!0,bindables:["items"]};let fr=16,zt=new Int32Array(fr),Mn=new Int32Array(fr);function Pb(i){const e=i.length;e>fr&&(fr=e,zt=new Int32Array(e),Mn=new Int32Array(e));let t=0,s=0,n=0,r=0,o=0,a=0,c=0,l=0;for(;r<e;r++)if(s=i[r],s!==-2){if(o=zt[t],n=i[o],n!==-2&&n<s){Mn[r]=o,zt[++t]=r;continue}for(a=0,c=t;a<c;)l=a+c>>1,n=i[zt[l]],n!==-2&&n<s?a=l+1:c=l;n=i[zt[a]],(s<n||n===-2)&&(a>0&&(Mn[r]=zt[a-1]),zt[a]=r)}r=++t;const h=new Int32Array(r);for(s=zt[t-1];t-- >0;)h[t]=s,s=Mn[s];for(;r-- >0;)zt[r]=0;return h}class cc{get $odd(){return!this.$even}get $even(){return this.$index%2===0}get $first(){return this.$index===0}get $middle(){return!this.$first&&!this.$last}get $last(){return this.$index===this.$length-1}constructor(e=0,t=1){this.$index=e,this.$length=t}}const Nn=(i,e,t)=>{i.$index=e,i.$length=t},Lb=oe("IRepeatableHandlerResolver",i=>i.singleton(Rb));class Rb{constructor(){this._handlers=I(ta(Ob))}resolve(e){if(hc.handles(e))return hc;if(uc.handles(e))return uc;if(dc.handles(e))return dc;if(fc.handles(e))return fc;if(pc.handles(e))return pc;const t=this._handlers.find(s=>s.handles(e));return t!==void 0?t:Mb}}const Ob=oe("IRepeatableHandler"),hc={handles:we,getObserver:Ca,iterate(i,e){const t=i.length;let s=0;for(;s<t;++s)e(i[s],s,i)}},uc={handles:$i,getObserver:Ca,iterate(i,e){let t=0,s;for(s of i.keys())e(s,t++,i)}},dc={handles:hs,getObserver:Ca,iterate(i,e){let t=0,s;for(s of i.entries())e(s,t++,i)}},fc={handles:Jd,iterate(i,e){let t=0;for(;t<i;++t)e(t,t,i)}},pc={handles:i=>i==null,iterate(){}},Mb={handles(i){return!1},iterate(i,e){throw E(777,i)}},Wo=(i,e,t,s,n,r)=>{i?bn(e,t,s,null,r):t.bindingContext[n]=r},qn=(i,e,t,s,n)=>i?ce(e,t,s,null):t.bindingContext[n],gc=(i,e,t,s,n,r)=>typeof e=="string"?qn(i,t,s,n,r)[e]:ce(e,s,n,null),mc=(i,e,t,s,n,r,o,a,c)=>{let l=i.get(t);if(l===void 0?l=Uo(s,n,r,o,a,c):l instanceof Ae?i.delete(t):l.length===1?(l=l[0],i.delete(t)):l=l.shift(),e.has(t)){const h=e.get(t);h instanceof Ae?e.set(t,[h,l]):h.push(l)}else e.set(t,l);return Wo(c,n.declaration,l,o,a,s),l},Uo=(i,e,t,s,n,r)=>{if(r){const o=Ae.fromParent(t,new Ll,new cc);bn(e.declaration,o,s,null,i)}return Ae.fromParent(t,new Ll(n,i),new cc)},Nb=(i,e)=>i-e;class dd{constructor(){this.view=I(st).create().setLocation(I(je))}valueChanged(e,t){const s=this.$controller,n=this.view.bindings;let r,o=0,a=0;if(s.isActive&&n!=null)for(r=Ae.fromParent(s.scope,e===void 0?{}:e),a=n.length;a>o;++o)n[o].bind(r)}attaching(e,t){const{$controller:s,value:n}=this,r=Ae.fromParent(s.scope,n===void 0?{}:n);return this.view.activate(e,s,r)}detaching(e,t){return this.view.deactivate(e,this.$controller)}dispose(){this.view.dispose(),this.view=void 0}accept(e){if(this.view?.accept(e)===!0)return!0}}dd.$au={type:Ne,name:"with",isTemplateController:!0,bindables:["value"]};class Va{constructor(){this.cases=[],this.activeCases=[],this.promise=void 0,this._factory=I(st),this._location=I(je)}link(e,t,s,n){this.view=this._factory.create(this.$controller).setLocation(this._location)}attaching(e,t){const s=this.view,n=this.$controller;return this.queue(()=>s.activate(e,n,n.scope)),this.queue(()=>this.swap(e,this.value)),this.promise}detaching(e,t){return this.queue(()=>this.view.deactivate(e,this.$controller)),this.promise}dispose(){this.view?.dispose(),this.view=void 0}valueChanged(e,t){this.$controller.isActive&&this.queue(()=>this.swap(null,this.value))}caseChanged(e){this.queue(()=>this._handleCaseChange(e))}_handleCaseChange(e){const t=e.isMatch(this.value),s=this.activeCases,n=s.length;if(!t)return n>0&&s[0].id===e.id?this._clearActiveCases(null):void 0;if(n>0&&s[0].id<e.id)return;const r=[];let o=e.fallThrough;if(!o)r.push(e);else{const a=this.cases,c=a.indexOf(e);for(let l=c,h=a.length;l<h&&o;l++){const u=a[l];r.push(u),o=u.fallThrough}}return z(this._clearActiveCases(null,r),()=>(this.activeCases=r,this._activateCases(null)))}swap(e,t){const s=[];let n=!1;for(const o of this.cases)if((n||o.isMatch(t))&&(s.push(o),n=o.fallThrough),s.length>0&&!n)break;const r=this.defaultCase;return s.length===0&&r!==void 0&&s.push(r),z(this.activeCases.length>0?this._clearActiveCases(e,s):void 0,()=>{if(this.activeCases=s,s.length!==0)return this._activateCases(e)})}_activateCases(e){const t=this.$controller;if(!t.isActive)return;const s=this.activeCases,n=s.length;if(n===0)return;const r=t.scope;return n===1?s[0].activate(e,r):$e(...s.map(o=>o.activate(e,r)))}_clearActiveCases(e,t=[]){const s=this.activeCases,n=s.length;if(n!==0){if(n===1){const r=s[0];return t.includes(r)?void 0:(s.length=0,r.deactivate(e))}return z($e(...s.reduce((r,o)=>(t.includes(o)||r.push(o.deactivate(e)),r),[])),()=>{s.length=0})}}queue(e){const t=this.promise;let s;s=this.promise=z(z(t,e),()=>{this.promise===s&&(this.promise=void 0)})}accept(e){if(this.$controller.accept(e)===!0||this.activeCases.some(t=>t.accept(e)))return!0}}Va.$au={type:Ne,name:"switch",isTemplateController:!0,bindables:["value"]};let Db=0;const fd=["value",{name:"fallThrough",mode:yr,set(i){switch(i){case"true":return!0;case"false":return!1;default:return!!i}}}];class ja{constructor(){this.id=++Db,this.fallThrough=!1,this.view=void 0,this._factory=I(st),this._locator=I(Li),this._location=I(je),this._logger=I(js).scopeTo(`Case-#${this.id}`)}link(e,t,s,n){const o=e.parent?.viewModel;if(o instanceof Va)this.$switch=o,this.linkToSwitch(o);else throw E(815)}detaching(e,t){return this.deactivate(e)}isMatch(e){this._logger.debug("isMatch()");const t=this.value;return we(t)?(this._observer===void 0&&(this._observer=this._observeCollection(t)),t.includes(e)):t===e}valueChanged(e,t){we(e)?(this._observer?.unsubscribe(this),this._observer=this._observeCollection(e)):this._observer!==void 0&&this._observer.unsubscribe(this),this.$switch.caseChanged(this)}handleCollectionChange(){this.$switch.caseChanged(this)}activate(e,t){let s=this.view;if(s===void 0&&(s=this.view=this._factory.create().setLocation(this._location)),!s.isActive)return s.activate(e??s,this.$controller,t)}deactivate(e){const t=this.view;if(!(t===void 0||!t.isActive))return t.deactivate(e??t,this.$controller)}dispose(){this._observer?.unsubscribe(this),this.view?.dispose(),this.view=void 0}linkToSwitch(e){e.cases.push(this)}_observeCollection(e){const t=this._locator.getArrayObserver(e);return t.subscribe(this),t}accept(e){return this.$controller.accept(e)===!0?!0:this.view?.accept(e)}}Ta({name:"case",bindables:fd,isTemplateController:!0},ja);class pd extends ja{linkToSwitch(e){if(e.defaultCase!==void 0)throw E(816);e.defaultCase=this}}Ta({name:"default-case",bindables:fd,isTemplateController:!0},pd);var gd,md,vd;class za{constructor(){this.preSettledTask=null,this.postSettledTask=null,this._factory=I(st),this._location=I(je),this._platform=I(qe),this.logger=I(js).scopeTo("promise.resolve")}link(e,t,s,n){this.view=this._factory.create(this.$controller).setLocation(this._location)}attaching(e,t){const s=this.view,n=this.$controller;return z(s.activate(e,n,this.viewScope=Ae.fromParent(n.scope,{})),()=>this.swap(e))}valueChanged(e,t){this.$controller.isActive&&this.swap(null)}swap(e){const t=this.value;if(!ke(t)){this.logger.warn(`The value '${qs(t)}' is not a promise. No change will be done.`);return}const s=this.fulfilled,n=this.rejected,r=this.pending,o=this.viewScope;let a;const c=()=>{$e(a=(this.preSettledTask=rn(()=>$e(s?.deactivate(e),n?.deactivate(e),r?.activate(e,o)))).result.catch(l=>{throw l}),t.then(l=>{if(this.value!==t)return;const h=()=>{this.postSettlePromise=(this.postSettledTask=rn(()=>$e(r?.deactivate(e),n?.deactivate(e),s?.activate(e,o,l)))).result};this.preSettledTask.status===Yr?a.then(h):(this.preSettledTask.cancel(),h())},l=>{if(this.value!==t)return;const h=()=>{this.postSettlePromise=(this.postSettledTask=rn(()=>$e(r?.deactivate(e),s?.deactivate(e),n?.activate(e,o,l)))).result};this.preSettledTask.status===Yr?a.then(h):(this.preSettledTask.cancel(),h())}))};this.postSettledTask?.status===Yr?this.postSettlePromise.then(c):(this.postSettledTask?.cancel(),c())}detaching(e,t){return this.preSettledTask?.cancel(),this.postSettledTask?.cancel(),this.preSettledTask=this.postSettledTask=null,this.view.deactivate(e,this.$controller)}dispose(){this.view?.dispose(),this.view=void 0}}za.$au={type:Ne,name:"promise",isTemplateController:!0,bindables:["value"]};class bd{constructor(){this.view=void 0,this._factory=I(st),this._location=I(je)}link(e,t,s,n){Ha(e).pending=this}activate(e,t){let s=this.view;if(s===void 0&&(s=this.view=this._factory.create().setLocation(this._location)),!s.isActive)return s.activate(s,this.$controller,t)}deactivate(e){const t=this.view;if(!(t===void 0||!t.isActive))return t.deactivate(t,this.$controller)}detaching(e){return this.deactivate(e)}dispose(){this.view?.dispose(),this.view=void 0}}bd.$au={type:Ne,name:"pending",isTemplateController:!0,bindables:{value:{mode:me}}};class _d{constructor(){this.view=void 0,this._factory=I(st),this._location=I(je)}link(e,t,s,n){Ha(e).fulfilled=this}activate(e,t,s){this.value=s;let n=this.view;if(n===void 0&&(n=this.view=this._factory.create().setLocation(this._location)),!n.isActive)return n.activate(n,this.$controller,t)}deactivate(e){const t=this.view;if(!(t===void 0||!t.isActive))return t.deactivate(t,this.$controller)}detaching(e,t){return this.deactivate(e)}dispose(){this.view?.dispose(),this.view=void 0}}_d.$au={type:Ne,name:"then",isTemplateController:!0,bindables:{value:{mode:Yt}}};class wd{constructor(){this.view=void 0,this._factory=I(st),this._location=I(je)}link(e,t,s,n){Ha(e).rejected=this}activate(e,t,s){this.value=s;let n=this.view;if(n===void 0&&(n=this.view=this._factory.create().setLocation(this._location)),!n.isActive)return n.activate(n,this.$controller,t)}deactivate(e){const t=this.view;if(!(t===void 0||!t.isActive))return t.deactivate(t,this.$controller)}detaching(e,t){return this.deactivate(e)}dispose(){this.view?.dispose(),this.view=void 0}}wd.$au={type:Ne,name:"catch",isTemplateController:!0,bindables:{value:{mode:Yt}}};function Ha(i){const t=i.parent?.viewModel;if(t instanceof za)return t;throw E(813)}class qo{"promise.resolve"(e,t){return new tt(e,t,"promise","bind")}}gd=Symbol.metadata;qo[gd]={[Mt]:ws.create([{pattern:"promise.resolve",symbols:""}],qo)};class Qo{then(e,t){return new tt(e,t,"then","from-view")}}md=Symbol.metadata;Qo[md]={[Mt]:ws.create([{pattern:"then",symbols:""}],Qo)};class Ko{catch(e,t){return new tt(e,t,"catch","from-view")}}vd=Symbol.metadata;Ko[vd]={[Mt]:ws.create([{pattern:"catch",symbols:""}],Ko)};class yd{constructor(){this._needsApply=!1,this._element=I(Sr),this._platform=I(qe)}binding(){this.valueChanged()}valueChanged(){this.$controller.isActive?this._apply():this._needsApply=!0}attached(){this._needsApply&&(this._needsApply=!1,this._apply()),this._element.addEventListener("focus",this),this._element.addEventListener("blur",this)}detaching(){const e=this._element;e.removeEventListener("focus",this),e.removeEventListener("blur",this)}handleEvent(e){e.type==="focus"?this.value=!0:this._isElFocused||(this.value=!1)}_apply(){const e=this._element,t=this._isElFocused,s=this.value;s&&!t?e.focus():!s&&t&&e.blur()}get _isElFocused(){return this._element===this._platform.document.activeElement}}yd.$au={type:Ne,name:"focus",bindables:{value:{mode:uu}}};class kd{constructor(){this.position="beforeend",this.strict=!1;const e=I(st),t=I(je),s=I(qe);this._platform=s,this._resolvedTarget=s.document.createElement("div"),(this.view=e.create()).setLocation(this._targetLocation=wv(s)),mb(this.view.nodes,t)}attaching(e){this.callbackContext==null&&(this.callbackContext=this.$controller.scope.bindingContext);const t=this._resolvedTarget=this._getTarget();return this._moveLocation(t,this.position),this._activating(e,t)}detaching(e){return this._deactivating(e,this._resolvedTarget)}targetChanged(){const{$controller:e}=this;if(!e.isActive)return;const t=this._getTarget();if(this._resolvedTarget===t)return;this._resolvedTarget=t;const s=z(this._deactivating(null,t),()=>(this._moveLocation(t,this.position),this._activating(null,t)));ke(s)&&s.catch(Mo)}positionChanged(){const{$controller:e,_resolvedTarget:t}=this;if(!e.isActive)return;const s=z(this._deactivating(null,t),()=>(this._moveLocation(t,this.position),this._activating(null,t)));ke(s)&&s.catch(Mo)}_activating(e,t){const{activating:s,callbackContext:n,view:r}=this;return z(s?.call(n,t,r),()=>this._activate(e,t))}_activate(e,t){const{$controller:s,view:n}=this;if(e===null)n.nodes.insertBefore(this._targetLocation);else return z(n.activate(e??n,s,s.scope),()=>this._activated(t));return this._activated(t)}_activated(e){const{activated:t,callbackContext:s,view:n}=this;return t?.call(s,e,n)}_deactivating(e,t){const{deactivating:s,callbackContext:n,view:r}=this;return z(s?.call(n,t,r),()=>this._deactivate(e,t))}_deactivate(e,t){const{$controller:s,view:n}=this;if(e===null)n.nodes.remove();else return z(n.deactivate(e,s),()=>this._deactivated(t));return this._deactivated(t)}_deactivated(e){const{deactivated:t,callbackContext:s,view:n}=this;return z(t?.call(s,e,n),()=>this._removeLocation())}_getTarget(){const e=this._platform,t=e.document;let s=this.target,n=this.renderContext;if(s===""){if(this.strict)throw E(811);return t.body}if(G(s)){let r=t;G(n)&&(n=t.querySelector(n)),n instanceof e.Node&&(r=n),s=r.querySelector(s)}if(s instanceof e.Node)return s;if(s==null){if(this.strict)throw E(812);return t.body}return s}_removeLocation(){this._targetLocation.remove(),this._targetLocation.$start.remove()}_moveLocation(e,t){const s=this._targetLocation,n=s.$start,r=e.parentNode,o=[n,s];switch(t){case"beforeend":Rn(e,null,o);break;case"afterbegin":Rn(e,e.firstChild,o);break;case"beforebegin":Rn(r,e,o);break;case"afterend":Rn(r,e.nextSibling,o);break;default:throw E(779,t)}}dispose(){this.view.dispose(),this.view=void 0,this.callbackContext=null}accept(e){if(this.view?.accept(e)===!0)return!0}}kd.$au={type:Ne,name:"portal",isTemplateController:!0,bindables:[{name:"target",primary:!0},"position","activated","activating","callbackContext",{name:"renderContext",callback:"targetChanged"},"strict","deactivated","deactivating"]};let Fb;class Rr{constructor(){this._parentScope=null,this._outerScope=null,this._attached=!1,this.expose=null,this.slotchange=null,this._subs=new Set,this._observer=null;const e=I(vs),t=I(je),s=I(Bi),n=I(Zs),r=this.name=s.data.name,o=s.projections?.[Lu],a=e.instruction?.projections?.[r],c=e.controller.container;let l,h;a==null?(h=c.createChild({inheritParentResources:!0}),l=n.getViewFactory(o??(Fb??=Ue.create({name:"au-slot-empty-template",template:"",needsCompile:!1})),h),this._hasProjection=!1):(h=c.createChild(),h.useResources(e.parent.controller.container),le(h,vs,new Ce(void 0,e.parent)),l=n.getViewFactory(a,h),this._hasProjection=!0,this._slotwatchers=c.getAll(Cv,!1)?.filter(u=>u.slotName==="*"||u.slotName===r)??W),this._hasSlotWatcher=(this._slotwatchers??=W).length>0,this._hdrContext=e,this.view=l.create().setLocation(this._location=t)}get nodes(){const e=[],t=this._location;let s=t.$start.nextSibling;for(;s!=null&&s!==t;)s.nodeType!==8&&e.push(s),s=s.nextSibling;return e}subscribe(e){this._subs.add(e)}unsubscribe(e){this._subs.delete(e)}binding(e,t){for(this._parentScope=t.scope;t.vmKind==="synthetic"&&t.parent?.viewModel instanceof Rr;)t=t.parent.parent;const s=t.scope.bindingContext;let n;this._hasProjection&&(n=this._hdrContext.controller.scope.parent,(this._outerScope=Ae.fromParent(n,n.bindingContext)).overrideContext.$host=this.expose??s)}attaching(e,t){return z(this.view.activate(e,this.$controller,this._hasProjection?this._outerScope:this._parentScope),()=>{(this._hasSlotWatcher||ee(this.slotchange))&&(this._slotwatchers.forEach(s=>s.watch(this)),this._observe(),this._notifySlotChange(),this._attached=!0)})}detaching(e,t){return this._attached=!1,this._unobserve(),this._slotwatchers.forEach(s=>s.unwatch(this)),this.view.deactivate(e,this.$controller)}exposeChanged(e){this._hasProjection&&this._outerScope!=null&&(this._outerScope.overrideContext.$host=e)}dispose(){this.view.dispose(),this.view=void 0}accept(e){if(this.view?.accept(e)===!0)return!0}_observe(){if(this._observer!=null)return;const e=this._location,t=e.parentElement;t!=null&&(this._observer=Pu(t,s=>{Vb(e,s)&&this._notifySlotChange()})).observe(t,{childList:!0})}_unobserve(){this._observer?.disconnect(),this._observer=null}_notifySlotChange(){const e=this.nodes,t=new Set(this._subs);let s;this._attached&&this.slotchange?.call(void 0,this.name,e);for(s of t)s.handleSlotChange(this,e)}}Rr.$au={type:Ks,name:"au-slot",template:null,containerless:!0,processContent(i,e,t){t.name=i.getAttribute("name")??Lu;let s=i.firstChild,n=null;for(;s!==null;)n=s.nextSibling,yv(s)&&s.hasAttribute(kv)&&(console.warn("[DEV:aurelia] detected [au-slot] attribute on a child node",`of an <au-slot> element: "<${s.nodeName} au-slot>".`,"This element will be ignored and removed"),i.removeChild(s)),s=n},bindables:["expose","slotchange"]};const Dn=(i,e)=>i.compareDocumentPosition(e),Vb=(i,e)=>{for(const{addedNodes:t,removedNodes:s,nextSibling:n}of e){let r=0,o=t.length,a;for(;r<o;++r)if(a=t[r],Dn(i.$start,a)===4&&Dn(i,a)===2)return!0;if(s.length>0&&n!=null&&Dn(i.$start,n)===4&&Dn(i,n)===2)return!0}};class Cd{constructor(){this.scopeBehavior="auto",this._composition=void 0,this.tag=null,this._container=I(Sn),this.parent=I(Pr),this._host=I(Sr),this._location=I(je),this._platform=I(qe),this._rendering=I(Zs),this._instruction=I(Bi),this._contextFactory=I(_f(zb)),this._compiler=I(mr),this._hydrationContext=I(vs),this._exprParser=I(Ii),this._observerLocator=I(Li),this._attached=!1}get composing(){return this._composing}get composition(){return this._composition}attaching(e,t){return this._attached=!0,this._composing=z(this.queue(new vc(this.template,this.component,this.model,void 0),e),s=>{this._contextFactory._isCurrent(s)&&(this._composing=void 0)})}detaching(e){this._attached=!1;const t=this._composition,s=this._composing;return this._contextFactory.invalidate(),this._composition=this._composing=void 0,z(s,()=>t?.deactivate(e))}propertyChanged(e){if(this._attached&&!(e==="composing"||e==="composition")){if(e==="model"&&this._composition!=null){this._composition.update(this.model);return}if(e==="tag"&&this._composition?.controller.vmKind===ot){console.warn("[DEV:aurelia] Changing tag name of a custom element composition is ignored.");return}this._composing=z(this._composing,()=>z(this.queue(new vc(this.template,this.component,this.model,e),void 0),t=>{this._contextFactory._isCurrent(t)&&(this._composing=void 0)}))}}queue(e,t){const s=this._contextFactory,n=this._composition;return z(s.create(e),r=>s._isCurrent(r)?z(this.compose(r),o=>s._isCurrent(r)?z(o.activate(t),()=>s._isCurrent(r)?(this._composition=o,z(n?.deactivate(t),()=>r)):z(o.controller.deactivate(o.controller,this.$controller),()=>(o.controller.dispose(),r))):(o.controller.dispose(),r)):r)}compose(e){const{_template:t,_component:s,_model:n}=e.change,{_container:r,$controller:o,_location:a,_instruction:c}=this,l=this._getDefinition(this._hydrationContext.controller.container,s),h=r.createChild(),u=this._platform.document.createElement(l==null?this.tag??"div":l.name);a.parentNode.insertBefore(u,a);let d;l==null?d=this.tag==null?_n(u):null:d=l.containerless?_n(u):null;const p=()=>{if(u.remove(),d!=null){let g=d.$start.nextSibling,w=null;for(;g!==null&&g!==d;)w=g.nextSibling,g.remove(),g=w;d.$start?.remove(),d.remove()}},m=this._createComponentInstance(h,typeof s=="string"?l.Type:s,u,d),f=()=>{const g=c.captures??W;if(l!==null){const w=l.capture,[$,B]=g.reduce((S,L)=>{const T=!(L.target in l.bindables)&&(w===!0||ee(w)&&!!w(L.target));return S[T?0:1].push(L),S},[[],[]]),C=et.$el(h,m,u,{projections:c.projections,captures:$},l,d);return this._createSpreadBindings(u,l,B).forEach(S=>C.addBinding(S)),new _c(C,S=>C.activate(S??C,o,o.scope.parent),S=>z(C.deactivate(S??C,o),p),S=>m.activate?.(S),e)}else{const w=Ue.create({name:gt.generateName(),template:t}),$=this._rendering.getViewFactory(w,h),B=et.$view($,o),C=this.scopeBehavior==="auto"?Ae.fromParent(this.parent.scope,m):Ae.create(m);return B.setHost(u),d==null?this._createSpreadBindings(u,w,g).forEach(S=>B.addBinding(S)):B.setLocation(d),new _c(B,S=>B.activate(S??B,o,C),S=>z(B.deactivate(S??B,o),p),S=>m.activate?.(S),e)}};return"activate"in m?z(m.activate(n),()=>f()):f()}_createComponentInstance(e,t,s,n){if(t==null)return new jb;if(typeof t=="object")return t;const r=this._platform;Lr(e,s,r),le(e,je,new Ce("IRenderLocation",n));const o=e.invoke(t);return le(e,t,new Ce("au-compose.component",o)),o}_getDefinition(e,t){if(typeof t=="string"){const n=gt.find(e,t);if(n==null)throw E(806,t);return n}const s=ee(t)?t:t?.constructor;return gt.isType(s,void 0)?gt.getDefinition(s,null):null}_createSpreadBindings(e,t,s){const n=new Zu(this.$controller,{projections:null,captures:s},this._hydrationContext.parent);return Ir.create(n,e,t,this._rendering,this._compiler,this._platform,this._exprParser,this._observerLocator)}}Cd.$au={type:Ks,name:"au-compose",capture:!0,containerless:!0,bindables:["template","component","model",{name:"scopeBehavior",set:i=>{if(i==="scoped"||i==="auto")return i;throw E(805,i)}},{name:"composing",mode:Yt},{name:"composition",mode:Yt},"tag"]};class jb{}class zb{constructor(){this.id=0}_isCurrent(e){return e.id===this.id}create(e){return z(e.load(),t=>new Hb(++this.id,t))}invalidate(){this.id++}}class vc{constructor(e,t,s,n){this._template=e,this._component=t,this._model=s,this._src=n}load(){return ke(this._template)||ke(this._component)?Promise.all([this._template,this._component]).then(([e,t])=>new bc(e,t,this._model,this._src)):new bc(this._template,this._component,this._model,this._src)}}class bc{constructor(e,t,s,n){this._template=e,this._component=t,this._model=s,this._src=n}}class Hb{constructor(e,t){this.id=e,this.change=t}}class _c{constructor(e,t,s,n,r){this.controller=e,this.start=t,this.stop=s,this.update=n,this.context=r,this.state=0}activate(e){if(this.state!==0)throw E(807,this);return this.state=1,this.start(e)}deactivate(e){switch(this.state){case 1:return this.state=-1,this.stop(e);case-1:throw E(808);default:this.state=-1}}}const Wb=oe("ISanitizer",i=>i.singleton(class{sanitize(){throw E(99,"sanitize")}}));class Ad{constructor(){this._sanitizer=I(Wb)}toView(e){return e==null?null:this._sanitizer.sanitize(e)}}Ad.$au={type:ci,name:"sanitize"};class Sd{constructor(){this.el=I(Sr),this.p=I(qe),this._isActive=!1,this._isQueued=!1,this.$val="",this.$prio="",this.update=()=>{this._isQueued=!1,!!this.value!==this._isToggled&&(this._isToggled===this._base?(this._isToggled=!this._base,this.$val=this.el.style.getPropertyValue("display"),this.$prio=this.el.style.getPropertyPriority("display"),this.el.style.setProperty("display","none","important")):(this._isToggled=this._base,this.el.style.setProperty("display",this.$val,this.$prio),this.el.getAttribute("style")===""&&this.el.removeAttribute("style")))};const e=I(Bi);this._isToggled=this._base=e.alias!=="hide"}binding(){this._isActive=!0,this.update()}detaching(){this._isActive=!1,this._isQueued=!1}valueChanged(){this._isActive&&!this._isQueued&&(this._isQueued=!0,Lt(this.update))}}Sd.$au={type:Ne,name:"show",bindables:["value"],aliases:["hide"]};const Ub=[Sb,Om,Fa],qb=[Ao,Co,So,_v],Qb=[Vh,Mh,Dh,Nh,Fh,jh,Qh,zh,Hh,qh,Uh,Wh,Kh],Kb=[Su,yu,ku,Cu,$u,xu,Au,Ad,dr,hd,ud,dd,Va,ja,pd,za,bd,_d,wd,qo,Qo,Ko,ad,ld,cd,Cd,kd,yd,Sd,Rr],Gb=[Pv,Lv,Ev,Bv,Sv,$v,xv,Iv,Tv,Mv,Hv,Nv,Dv,Fv,jv,Rv,Wv,Uv],Zb=$d(ht);function $d(i){return{optionsProvider:i,register(e){const t={coercingOptions:{enableCoercion:!1,coerceNullish:!1}};return i(t),e.register(_u(tu,t.coercingOptions),eh,...Ub,...Kb,...qb,...Qb,...Gb)},customize(e){return $d(e??i)}}}const Jb=cs.getOrCreate(globalThis);function Xb(){return _s.createContainer().register(Vs.instance(qe,Jb),Zb)}class dn extends kb{constructor(e=Xb()){super(e)}static app(e){return new dn().app(e)}static enhance(e){return new dn().enhance(e)}static register(...e){return new dn().register(...e)}app(e){if(gt.isType(e)){const t=gt.getDefinition(e);let s=document.querySelector(t.name);return s===null&&(s=document.body),super.app({host:s,component:e})}return super.app(e)}}const xd="resourcetype-list",Go=`<template>
  <label for="resourceType" class="form-label">Resource type</label>

  <select id="resourceType" value.bind="resource" matcher.bind="resourceMatcher" class="form-control" title="An abbreviation that represents the type of Azure resource or asset">
    <optgroup repeat.for="category of resources" label.bind="category.category" >
      <option repeat.for="resource of category.assets" model.bind="resource">
        \${resource.name}
      </option>
    </optgroup>
  </select>

</template>
`,Id=[],Td={};let uo;function Yb(i){uo||(uo=gt.define({name:xd,template:Go,dependencies:Id,bindables:Td})),i.register(uo)}const e_=Object.freeze(Object.defineProperty({__proto__:null,bindables:Td,default:Go,dependencies:Id,name:xd,register:Yb,template:Go},Symbol.toStringTag,{value:"Module"})),Ed=[{category:"General",assets:[{abbrev:"apim",name:"API management service instance",minLength:1,maxLength:50,description:"Alphanumerics and hyphens. Start with letter and end with alphanumeric.",regex:/^[a-zA-Z](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$/},{abbrev:"id",name:"Managed Identity",minLength:3,maxLength:128,description:"Alphanumerics, hyphens, and underscores. Start with letter or number.",regex:/^[a-zA-Z](?:[a-zA-Z0-9-_]*)?$/},{abbrev:"mg",name:"Management group"},{abbrev:"policy",name:"Policy definition",minLength:1,maxLength:64,description:"Resource name can't use: <>*%&:?.+/ or control characters. Can't end with period or space."},{abbrev:"rg",name:"Resource group",minLength:1,maxLength:90,regex:/^[-\w._()]+$/,description:"Alphanumerics, underscores, parentheses, hyphens, periods, and unicode characters that match the regex documentation. Can't end with period."}]},{category:"Networking",assets:[{abbrev:"agw",name:"Application gateway"},{abbrev:"asg",name:"Application security group (ASG)"},{abbrev:"bas",name:"Bastion"},{abbrev:"cdnp",name:"CDN profile"},{abbrev:"cdne",name:"CDN endpoint"},{abbrev:"con",name:"Connections"},{abbrev:"dnsz",name:"DNS"},{abbrev:"pdnsz",name:"DNS zone"},{abbrev:"afw",name:"Firewall"},{abbrev:"afwp",name:"Firewall policy"},{abbrev:"erc",name:"ExpressRoute circuit"},{abbrev:"fd",name:"Front Door instance"},{abbrev:"fdfp",name:"Front Door firewall policy"},{abbrev:"lbi",name:"Load balancer (internal)"},{abbrev:"lbe",name:"Load balancer (external)"},{abbrev:"rule",name:"Load balancer rule"},{abbrev:"lgw",name:"Local network gateway"},{abbrev:"ng",name:"NAT gateway"},{abbrev:"nic",name:"Network interface (NIC)"},{abbrev:"nsg",name:"Network security group (NSG)"},{abbrev:"nsgsr",name:"Network security group (NSG) security rules"},{abbrev:"nw",name:"Network Watcher"},{abbrev:"pl",name:"Private Link"},{abbrev:"pip",name:"Public IP address"},{abbrev:"ippre",name:"Public IP address prefix"},{abbrev:"rf",name:"Route filter"},{abbrev:"rt",name:"Route table"},{abbrev:"se",name:"Service endpoint"},{abbrev:"subnet",name:"Subnet",minLength:1,maxLength:80,description:"Alphanumerics, underscores, periods, and hyphens. Start with alphanumeric. End alphanumeric or underscore.",regex:/^[a-zA-Z]$|^[a-zA-Z0-9][a-zA-Z0-9-_.]{0,78}[a-zA-Z0-9_]$/},{abbrev:"traf",name:"Traffic Manager profile"},{abbrev:"udr",name:"User defined route (UDR)"},{abbrev:"vnet",name:"Virtual network"},{abbrev:"peer",name:"Virtual network peering"},{abbrev:"snet",name:"Virtual network subnet"},{abbrev:"vwan",name:"Virtual WAN"},{abbrev:"vpng",name:"VPN Gateway"},{abbrev:"vcn",name:"VPN connection"},{abbrev:"vst",name:"VPN site"},{abbrev:"vgw",name:"Virtual network gateway"},{abbrev:"waf",name:"Web Application Firewall (WAF) policy"},{abbrev:"wafrg",name:"Web Application Firewall (WAF) policy rule group"}]},{category:"Compute and Web",assets:[{abbrev:"ase",name:"App Service environment"},{abbrev:"plan",name:"App Service plan"},{abbrev:"avail",name:"Availability set"},{abbrev:"arcs",name:"Azure Arc enabled server"},{abbrev:"arck",name:"Azure Arc enabled Kubernetes cluster"},{abbrev:"cld",name:"Cloud service"},{abbrev:"des",name:"Disk encryption set"},{abbrev:"func",name:"Function app",minLength:2,maxLength:60},{abbrev:"gal",name:"Gallery"},{abbrev:"osdisk",name:"Managed disk (OS)"},{abbrev:"disk",name:"Managed disk (data)"},{abbrev:"ntf",name:"Notification Hubs"},{abbrev:"ntfns",name:"Notification Hubs namespace"},{abbrev:"snap",name:"Snapshot"},{abbrev:"stapp",name:"Static web app"},{abbrev:"vm",name:"Virtual machine",minLength:1,maxLength:64,description:`Can't use spaces, control characters, or these characters: ~ ! @ # $ % ^ & * ( ) = + _ [ ] { } \\ | ; : . ' " , < > / ?
 Windows VMs can't include period or end with hyphen. 
Linux VMs can't end with period or hyphen.`},{abbrev:"vmss",name:"Virtual machine scale set"},{abbrev:"stvm",name:"VM storage account"},{abbrev:"app",name:"Web app",minLength:2,maxLength:60,description:"Alphanumeric, hyphens and Unicode characters that can be mapped to Punycode. Can't start or end with hyphen."}]},{category:"Containers",assets:[{abbrev:"aks",name:"AKS cluster",regex:/^[a-zA-Z0-9]$|^[a-zA-Z0-9][-_a-zA-Z0-9]{0,61}[a-zA-Z0-9]$/},{abbrev:"cr",name:"Container registry",minLength:5,maxLength:50,regex:/^[a-zA-Z0-9]*$/,description:"Alphanumerics",pattern:"{resource}{workload}{environment}{region}{instance}"},{abbrev:"ci",name:"Container instance",minLength:1,maxLength:63,description:"Lowercase letters, numbers, and hyphens. Can't start or end with hyphen. Consecutive hyphens aren't allowed"},{abbrev:"sf",name:"Service Fabric cluster"}]},{category:"Databases",assets:[{abbrev:"cosmos",name:"Azure Cosmos DB database"},{abbrev:"redis",name:"Azure Cache for Redis instance"},{abbrev:"sql",name:"Azure SQL Database server"},{abbrev:"sqldb",name:"Azure SQL database"},{abbrev:"syn",name:"Azure Synapse Analytics"},{abbrev:"synw",name:"Azure Synapse Analytics Workspaces"},{abbrev:"syndp",name:"Azure Synapse Analytics SQL Dedicated Pool"},{abbrev:"synsp",name:"Azure Synapse Analytics Spark Pool"},{abbrev:"mysql",name:"MySQL database"},{abbrev:"psql",name:"PostgreSQL database"},{abbrev:"sqlstrdb",name:"SQL Server Stretch Database"},{abbrev:"sqlmi",name:"SQL Managed Instance"}]},{category:"Storage",assets:[{abbrev:"st",name:"Storage account",pattern:"{resource}{workload}{environment}{region}{instance}",minLength:3,maxLength:24,regex:/^[a-z0-9]+$/,description:"Lowercase letters and numbers"},{abbrev:"stc",name:"Storage account blob container",pattern:"{workload}",minLength:3,maxLength:63},{abbrev:"ssimp",name:"Azure StorSimple"}]},{category:"AI and Machine Learning",assets:[{abbrev:"srch",name:"AI Search"},{abbrev:"ais",name:"Azure AI services (multi-service account)",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"aif",name:"Azure AI Foundry account",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"proj",name:"Azure AI Foundry account project",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"hub",name:"Azure AI Foundry hub"},{abbrev:"proj",name:"Azure AI Foundry hub project"},{abbrev:"cog",name:"Azure Cognitive Services"},{abbrev:"mlw",name:"Azure Machine Learning workspace"},{abbrev:"avi",name:"Azure AI Video Indexer"},{abbrev:"oai",name:"Azure OpenAI Service",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"bot",name:"Bot service"},{abbrev:"cv",name:"Computer vision",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"cm",name:"Content moderator",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"cs",name:"Content safety",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"cstv",name:"Custom vision (prediction)",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"cstvt",name:"Custom vision (training)",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"di",name:"Document intelligence",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"face",name:"Face API",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"hi",name:"Health Insights",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"ir",name:"Immersive reader",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"lang",name:"Language service",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"spch",name:"Speech service",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/},{abbrev:"trsl",name:"Translator",minLength:2,maxLength:64,regex:/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/}]},{category:"Analytics and IoT",assets:[{abbrev:"as",name:"Azure Analysis Services server"},{abbrev:"dbw",name:"Azure Databricks workspace"},{abbrev:"asa",name:"Azure Stream Analytics"},{abbrev:"dec",name:"Azure Data Explorer cluster"},{abbrev:"dedb",name:"Azure Data Explorer cluster database"},{abbrev:"adf",name:"Azure Data Factory"},{abbrev:"dls",name:"Data Lake Store account"},{abbrev:"dla",name:"Data Lake Analytics account"},{abbrev:"evhns",name:"Event Hubs namespace"},{abbrev:"evh",name:"Event hub"},{abbrev:"evgd",name:"Event Grid domain"},{abbrev:"evgs",name:"Event Grid subscriptions"},{abbrev:"evgt",name:"Event Grid topic"},{abbrev:"hadoop",name:"HDInsight - Hadoop cluster"},{abbrev:"hbase",name:"HDInsight - HBase cluster"},{abbrev:"kafka",name:"HDInsight - Kafka cluster"},{abbrev:"spark",name:"HDInsight - Spark cluster"},{abbrev:"storm",name:"HDInsight - Storm cluster"},{abbrev:"mls",name:"HDInsight - ML Services cluster"},{abbrev:"iot",name:"IoT hub"},{abbrev:"provs",name:"Provisioning services"},{abbrev:"pcert",name:"Provisioning services certificate"},{abbrev:"pbi",name:"Power BI Embedded"},{abbrev:"tsi",name:"Time Series Insights environment"}]},{category:"Azure Virtual Desktop",assets:[{abbrev:"vdpool",name:"Virtual desktop host pool"},{abbrev:"vdag",name:"Virtual desktop application group"},{abbrev:"vdws",name:"Virtual desktop workspace"}]},{category:"Developer tools",assets:[{abbrev:"appcs",name:"App Configuration store"},{abbrev:"sigr",name:"SignalR"}]},{category:"Integration",assets:[{abbrev:"ia",name:"Integration account"},{abbrev:"logic",name:"Logic apps"},{abbrev:"sb",name:"Service Bus"},{abbrev:"sbq",name:"Service Bus queue"},{abbrev:"sbt",name:"Service Bus topic"}]},{category:"Management and governance",assets:[{abbrev:"aa",name:"Automation account"},{abbrev:"appi",name:"Application Insights"},{abbrev:"ag",name:"Azure Monitor action group"},{abbrev:"pview",name:"Azure Purview instance"},{abbrev:"bp",name:"Blueprint"},{abbrev:"bpa",name:"Blueprint assignment"},{abbrev:"kv",name:"Key vault",minLength:3,maxLength:24,regex:/^[a-zA-Z0-9-]{3,24}$/,description:"Alphanumerics and hyphens. Start with letter. End with letter or digit. Can't contain consecutive hyphens."},{abbrev:"log",name:"Log Analytics workspace"}]},{category:"Migration",assets:[{abbrev:"migr",name:"Azure Migrate project"},{abbrev:"dms",name:"Database Migration Service instance"},{abbrev:"rsv",name:"Recovery Services vault"}]},{category:"Deprecated product names",assets:[{abbrev:"sqldw",name:"Azure SQL Data Warehouse"}]}];var t_=Object.create,Wa=Object.defineProperty,s_=Object.getOwnPropertyDescriptor,i_=(i,e)=>(e=Symbol[i])?e:Symbol.for("Symbol."+i),Tn=i=>{throw TypeError(i)},n_=(i,e,t)=>e in i?Wa(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,wc=(i,e)=>Wa(i,"name",{value:e,configurable:!0}),r_=i=>[,,,t_(null)],Bd=["class","method","getter","setter","accessor","field","value","get","set"],qi=i=>i!==void 0&&typeof i!="function"?Tn("Function expected"):i,o_=(i,e,t,s,n)=>({kind:Bd[i],name:e,metadata:s,addInitializer:r=>t._?Tn("Already initialized"):n.push(qi(r||null))}),a_=(i,e)=>n_(e,i_("metadata"),i[3]),Zo=(i,e,t,s)=>{for(var n=0,r=i[e>>1],o=r&&r.length;n<o;n++)e&1?r[n].call(t):s=r[n].call(t,s);return s},Pd=(i,e,t,s,n,r)=>{var o,a,c,l,h,u=e&7,d=!!(e&8),p=!!(e&16),m=u>3?i.length+1:u?d?1:2:0,f=Bd[u+5],g=u>3&&(i[m-1]=[]),w=i[m]||(i[m]=[]),$=u&&(!p&&!d&&(n=n.prototype),u<5&&(u>3||!p)&&s_(u<4?n:{get[t](){return yc(this,r)},set[t](C){return kc(this,r,C)}},t));u?p&&u<4&&wc(r,(u>2?"set ":u>1?"get ":"")+t):wc(n,t);for(var B=s.length-1;B>=0;B--)l=o_(u,t,c={},i[3],w),u&&(l.static=d,l.private=p,h=l.access={has:p?C=>l_(n,C):C=>t in C},u^3&&(h.get=p?C=>(u^1?yc:c_)(C,n,u^4?r:$.get):C=>C[t]),u>2&&(h.set=p?(C,S)=>kc(C,n,S,u^4?r:$.set):(C,S)=>C[t]=S)),a=(0,s[B])(u?u<4?p?r:$[f]:u>4?void 0:{get:$.get,set:$.set}:n,l),c._=1,u^4||a===void 0?qi(a)&&(u>4?g.unshift(a):u?p?r=a:$[f]=a:n=a):typeof a!="object"||a===null?Tn("Object expected"):(qi(o=a.get)&&($.get=o),qi(o=a.set)&&($.set=o),qi(o=a.init)&&g.unshift(o));return u||a_(i,n),$&&Wa(n,t,$),p?u^4?r:$:n},Ua=(i,e,t)=>e.has(i)||Tn("Cannot "+t),l_=(i,e)=>Object(e)!==e?Tn('Cannot use the "in" operator on this value'):i.has(e),yc=(i,e,t)=>(Ua(i,e,"read from private field"),t?t.call(i):e.get(i)),kc=(i,e,t,s)=>(Ua(i,e,"write to private field"),s?s.call(i,t):e.set(i,t),t),c_=(i,e,t)=>(Ua(i,e,"access private method"),t),Ld,Rd,Ai;Rd=[Da(e_)],Ld=[bu({mode:Ei.twoWay})];class yn{constructor(){this.resource=Zo(Ai,8,this),Zo(Ai,11,this),this.selectedTheme=void 0,this.resources=void 0,this.resourceMatcher=(e,t)=>e&&t&&e.abbrev===t.abbrev,this.resources=Ed}}Ai=r_();Pd(Ai,5,"resource",Ld,yn);yn=Pd(Ai,0,"ResourcetypeList",Rd,yn);Zo(Ai,1,yn);const h_=Object.freeze(Object.defineProperty({__proto__:null,get ResourcetypeList(){return yn}},Symbol.toStringTag,{value:"Module"})),Od="region",Jo=`<template>
  <label for="region" class="form-label">Region</label>
  <select class="form-control" id="region" value.bind="name" title="The Azure region where the resource is deployed">

    <optgroup label="Africa">
      <option value="san" title="Johannesburg">South Africa North</option>
      <option value="saw" title="Cape Town">South Africa West</option>
    </optgroup>
    <optgroup label="Asia Pacific">
      <option value="acl" title="Canberra">Australia Central</option>
      <option value="acl2" title="Canberra">Australia Central 2</option>
      <option value="ae" title="New South Wales">Australia East</option>
      <option value="ase" title="Victoria">Australia Southeast</option>
      <option value="inc" title="Pune">Central India</option>
      <option value="ea" title="Hong Kong">East Asia</option>
      <option value="idc" title="Jakarta">Indonesia Central</option>
      <option value="jpe" title="Tokyo, Saitama">Japan East</option>
      <option value="jpw" title="Osaka">Japan West</option>
      <option value="jic" title="Nagpur">Jio India Central</option>
      <option value="jiw" title="Jamnagar">Jio India West</option>
      <option value="krc" title="Seoul">Korea Central</option>
      <option value="krs" title="Busan">Korea South</option>
      <option value="myw" title="Kuala Lumpur">Malaysia West</option>
      <option value="nzn" title="Auckland">New Zealand North</option>
      <option value="sea" title="Singapore">Southeast Asia</option>
      <option value="ins" title="Chennai">South India</option>
      <option value="inw" title="Mumbai">West India</option>
    </optgroup>
    <optgroup label="Canada">
      <option value="cnc" title="Toronto">Canada Central</option>
      <option value="cne" title="Quebec">Canada East</option>
    </optgroup>
    <optgroup label="Europe">
      <option value="frc" title="Paris">France Central</option>
      <option value="frs" title="Marseille">France South</option>
      <option value="gn" title="Berlin">Germany North</option>
      <option value="gwc" title="Frankfurt">Germany West Central</option>
      <option value="itn" title="Milan">Italy North</option>
      <option value="ne" title="Ireland">North Europe</option>
      <option value="nwe" title="Norway">Norway East</option>
      <option value="nww" title="Norway">Norway West</option>
      <option value="plc" title="Warsaw">Poland Central</option>
      <option value="spc" title="Madrid">Spain Central</option>
      <option value="sdc" title="Gvle">Sweden Central</option>
      <option value="szn" title="Zurich">Switzerland North</option>
      <option value="szw" title="Geneva">Switzerland West</option>
      <option value="weu" title="Netherlands">West Europe</option>
    </optgroup>
    <optgroup label="Mexico">
      <option value="mxc" title="Quertaro State">Mexico Central</option>
    </optgroup>
    <optgroup label="Middle East">
      <option value="ilc" title="Israel">Israel Central</option>
      <option value="qac" title="Doha">Qatar Central</option>
      <option value="uac" title="Abu Dhabi">UAE Central</option>
      <option value="uan" title="Dubai">UAE North</option>
    </optgroup>
    <optgroup label="South America">
      <option value="brs" title="Sao Paulo State">Brazil South</option>
      <option value="bse" title="Rio">Brazil Southeast</option>
      <option value="clc" title="Santiago">Chile Central</option>
    </optgroup>
    <optgroup label="UK">
      <option value="uks" title="London">UK South</option>
      <option value="ukw" title="Cardiff">UK West</option>
    </optgroup>
    <optgroup label="US">
      <option value="cus" title="Iowa">Central US</option>
      <option value="ccy" title="">Central US EUAP</option>
      <option value="eus" title="Virginia">East US</option>
      <option value="eus2" title="Virginia">East US 2</option>
      <option value="ecy" title="">East US 2 EUAP</option>
      <option value="ncus" title="Illinois">North Central US</option>
      <option value="scus" title="Texas">South Central US</option>
      <option value="wcus" title="Wyoming">West Central US</option>
      <option value="wus" title="California">West US</option>
      <option value="wus2" title="Washington">West US 2</option>
      <option value="wus3" title="Phoenix">West US 3</option>
    </optgroup>
  </select>
</template>
`,Md=[],Nd={};let fo;function u_(i){fo||(fo=gt.define({name:Od,template:Jo,dependencies:Md,bindables:Nd})),i.register(fo)}const d_=Object.freeze(Object.defineProperty({__proto__:null,bindables:Nd,default:Jo,dependencies:Md,name:Od,register:u_,template:Jo},Symbol.toStringTag,{value:"Module"}));var f_=Object.create,qa=Object.defineProperty,p_=Object.getOwnPropertyDescriptor,g_=(i,e)=>(e=Symbol[i])?e:Symbol.for("Symbol."+i),En=i=>{throw TypeError(i)},m_=(i,e,t)=>e in i?qa(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Cc=(i,e)=>qa(i,"name",{value:e,configurable:!0}),v_=i=>[,,,f_(null)],Dd=["class","method","getter","setter","accessor","field","value","get","set"],Qi=i=>i!==void 0&&typeof i!="function"?En("Function expected"):i,b_=(i,e,t,s,n)=>({kind:Dd[i],name:e,metadata:s,addInitializer:r=>t._?En("Already initialized"):n.push(Qi(r||null))}),__=(i,e)=>m_(e,g_("metadata"),i[3]),Xo=(i,e,t,s)=>{for(var n=0,r=i[e>>1],o=r&&r.length;n<o;n++)e&1?r[n].call(t):s=r[n].call(t,s);return s},Fd=(i,e,t,s,n,r)=>{var o,a,c,l,h,u=e&7,d=!!(e&8),p=!!(e&16),m=u>3?i.length+1:u?d?1:2:0,f=Dd[u+5],g=u>3&&(i[m-1]=[]),w=i[m]||(i[m]=[]),$=u&&(!p&&!d&&(n=n.prototype),u<5&&(u>3||!p)&&p_(u<4?n:{get[t](){return Ac(this,r)},set[t](C){return Sc(this,r,C)}},t));u?p&&u<4&&Cc(r,(u>2?"set ":u>1?"get ":"")+t):Cc(n,t);for(var B=s.length-1;B>=0;B--)l=b_(u,t,c={},i[3],w),u&&(l.static=d,l.private=p,h=l.access={has:p?C=>w_(n,C):C=>t in C},u^3&&(h.get=p?C=>(u^1?Ac:y_)(C,n,u^4?r:$.get):C=>C[t]),u>2&&(h.set=p?(C,S)=>Sc(C,n,S,u^4?r:$.set):(C,S)=>C[t]=S)),a=(0,s[B])(u?u<4?p?r:$[f]:u>4?void 0:{get:$.get,set:$.set}:n,l),c._=1,u^4||a===void 0?Qi(a)&&(u>4?g.unshift(a):u?p?r=a:$[f]=a:n=a):typeof a!="object"||a===null?En("Object expected"):(Qi(o=a.get)&&($.get=o),Qi(o=a.set)&&($.set=o),Qi(o=a.init)&&g.unshift(o));return u||__(i,n),$&&qa(n,t,$),p?u^4?r:$:n},Qa=(i,e,t)=>e.has(i)||En("Cannot "+t),w_=(i,e)=>Object(e)!==e?En('Cannot use the "in" operator on this value'):i.has(e),Ac=(i,e,t)=>(Qa(i,e,"read from private field"),t?t.call(i):e.get(i)),Sc=(i,e,t,s)=>(Qa(i,e,"write to private field"),s?s.call(i,t):e.set(i,t),t),y_=(i,e,t)=>(Qa(i,e,"access private method"),t),Vd,jd,Si;jd=[Da(d_)],Vd=[bu];class kn{constructor(){this.name=Xo(Si,8,this),Xo(Si,11,this)}}Si=v_();Fd(Si,5,"name",Vd,kn);kn=Fd(Si,0,"region",jd,kn);Xo(Si,1,kn);const k_=Object.freeze(Object.defineProperty({__proto__:null,get region(){return kn}},Symbol.toStringTag,{value:"Module"})),zd="my-app",Yo=`
  
  
  

  <div class="container">

    <h1>Azure Resource Namer</h1>

    <p>A simple tool to help you name your Azure resources, based on the <a href="https://docs.microsoft.com/en-us/azure/cloud-adoption-framework/ready/azure-best-practices/resource-naming">Cloud Adoption Framework naming convention</a>.</p>

    <form class="needs-validation">

      <div class="container">
        <div class="row">
          <div class="col">
            <resourcetype-list resource.bind="selectedResource"></resourcetype-list>
          </div>

          <div class="col">

              <label for="workload" class="form-label">Workload</label>
              <input class="form-control" id="workload" type="text" value.bind="workload" title="Name of the application, workload, or service that the resource is a part of" />

          </div>

          <div class="col">
            <label for="environment" class="form-label">Environment</label>
            <input class="form-control" type="text" id="environment" value.bind="environment" title="The stage of the development lifecycle for the workload that the resource supports" />
          </div>

          <div class="col">
            <region name.two-way="region"></region>
          </div>

          <div class="col">
            <label for="instance" class="form-label">Instance</label>
            <input class="form-control" type="number" id="instance" value.bind="instance" min="0" />
          </div>

        </div>
      </div>

      <h2>Resource name</h2>

      <div class="container">

        <div class="input-group has-validation mb-3">
          <input id="resourceName" type="text" class="form-control" value.bind="resourceName"
            aria-multiline="false" readonly="" spellcheck="false" tabindex="-1" aria-readonly="true"
            title="resource name" aria-describedby="validationServer03Feedback" required
            class.bind="{ 'is-valid': resourceNameValid, 'is-invalid': !resourceNameValid }">
          <span class="input-group-text copyTooltip" id="basic-addon2">
            <button type="button" class="btn-clipboard" title="Copy to clipboard" aria-label="Copy to clipboard" click.trigger="copyToClipboard()">
              
              <span show.bind="copied" class="copyTooltiptext">Copied </span>
            </button>
          </span>
          <!-- aria-describedby="validationServer03Feedback" -->
          <div id="validationServer03Feedback" class="invalid-feedback" role="alert"
            show.bind="!resourceNameValid"
            textcontent.bind="validationFeedback"></div>
        </div>
      </div>

    </form>

    <footer>
      Source at <a href="https://github.com/flcdrg/azure-resource-namer">https://github.com/flcdrg/azure-resource-namer</a>
    </footer>
  </div>
`,Hd=[h_,k_],Wd={};let po;function C_(i){po||(po=gt.define({name:zd,template:Yo,dependencies:Hd,bindables:Wd})),i.register(po)}const A_=Object.freeze(Object.defineProperty({__proto__:null,bindables:Wd,default:Yo,dependencies:Hd,name:zd,register:C_,template:Yo},Symbol.toStringTag,{value:"Module"}));var $c={},go,xc;function S_(){return xc||(xc=1,go=function(){let i=this.toString();if(arguments.length){const e=typeof arguments[0],t=e==="string"||e==="number"?Array.prototype.slice.call(arguments):arguments[0];for(const s in t)i=i.replace(new RegExp(`\\{${s}\\}`,"gi"),t[s])}return i}),go}var Ic;function $_(){return Ic||(Ic=1,String.prototype.formatUnicorn=S_()),$c}$_();function x_(i,e,t,s,n,r){const o=i.pattern??"{resource}-{workload}-{environment}-{region}-{instance}",a=n>0?String(n).padStart(3,"0"):"",c=o.formatUnicorn({resource:i.abbrev,workload:e,environment:t,region:s,instance:a}).replace(/\-+/g,"-").replace(/\-+$/,"");return c.length>i?.maxLength?(r.validationFeedback=`Length exceeds maximum ${i.maxLength} characters`,r.resourceNameValid=!1):i.regex&&!i.regex?.test(c)?(r.validationFeedback="Name must only contain: "+(i.description??i.regex.source),r.resourceNameValid=!1):(r.validationFeedback="",r.resourceNameValid=!0),c}var I_=Object.create,Ka=Object.defineProperty,T_=Object.getOwnPropertyDescriptor,E_=(i,e)=>(e=Symbol[i])?e:Symbol.for("Symbol."+i),Ud=i=>{throw TypeError(i)},B_=(i,e,t)=>e in i?Ka(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,P_=(i,e)=>Ka(i,"name",{value:e,configurable:!0}),L_=i=>[,,,I_(null)],R_=["class","method","getter","setter","accessor","field","value","get","set"],qd=i=>i!==void 0&&typeof i!="function"?Ud("Function expected"):i,O_=(i,e,t,s,n)=>({kind:R_[i],name:e,metadata:s,addInitializer:r=>t._?Ud("Already initialized"):n.push(qd(r||null))}),M_=(i,e)=>B_(e,E_("metadata"),i[3]),N_=(i,e,t,s)=>{for(var n=0,r=i[e>>1],o=r&&r.length;n<o;n++)r[n].call(t);return s},D_=(i,e,t,s,n,r)=>{var o,a,c,l=e&7,h=!1,u=0,d=i[u]||(i[u]=[]),p=l&&(n=n.prototype,l<5&&(l>3||!h)&&T_(n,t));P_(n,t);for(var m=s.length-1;m>=0;m--)c=O_(l,t,a={},i[3],d),o=(0,s[m])(n,c),a._=1,qd(o)&&(n=o);return M_(i,n),p&&Ka(n,t,p),h?l^4?r:p:n},Qd,Ga;Qd=[Da(A_)];class pr{constructor(){this.thingy=void 0,this.lastName=void 0,this.instance=void 0,this.environment=void 0,this.region=void 0,this.selectedResource=void 0,this.message=void 0,this.workload=void 0,this.copied=void 0,this.resourceNameValid=void 0,this.validationFeedback=void 0,this.resources=void 0,this.copied=!1,this.instance=1,this.environment="prod",this.workload="myapp",this.message="msg",this.region="westus",this.resources=Ed,this.selectedResource=this.resources?.find(e=>e.category==="General")?.assets.find(e=>e.abbrev==="rg")??{abbrev:"rg",name:"Resource group"},this.thingy="ah",this.resourceNameValid=!0}get resourceName(){return x_(this.selectedResource,this.workload,this.environment,this.region,this.instance,this)}copyToClipboard(){navigator.clipboard.writeText(this.resourceName).then(e=>{this.copied=!0,setTimeout(()=>this.copied=!1,2e3)})}}Ga=L_();pr=D_(Ga,0,"MyApp",Qd,pr);N_(Ga,1,pr);dn.app(pr).start();
